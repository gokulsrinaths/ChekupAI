/*! For license information please see 878.dcdb4403.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkchekup_ai=self.webpackChunkchekup_ai||[]).push([[878],{878:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(43),l=t(938),i=t(12),n=t(87),c=t(614),r=t(680),x=t(459),d=t(646);const o=(0,t(784).A)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var m=t(574),h=t(579);const u=e=>{var s,t;let{onViewCase:u,sharedFiles:p=[]}=e;const[g,y]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[j,N]=(0,a.useState)([]),[v,w]=(0,a.useState)("all"),[k,C]=(0,a.useState)(null),[A,S]=(0,a.useState)(!1),[T,L]=(0,a.useState)([]),[z,D]=(0,a.useState)(""),F=(0,a.useMemo)(()=>p.filter(e=>"shared"===e.status||"earned"===e.status).map((e,s)=>({id:e.id||s,condition:e.name,type:e.type,gender:e.gender||(s%2===0?"Male":"Female"),age:e.age||28+s%30,mriThumbnail:e.icon||"\ud83d\udcc4",description:"".concat(e.type," \u2022 ").concat(e.size||"\u2014"," \u2022 ").concat(e.date||""),shareTarget:e.shareTarget,fullData:e})),[p]);a.useEffect(()=>{N(F)},[F]);const P=e=>{y(e),f(!0),setTimeout(()=>{const s=F,t=s.filter(s=>s.condition.toLowerCase().includes(e.toLowerCase())||s.description.toLowerCase().includes(e.toLowerCase())),a="all"===v?t:t.filter(e=>e.gender.toLowerCase()===v);N(e?a:"all"===v?s:s.filter(e=>e.gender.toLowerCase()===v)),f(!1)},500)},I=()=>{if(!z.trim())return;const e={type:"user",text:z};L(s=>[...s,e]),setTimeout(()=>{var e;const s={type:"ai",text:"Based on this ".concat(null===k||void 0===k?void 0:k.type," file, I can see patterns that suggest ").concat(null===k||void 0===k?void 0:k.condition,". The data shows typical characteristics for a ").concat(null===k||void 0===k?void 0:k.age,"-year-old ").concat(null===k||void 0===k||null===(e=k.gender)||void 0===e?void 0:e.toLowerCase(),". Would you like me to analyze specific aspects?")};L(e=>[...e,s])},1e3),D("")},M=(0,a.useMemo)(()=>{const e=j.length;if(0===e)return'No results. Try broader terms (e.g., "hypertension").';const s=j.filter(e=>"Female"===e.gender).length;return"AI tip: ".concat(s,"/").concat(e," matches are female; consider age 40\u201360 for better similarity.")},[j]);return(0,h.jsxs)("div",{className:"min-h-screen bg-white pb-24 max-w-mobile mx-auto",children:[(0,h.jsxs)("div",{className:"px-4 py-4",children:[(0,h.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Research Database"}),(0,h.jsx)("p",{className:"text-[10px] text-gray-500 mt-1",children:"No raw files are shared here. Views are simulated."}),(0,h.jsx)("p",{className:"text-xs text-gray-500",children:"Browse patient-shared records for research purposes"})]}),(0,h.jsxs)("div",{className:"px-4 mb-4",children:[(0,h.jsx)("input",{type:"text",value:g,onChange:e=>P(e.target.value),placeholder:"Search cases...",className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),(0,h.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,h.jsx)("button",{onClick:()=>{w("all"),P(g)},className:"px-2 py-1 rounded text-xs ".concat("all"===v?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:"All"}),(0,h.jsx)("button",{onClick:()=>{w("female"),P(g)},className:"px-2 py-1 rounded text-xs ".concat("female"===v?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:"Female"}),(0,h.jsx)("button",{onClick:()=>{w("male"),P(g)},className:"px-2 py-1 rounded text-xs ".concat("male"===v?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:"Male"})]}),(0,h.jsxs)("span",{className:"text-xs text-gray-500",children:[j.length," matches"]})]})]}),(0,h.jsx)("div",{className:"px-4",children:(0,h.jsx)("div",{className:"space-y-2",children:j.map((e,s)=>(0,h.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,h.jsx)("span",{className:"text-lg flex-shrink-0",children:e.mriThumbnail}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsx)("p",{className:"font-medium text-gray-900 text-sm truncate",children:e.condition}),(0,h.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.description}),e.shareTarget&&(0,h.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-gray-100 text-gray-600 inline-block mt-1",children:["Shared to ",e.shareTarget]})]})]}),(0,h.jsxs)("button",{onClick:()=>(e=>{C(e),null===u||void 0===u||u(e)})(e),className:"flex items-center space-x-1 px-2 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 transition-colors flex-shrink-0",children:[(0,h.jsx)(n.A,{className:"w-3 h-3"}),(0,h.jsx)("span",{className:"hidden sm:inline",children:"View"})]})]},e.id))})}),(0,h.jsx)("div",{className:"px-4 mt-4",children:(0,h.jsx)("div",{className:"text-xs text-blue-700 bg-blue-50 rounded-lg p-2",children:M})}),(0,h.jsx)(l.N,{children:k&&(0,h.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,h.jsxs)(i.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-sm max-h-[80vh] overflow-hidden",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold",children:"File Preview"}),(0,h.jsx)("button",{onClick:()=>{C(null),S(!1),L([])},className:"p-1 hover:bg-gray-100 rounded",children:(0,h.jsx)(c.A,{className:"w-5 h-5"})})]}),(0,h.jsxs)("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,h.jsx)("span",{className:"text-2xl",children:k.mriThumbnail})}),(0,h.jsx)("h4",{className:"font-semibold text-gray-900",children:k.condition})]}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,h.jsx)(r.A,{className:"w-4 h-4 text-gray-500"}),(0,h.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,h.jsx)("span",{className:"font-medium",children:k.type})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,h.jsx)(x.A,{className:"w-4 h-4 text-gray-500"}),(0,h.jsx)("span",{className:"text-gray-600",children:"Patient:"}),(0,h.jsxs)("span",{className:"font-medium",children:[k.age,"y, ",k.gender]})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,h.jsx)(d.A,{className:"w-4 h-4 text-gray-500"}),(0,h.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,h.jsx)("span",{className:"font-medium",children:(null===(s=k.fullData)||void 0===s?void 0:s.date)||"Recent"})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,h.jsx)(o,{className:"w-4 h-4 text-gray-500"}),(0,h.jsx)("span",{className:"text-gray-600",children:"Size:"}),(0,h.jsx)("span",{className:"font-medium",children:(null===(t=k.fullData)||void 0===t?void 0:t.size)||"\u2014"})]})]}),(0,h.jsx)("div",{className:"pt-4 border-t",children:(0,h.jsxs)("button",{onClick:()=>S(!A),className:"w-full flex items-center justify-center space-x-2 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,h.jsx)(m.A,{className:"w-4 h-4"}),(0,h.jsx)("span",{children:A?"Hide":"Ask AI about this file"})]})}),A&&(0,h.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,h.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"AI Assistant"}),(0,h.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 max-h-32 overflow-y-auto",children:0===T.length?(0,h.jsx)("p",{className:"text-sm text-gray-500",children:"Ask me anything about this file..."}):T.map((e,s)=>(0,h.jsx)("div",{className:"mb-2 ".concat("user"===e.type?"text-right":"text-left"),children:(0,h.jsx)("div",{className:"inline-block p-2 rounded text-xs ".concat("user"===e.type?"bg-blue-600 text-white":"bg-white text-gray-800"),children:e.text})},s))}),(0,h.jsxs)("div",{className:"flex space-x-2",children:[(0,h.jsx)("input",{type:"text",value:z,onChange:e=>D(e.target.value),placeholder:"Ask about this file...",className:"flex-1 px-3 py-2 text-xs border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&I()}),(0,h.jsx)("button",{onClick:I,className:"px-3 py-2 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700",children:"Send"})]})]})]})]})})})]})}}}]);
//# sourceMappingURL=878.dcdb4403.chunk.js.map