{"version":3,"file":"static/js/271.2b552352.chunk.js","mappings":"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","sources":["components/DoctorViewScreen.js"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nconst DoctorViewScreen = ({ onViewCase, sharedFiles = [] }) => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showPaymentAnimation, setShowPaymentAnimation] = useState(false);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [filter, setFilter] = useState('all');\r\n\r\n  // Transform shared files into research items for doctors (no raw content)\r\n  const cases = useMemo(() => {\r\n    return sharedFiles\r\n      .filter(f => f.status === 'shared' || f.status === 'earned')\r\n      .map((f, idx) => ({\r\n        id: f.id || idx,\r\n        condition: f.name,\r\n        type: f.type,\r\n        gender: f.gender || (idx % 2 === 0 ? 'Male' : 'Female'),\r\n        age: f.age || (28 + (idx % 30)),\r\n        mriThumbnail: f.icon || 'ðŸ“„',\r\n        price: 10 + (idx % 6),\r\n        description: `${f.type} â€¢ ${f.size || 'â€”'} â€¢ ${f.date || ''}`,\r\n        shareTarget: f.shareTarget\r\n      }));\r\n  }, [sharedFiles]);\r\n\r\n  // Initialize search results with current cases\r\n  React.useEffect(() => {\r\n    setSearchResults(cases);\r\n  }, [cases]);\r\n\r\n  const handleSearch = (query) => {\r\n    setSearchQuery(query);\r\n    setIsSearching(true);\r\n    \r\n    // Simulate search delay\r\n    setTimeout(() => {\r\n      const base = cases;\r\n      const filtered = base.filter(caseData => \r\n        caseData.condition.toLowerCase().includes(query.toLowerCase()) ||\r\n        caseData.description.toLowerCase().includes(query.toLowerCase())\r\n      );\r\n      const byFilter = (filter === 'all') ? filtered : filtered.filter(c => c.gender.toLowerCase() === filter);\r\n      setSearchResults(query ? byFilter : (filter==='all' ? base : base.filter(c=>c.gender.toLowerCase()===filter)));\r\n      setIsSearching(false);\r\n    }, 500);\r\n  };\r\n\r\n  const handleViewCase = (caseData) => {\r\n    // Animate balance increase\r\n    setShowPaymentAnimation(true);\r\n    onViewCase?.(caseData);\r\n    \r\n    setTimeout(() => setShowPaymentAnimation(false), 2000);\r\n  };\r\n\r\n  const aiTip = useMemo(() => {\r\n    const count = searchResults.length;\r\n    if (count === 0) return 'No results. Try broader terms (e.g., â€œhypertensionâ€).';\r\n    const female = searchResults.filter(c=>c.gender==='Female').length;\r\n    return `AI tip: ${female}/${count} matches are female; consider age 40â€“60 for better similarity.`;\r\n  }, [searchResults]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white pb-24\">\r\n      {/* Header */}\r\n      <div className=\"px-6 py-6\">\r\n        <h1 className=\"text-xl font-semibold text-gray-900\">Research</h1>\r\n        <p className=\"text-[10px] text-gray-500 mt-1\">No raw files are shared here. Views are simulated.</p>\r\n        <p className=\"text-xs text-gray-500\">Browse patient-shared records. Ask or filter to find similar cases</p>\r\n      </div>\r\n\r\n      {/* Search Bar */}\r\n      <div className=\"px-6 mb-4\">\r\n        <input\r\n          type=\"text\"\r\n          value={searchQuery}\r\n          onChange={(e) => handleSearch(e.target.value)}\r\n          placeholder=\"Search cases...\"\r\n          className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n        />\r\n        <div className=\"flex items-center space-x-2 mt-2 text-xs\">\r\n          <button onClick={()=>{ setFilter('all'); handleSearch(searchQuery); }} className={`px-2 py-1 rounded ${filter==='all'?'bg-blue-100 text-blue-700':'bg-gray-100 text-gray-600'}`}>All</button>\r\n          <button onClick={()=>{ setFilter('female'); handleSearch(searchQuery); }} className={`px-2 py-1 rounded ${filter==='female'?'bg-blue-100 text-blue-700':'bg-gray-100 text-gray-600'}`}>Female</button>\r\n          <button onClick={()=>{ setFilter('male'); handleSearch(searchQuery); }} className={`px-2 py-1 rounded ${filter==='male'?'bg-blue-100 text-blue-700':'bg-gray-100 text-gray-600'}`}>Male</button>\r\n          <span className=\"ml-auto text-gray-500\">{searchResults.length} matches</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Results */}\r\n      <div className=\"px-6\">\r\n        <div className=\"space-y-2\">\r\n          {searchResults.map((caseData, index) => (\r\n            <div\r\n              key={caseData.id}\r\n              className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-3\">\r\n                <span className=\"text-lg\">{caseData.mriThumbnail}</span>\r\n                <div>\r\n                  <p className=\"font-medium text-gray-900\">{caseData.condition}</p>\r\n                  <p className=\"text-sm text-gray-600\">{caseData.description}</p>\r\n                  {caseData.shareTarget && (\r\n                    <span className=\"text-[10px] px-2 py-0.5 rounded bg-gray-100 text-gray-600\">Shared to {caseData.shareTarget}</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-sm font-semibold text-blue-600\">${caseData.price}</span>\r\n                <button\r\n                  onClick={() => handleViewCase(caseData)}\r\n                  className=\"text-xs text-blue-600 hover:text-blue-800\"\r\n                >\r\n                  View\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* AI Tip */}\r\n      <div className=\"px-6 mt-4\">\r\n        <div className=\"text-xs text-blue-700 bg-blue-50 rounded-lg p-2\">\r\n          {aiTip}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Payment Animation */}\r\n      <AnimatePresence>\r\n        {showPaymentAnimation && (\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.8 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            exit={{ opacity: 0, scale: 0.8 }}\r\n            className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n          >\r\n            <div className=\"bg-white rounded-2xl p-8 shadow-2xl border-4 border-money-green\">\r\n              <motion.div\r\n                initial={{ scale: 0 }}\r\n                animate={{ scale: 1 }}\r\n                transition={{ delay: 0.2, type: \"spring\", stiffness: 200 }}\r\n                className=\"text-center\"\r\n              >\r\n                <div className=\"w-16 h-16 bg-money-green rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                  <span className=\"text-2xl text-white\">ðŸ’°</span>\r\n                </div>\r\n                <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Payment Received!</h3>\r\n                <p className=\"text-money-green text-2xl font-bold\">+$1.00</p>\r\n                <p className=\"text-sm text-gray-600 mt-2\">Added to your balance</p>\r\n              </motion.div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Stats */}\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 1, duration: 0.6 }}\r\n        className=\"px-6 mt-6\"\r\n      >\r\n        <div className=\"bg-white rounded-xl p-4 shadow-sm border border-gray-100\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Your Balance</p>\r\n              <p className=\"text-2xl font-bold text-money-green\">$â€”</p>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-sm text-gray-600\">Research Earnings</p>\r\n              <p className=\"text-lg font-semibold text-trust-blue\">+$3.00</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoctorViewScreen;"],"names":["_ref","onViewCase","sharedFiles","searchQuery","setSearchQuery","useState","showPaymentAnimation","setShowPaymentAnimation","isSearching","setIsSearching","searchResults","setSearchResults","filter","setFilter","cases","useMemo","f","status","map","idx","id","condition","name","type","gender","age","mriThumbnail","icon","price","description","concat","size","date","shareTarget","React","handleSearch","query","setTimeout","base","filtered","caseData","toLowerCase","includes","byFilter","c","aiTip","count","length","female","_jsxs","className","children","_jsx","value","onChange","e","target","placeholder","onClick","index","handleViewCase","AnimatePresence","motion","div","initial","opacity","scale","animate","exit","transition","delay","stiffness","y","duration"],"sourceRoot":""}