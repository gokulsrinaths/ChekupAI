/*! For license information please see main.affa1558.js.LICENSE.txt */
(()=>{"use strict";var e={12:(e,t,n)=>{n.d(t,{P:()=>oi});var r=n(555),a=n(43);const s=(0,a.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),i=(0,a.createContext)({});var o=n(674),l=n(293);const c=(0,a.createContext)({strict:!1}),u=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),d="data-"+u("framerAppearId");function h(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function f(e){return"string"===typeof e||Array.isArray(e)}function p(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const m=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g=["initial",...m];function y(e){return p(e.animate)||g.some(t=>f(e[t]))}function v(e){return Boolean(y(e)||e.variants)}function x(e){const{initial:t,animate:n}=function(e,t){if(y(e)){const{initial:t,animate:n}=e;return{initial:!1===t||f(t)?t:void 0,animate:f(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(i));return(0,a.useMemo)(()=>({initial:t,animate:n}),[b(t),b(n)])}function b(e){return Array.isArray(e)?e.join(" "):e}const w={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},k={};for(const ci in w)k[ci]={isEnabled:e=>w[ci].some(t=>!!e[t])};var j=n(735),S=n(190);const _=(0,a.createContext)({}),N=Symbol.for("motionComponentSymbol");function P(e){let{preloadedFeatures:t,createVisualElement:n,useRender:u,useVisualState:f,Component:p}=e;t&&function(e){for(const t in e)k[t]=(0,r.A)((0,r.A)({},k[t]),e[t])}(t);const m=(0,a.forwardRef)(function(e,m){let g;const y=(0,r.A)((0,r.A)((0,r.A)({},(0,a.useContext)(s)),e),{},{layoutId:C(e)}),{isStatic:v}=y,b=x(e),w=f(e,v);if(!v&&j.B){b.visualElement=function(e,t,n,r){const{visualElement:u}=(0,a.useContext)(i),h=(0,a.useContext)(c),f=(0,a.useContext)(o.t),p=(0,a.useContext)(s).reducedMotion,m=(0,a.useRef)();r=r||h.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:u,props:n,presenceContext:f,blockInitialAnimation:!!f&&!1===f.initial,reducedMotionConfig:p}));const g=m.current;(0,a.useInsertionEffect)(()=>{g&&g.update(n,f)});const y=(0,a.useRef)(Boolean(n[d]&&!window.HandoffComplete));return(0,l.E)(()=>{g&&(g.render(),y.current&&g.animationState&&g.animationState.animateChanges())}),(0,a.useEffect)(()=>{g&&(g.updateFeatures(),!y.current&&g.animationState&&g.animationState.animateChanges(),y.current&&(y.current=!1,window.HandoffComplete=!0))}),g}(p,w,y,n);const e=(0,a.useContext)(_),r=(0,a.useContext)(c).strict;b.visualElement&&(g=b.visualElement.loadFeatures(y,r,t,e))}return a.createElement(i.Provider,{value:b},g&&b.visualElement?a.createElement(g,(0,r.A)({visualElement:b.visualElement},y)):null,u(p,e,function(e,t,n){return(0,a.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):h(n)&&(n.current=r))},[t])}(w,b.visualElement,m),w,v,b.visualElement))});return m[N]=p,m}function C(e){let{layoutId:t}=e;const n=(0,a.useContext)(S.L).id;return n&&void 0!==t?n+"-"+t:t}function E(e){function t(t){return P(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const T=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A(e){return"string"===typeof e&&!e.includes("-")&&!!(T.indexOf(e)>-1||/[A-Z]/.test(e))}const R={};const D=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],O=new Set(D);function I(e,t){let{layout:n,layoutId:r}=t;return O.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!R[e]||"opacity"===e)}const L=e=>Boolean(e&&e.getVelocity),M={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U=D.length;const F=e=>t=>"string"===typeof t&&t.startsWith(e),z=F("--"),V=F("var(--"),B=(e,t)=>t&&"number"===typeof e?t.transform(e):e,W=(e,t,n)=>Math.min(Math.max(n,e),t),H={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},q=(0,r.A)((0,r.A)({},H),{},{transform:e=>W(0,1,e)}),G=(0,r.A)((0,r.A)({},H),{},{default:1}),K=e=>Math.round(1e5*e)/1e5,$=/(-)?([\d]*\.?[\d])+/g,Y=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Q=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function J(e){return"string"===typeof e}const X=e=>({test:t=>J(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Z=X("deg"),ee=X("%"),te=X("px"),ne=X("vh"),re=X("vw"),ae=(0,r.A)((0,r.A)({},ee),{},{parse:e=>ee.parse(e)/100,transform:e=>ee.transform(100*e)}),se=(0,r.A)((0,r.A)({},H),{},{transform:Math.round}),ie={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:Z,rotateX:Z,rotateY:Z,rotateZ:Z,scale:G,scaleX:G,scaleY:G,scaleZ:G,skew:Z,skewX:Z,skewY:Z,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:q,originX:ae,originY:ae,originZ:te,zIndex:se,fillOpacity:q,strokeOpacity:q,numOctaves:se};function oe(e,t,n,r){const{style:a,vars:s,transform:i,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(z(d)){s[d]=e;continue}const n=ie[d],r=B(e,n);if(O.has(d)){if(l=!0,i[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=r):a[d]=r}if(t.transform||(l||r?a.transform=function(e,t,n,r){let{enableHardwareAcceleration:a=!0,allowTransformNone:s=!0}=t,i="";for(let o=0;o<U;o++){const t=D[o];void 0!==e[t]&&(i+="".concat(M[t]||t,"(").concat(e[t],") "))}return a&&!e.z&&(i+="translateZ(0)"),i=i.trim(),r?i=r(e,n?"":i):s&&n&&(i="none"),i}(e.transform,n,u,r):a.transform&&(a.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;a.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const le=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ce(e,t,n){for(const r in t)L(t[r])||I(r,n)||(e[r]=t[r])}function ue(e,t,n){const r={};return ce(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,a.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return oe(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function de(e,t,n){const r={},a=ue(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const he=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fe(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||he.has(e)}let pe=e=>!fe(e);try{(me=require("@emotion/is-prop-valid").default)&&(pe=e=>e.startsWith("on")?!fe(e):me(e))}catch(li){}var me;var ge=n(986);function ye(e,t,n){return"string"===typeof e?e:te.transform(t+n*e)}const ve={offset:"stroke-dashoffset",array:"stroke-dasharray"},xe={offset:"strokeDashoffset",array:"strokeDasharray"};const be=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function we(e,t,n,r,a){let{attrX:s,attrY:i,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(oe(e,(0,ge.A)(t,be),n,a),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=ye(t,e.x,e.width),a=ye(n,e.y,e.height);return"".concat(r," ").concat(a)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(f.x=s),void 0!==i&&(f.y=i),void 0!==o&&(f.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=a?ve:xe;e[s.offset]=te.transform(-r);const i=te.transform(t),o=te.transform(n);e[s.array]="".concat(i," ").concat(o)}(f,u,d,h,!1)}const ke=()=>(0,r.A)((0,r.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),je=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Se(e,t,n,s){const i=(0,a.useMemo)(()=>{const n=ke();return we(n,t,{enableHardwareAcceleration:!1},je(s),e.transformTemplate),(0,r.A)((0,r.A)({},n.attrs),{},{style:(0,r.A)({},n.style)})},[t]);if(e.style){const t={};ce(t,e.style,e),i.style=(0,r.A)((0,r.A)({},t),i.style)}return i}function _e(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,s,i,o)=>{let{latestValues:l}=i;const c=(A(t)?Se:de)(n,l,o,t),u=function(e,t,n){const r={};for(const a in e)"values"===a&&"object"===typeof e.values||(pe(a)||!0===n&&fe(a)||!t&&!fe(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(n,"string"===typeof t,e),d=(0,r.A)((0,r.A)((0,r.A)({},u),c),{},{ref:s}),{children:h}=n,f=(0,a.useMemo)(()=>L(h)?h.get():h,[h]);return(0,a.createElement)(t,(0,r.A)((0,r.A)({},d),{},{children:f}))}}function Ne(e,t,n,r){let{style:a,vars:s}=t;Object.assign(e.style,a,r&&r.getProjectionStyles(n));for(const i in s)e.style.setProperty(i,s[i])}const Pe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ce(e,t,n,r){Ne(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Pe.has(a)?a:u(a),t.attrs[a])}function Ee(e,t){const{style:n}=e,r={};for(const a in n)(L(n[a])||t.style&&L(t.style[a])||I(a,e))&&(r[a]=n[a]);return r}function Te(e,t){const n=Ee(e,t);for(const r in e)if(L(e[r])||L(t[r])){n[-1!==D.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Ae(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,a)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,a)),t}var Re=n(930);const De=e=>Array.isArray(e),Oe=e=>De(e)?e[e.length-1]||0:e;function Ie(e){const t=L(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const Le=["transitionEnd","transition"];const Me=e=>(t,n)=>{const r=(0,a.useContext)(i),s=(0,a.useContext)(o.t),l=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:a,createRenderState:s,onMount:i}=e;const o={latestValues:Ue(t,n,r,a),renderState:s()};return i&&(o.mount=e=>i(t,e,o)),o}(e,t,r,s);return n?l():(0,Re.M)(l)};function Ue(e,t,n,r){const a={},s=r(e,{});for(const h in s)a[h]=Ie(s[h]);let{initial:i,animate:o}=e;const l=y(e),c=v(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===i;const d=u?o:i;if(d&&"boolean"!==typeof d&&!p(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const n=Ae(e,t);if(!n)return;const{transitionEnd:r,transition:s}=n,i=(0,ge.A)(n,Le);for(const e in i){let t=i[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(a[e]=t)}for(const e in r)a[e]=r[e]})}return a}var Fe=n(65);const ze={useVisualState:Me({scrapeMotionValuesFromProps:Te,createRenderState:ke,onMount:(e,t,n)=>{let{renderState:r,latestValues:a}=n;Fe.Gt.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}}),Fe.Gt.render(()=>{we(r,a,{enableHardwareAcceleration:!1},je(t.tagName),e.transformTemplate),Ce(t,r)})}})},Ve={useVisualState:Me({scrapeMotionValuesFromProps:Ee,createRenderState:le})};function Be(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const We=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function He(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function qe(e,t,n,r){return Be(e,t,(e=>t=>We(t)&&e(t,He(t)))(n),r)}const Ge=(e,t)=>n=>t(e(n)),Ke=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Ge)};function $e(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Ye=$e("dragHorizontal"),Qe=$e("dragVertical");function Je(e){let t=!1;if("y"===e)t=Qe();else if("x"===e)t=Ye();else{const e=Ye(),n=Qe();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Xe(){const e=Je(!0);return!e||(e(),!1)}class Ze{constructor(e){this.isMounted=!1,this.node=e}update(){}}function et(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return qe(e.current,n,(n,a)=>{if("touch"===n.pointerType||Xe())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Fe.Gt.update(()=>s[r](n,a))},{passive:!e.getProps()[r]})}const tt=(e,t)=>!!t&&(e===t||tt(e,t.parentElement));var nt=n(892);function rt(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,He(n))}const at=["root"],st=new WeakMap,it=new WeakMap,ot=e=>{const t=st.get(e.target);t&&t(e)},lt=e=>{e.forEach(ot)};function ct(e,t,n){const a=function(e){let{root:t}=e,n=(0,ge.A)(e,at);const a=t||document;it.has(a)||it.set(a,{});const s=it.get(a),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(lt,(0,r.A)({root:t},n))),s[i]}(t);return st.set(e,n),a.observe(e),()=>{st.delete(e),a.unobserve(e)}}const ut={some:0,all:1};const dt={inView:{Feature:class extends Ze{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:ut[r]};return ct(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Ze{constructor(){super(...arguments),this.removeStartListeners=nt.l,this.removeEndListeners=nt.l,this.removeAccessibleListeners=nt.l,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=qe(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:a}=this.node.getProps();Fe.Gt.update(()=>{a||tt(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),a=qe(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ke(r,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Be(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Be(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&rt("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&Fe.Gt.update(()=>n(e,t))})}),rt("down",(e,t)=>{this.startPress(e,t)})}),t=Be(this.node.current,"blur",()=>{this.isPressing&&rt("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=Ke(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Fe.Gt.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Xe()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Fe.Gt.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=qe(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Be(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ke(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Ze{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ke(Be(this.node.current,"focus",()=>this.onFocus()),Be(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Ze{mount(){this.unmount=Ke(et(this.node,!0),et(this.node,!1))}unmount(){}}}};function ht(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ft(e,t,n){const r=e.getProps();return Ae(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}var pt=n(129);const mt=e=>1e3*e,gt=e=>e/1e3,yt=!1,vt=e=>Array.isArray(e)&&"number"===typeof e[0];function xt(e){return Boolean(!e||"string"===typeof e&&wt[e]||vt(e)||Array.isArray(e)&&e.every(xt))}const bt=e=>{let[t,n,r,a]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(a,")")},wt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bt([0,.65,.55,1]),circOut:bt([.55,0,1,.45]),backIn:bt([.31,.01,.66,-.59]),backOut:bt([.33,1.53,.69,.99])};function kt(e){if(e)return vt(e)?bt(e):Array.isArray(e)?e.map(kt):wt[e]}const jt=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function St(e,t,n,r){if(e===t&&n===r)return nt.l;const a=t=>function(e,t,n,r,a){let s,i,o=0;do{i=t+(n-t)/2,s=jt(i,r,a)-e,s>0?n=i:t=i}while(Math.abs(s)>1e-7&&++o<12);return i}(t,0,1,e,n);return e=>0===e||1===e?e:jt(a(e),t,r)}const _t=St(.42,0,1,1),Nt=St(0,0,.58,1),Pt=St(.42,0,.58,1),Ct=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Et=e=>t=>1-e(1-t),Tt=e=>1-Math.sin(Math.acos(e)),At=Et(Tt),Rt=Ct(Tt),Dt=St(.33,1.53,.69,.99),Ot=Et(Dt),It=Ct(Ot),Lt={linear:nt.l,easeIn:_t,easeInOut:Pt,easeOut:Nt,circIn:Tt,circInOut:Rt,circOut:At,backIn:Ot,backInOut:It,backOut:Dt,anticipate:e=>(e*=2)<1?.5*Ot(e):.5*(2-Math.pow(2,-10*(e-1)))},Mt=e=>{if(Array.isArray(e)){(0,pt.V)(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,a]=e;return St(t,n,r,a)}return"string"===typeof e?((0,pt.V)(void 0!==Lt[e],"Invalid easing type '".concat(e,"'")),Lt[e]):e},Ut=(e,t)=>n=>Boolean(J(n)&&Q.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ft=(e,t,n)=>r=>{if(!J(r))return r;const[a,s,i,o]=r.match($);return{[e]:parseFloat(a),[t]:parseFloat(s),[n]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},zt=(0,r.A)((0,r.A)({},H),{},{transform:e=>Math.round((e=>W(0,255,e))(e))}),Vt={test:Ut("rgb","red"),parse:Ft("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:a=1}=e;return"rgba("+zt.transform(t)+", "+zt.transform(n)+", "+zt.transform(r)+", "+K(q.transform(a))+")"}};const Bt={test:Ut("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:Vt.transform},Wt={test:Ut("hsl","hue"),parse:Ft("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:a=1}=e;return"hsla("+Math.round(t)+", "+ee.transform(K(n))+", "+ee.transform(K(r))+", "+K(q.transform(a))+")"}},Ht={test:e=>Vt.test(e)||Bt.test(e)||Wt.test(e),parse:e=>Vt.test(e)?Vt.parse(e):Wt.test(e)?Wt.parse(e):Bt.parse(e),transform:e=>J(e)?e:e.hasOwnProperty("red")?Vt.transform(e):Wt.transform(e)},qt=(e,t,n)=>-n*e+n*t+e;function Gt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Kt=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},$t=[Bt,Vt,Wt];function Yt(e){const t=(n=e,$t.find(e=>e.test(n)));var n;(0,pt.V)(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===Wt&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:a}=e;t/=360,n/=100,r/=100;let s=0,i=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,a=2*r-e;s=Gt(a,e,t+1/3),i=Gt(a,e,t),o=Gt(a,e,t-1/3)}else s=i=o=r;return{red:Math.round(255*s),green:Math.round(255*i),blue:Math.round(255*o),alpha:a}}(r)),r}const Qt=(e,t)=>{const n=Yt(e),a=Yt(t),s=(0,r.A)({},n);return e=>(s.red=Kt(n.red,a.red,e),s.green=Kt(n.green,a.green,e),s.blue=Kt(n.blue,a.blue,e),s.alpha=qt(n.alpha,a.alpha,e),Vt.transform(s))};const Jt={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:nt.l},Xt={regex:Y,countKey:"Colors",token:"${c}",parse:Ht.parse},Zt={regex:$,countKey:"Numbers",token:"${n}",parse:H.parse};function en(e,t){let{regex:n,countKey:r,token:a,parse:s}=t;const i=e.tokenised.match(n);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(n,a),e.values.push(...i.map(s)))}function tn(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&en(n,Jt),en(n,Xt),en(n,Zt),n}function nn(e){return tn(e).values}function rn(e){const{values:t,numColors:n,numVars:r,tokenised:a}=tn(e),s=t.length;return e=>{let t=a;for(let a=0;a<s;a++)t=a<r?t.replace(Jt.token,e[a]):a<r+n?t.replace(Xt.token,Ht.transform(e[a])):t.replace(Zt.token,K(e[a]));return t}}const an=e=>"number"===typeof e?0:e;const sn={test:function(e){var t,n;return isNaN(e)&&J(e)&&((null===(t=e.match($))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Y))||void 0===n?void 0:n.length)||0)>0},parse:nn,createTransformer:rn,getAnimatableNone:function(e){const t=nn(e);return rn(e)(t.map(an))}},on=(e,t)=>n=>"".concat(n>0?t:e);function ln(e,t){return"number"===typeof e?n=>qt(e,t,n):Ht.test(e)?Qt(e,t):e.startsWith("var(")?on(e,t):dn(e,t)}const cn=(e,t)=>{const n=[...e],r=n.length,a=e.map((e,n)=>ln(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}},un=(e,t)=>{const n=(0,r.A)((0,r.A)({},e),t),a={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(a[r]=ln(e[r],t[r]));return e=>{for(const t in a)n[t]=a[t](e);return n}},dn=(e,t)=>{const n=sn.createTransformer(t),r=tn(e),a=tn(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?Ke(cn(r.values,a.values),n):((0,pt.$)(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),on(e,t))},hn=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},fn=(e,t)=>n=>qt(e,t,n);function pn(e,t,n){const r=[],a=n||("number"===typeof(s=e[0])?fn:"string"===typeof s?Ht.test(s)?Qt:dn:Array.isArray(s)?cn:"object"===typeof s?un:fn);var s;const i=e.length-1;for(let o=0;o<i;o++){let n=a(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||nt.l:t;n=Ke(e,n)}r.push(n)}return r}function mn(e,t){let{clamp:n=!0,ease:r,mixer:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if((0,pt.V)(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=pn(t,r,a),o=i.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=hn(e[n],e[n+1],t);return i[n](r)};return n?t=>l(W(e[0],e[s-1],t)):l}function gn(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=hn(0,t,r);e.push(qt(n,1,a))}}(t,e.length-1),t}function yn(e){let{duration:t=300,keyframes:n,times:r,ease:a="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(a)?a.map(Mt):Mt(a),i={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:gn(n),t),l=mn(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||Pt).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}function vn(e,t){return t?e*(1e3/t):0}function xn(e,t,n){const r=Math.max(t-5,0);return vn(n-e(r),t-r)}const bn=.001;function wn(e){let t,n,{duration:r=800,bounce:a=.25,velocity:s=0,mass:i=1}=e;(0,pt.$)(r<=mt(10),"Spring duration must be 10 seconds or less");let o=1-a;o=W(.05,1,o),r=W(.01,10,gt(r)),o<1?(t=e=>{const t=e*o,n=t*r,a=t-s,i=jn(e,o),l=Math.exp(-n);return bn-a/i*l},n=e=>{const n=e*o*r,a=n*s+s,i=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=jn(Math.pow(e,2),o);return(-t(e)+bn>0?-1:1)*((a-i)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let a=1;a<kn;a++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=mt(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*o*Math.sqrt(i*e),duration:r}}}const kn=12;function jn(e,t){return e*Math.sqrt(1-t*t)}const Sn=["keyframes","restDelta","restSpeed"],_n=["duration","bounce"],Nn=["stiffness","damping","mass"];function Pn(e,t){return t.some(t=>void 0!==e[t])}function Cn(e){let{keyframes:t,restDelta:n,restSpeed:a}=e,s=(0,ge.A)(e,Sn);const i=t[0],o=t[t.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=function(e){let t=(0,r.A)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Pn(e,Nn)&&Pn(e,_n)){const n=wn(e);t=(0,r.A)((0,r.A)((0,r.A)({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}((0,r.A)((0,r.A)({},s),{},{velocity:-gt(s.velocity||0)})),m=f||0,g=u/(2*Math.sqrt(c*d)),y=o-i,v=gt(Math.sqrt(c/d)),x=Math.abs(y)<5;let b;if(a||(a=x?.01:2),n||(n=x?.005:.5),g<1){const e=jn(v,g);b=t=>{const n=Math.exp(-g*v*t);return o-n*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===g)b=e=>o-Math.exp(-v*e)*(y+(m+v*y)*e);else{const e=v*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*v*t),r=Math.min(e*t,300);return o-n*((m+g*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}return{calculatedDuration:p&&h||null,next:e=>{const t=b(e);if(p)l.done=e>=h;else{let r=m;0!==e&&(r=g<1?xn(b,e,t):0);const s=Math.abs(r)<=a,i=Math.abs(o-t)<=n;l.done=s&&i}return l.value=l.done?o:t,l}}}function En(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===o?g:o(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/a),x=e=>y+v(e),b=e=>{const t=v(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,k;const j=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=Cn({keyframes:[f.value,p(f.value)],velocity:xn(x,e,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,b(e),j(e)),void 0!==w&&e>w?k.next(e-w):(!t&&b(e),f)}}}const Tn=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Fe.Gt.update(t,!0),stop:()=>(0,Fe.WG)(t),now:()=>Fe.uv.isProcessing?Fe.uv.timestamp:performance.now()}};function An(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const Rn=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Dn={decay:En,inertia:En,tween:yn,keyframes:yn,spring:Cn};function On(e){let t,n,{autoplay:a=!0,delay:s=0,driver:i=Tn,keyframes:o,type:l="keyframes",repeat:c=0,repeatDelay:u=0,repeatType:d="loop",onPlay:h,onStop:f,onComplete:p,onUpdate:m}=e,g=(0,ge.A)(e,Rn),y=1,v=!1;const x=()=>{n=new Promise(e=>{t=e})};let b;x();const w=Dn[l]||yn;let k;w!==yn&&"number"!==typeof o[0]&&(k=mn([0,100],o,{clamp:!1}),o=[0,100]);const j=w((0,r.A)((0,r.A)({},g),{},{keyframes:o}));let S;"mirror"===d&&(S=w((0,r.A)((0,r.A)({},g),{},{keyframes:[...o].reverse(),velocity:-(g.velocity||0)})));let _="idle",N=null,P=null,C=null;null===j.calculatedDuration&&c&&(j.calculatedDuration=An(j));const{calculatedDuration:E}=j;let T=1/0,A=1/0;null!==E&&(T=E+u,A=T*(c+1)-u);let R=0;const D=e=>{if(null===P)return;y>0&&(P=Math.min(P,e)),y<0&&(P=Math.min(e-A/y,P)),R=null!==N?N:Math.round(e-P)*y;const t=R-s*(y>=0?1:-1),n=y>=0?t<0:t>A;R=Math.max(t,0),"finished"===_&&null===N&&(R=A);let r=R,a=j;if(c){const e=Math.min(R,A)/T;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,c+1);Boolean(t%2)&&("reverse"===d?(n=1-n,u&&(n-=u/T)):"mirror"===d&&(a=S)),r=W(0,1,n)*T}const i=n?{done:!1,value:o[0]}:a.next(r);k&&(i.value=k(i.value));let{done:l}=i;n||null===E||(l=y>=0?R>=A:R<=0);const h=null===N&&("finished"===_||"running"===_&&l);return m&&m(i.value),h&&L(),i},O=()=>{b&&b.stop(),b=void 0},I=()=>{_="idle",O(),t(),x(),P=C=null},L=()=>{_="finished",p&&p(),O(),t()},M=()=>{if(v)return;b||(b=i(D));const e=b.now();h&&h(),null!==N?P=e-N:P&&"finished"!==_||(P=e),"finished"===_&&x(),C=P,N=null,_="running",b.start()};a&&M();const U={then:(e,t)=>n.then(e,t),get time(){return gt(R)},set time(e){e=mt(e),R=e,null===N&&b&&0!==y?P=b.now()-e/y:N=e},get duration(){const e=null===j.calculatedDuration?An(j):j.calculatedDuration;return gt(e)},get speed(){return y},set speed(e){e!==y&&b&&(y=e,U.time=gt(R))},get state(){return _},play:M,pause:()=>{_="paused",N=R},stop:()=>{v=!0,"idle"!==_&&(_="idle",f&&f(),I())},cancel:()=>{null!==C&&D(C),I()},complete:()=>{_="finished"},sample:e=>(P=0,D(e))};return U}const In=["onUpdate","onComplete"],Ln=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Mn=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Un(e,t,n){let{onUpdate:a,onComplete:s}=n,i=(0,ge.A)(n,In);if(!(Ln()&&Mn.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let o,l,c=!1,u=!1;const d=()=>{l=new Promise(e=>{o=e})};d();let{keyframes:h,duration:f=300,ease:p,times:m}=i;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!xt(t.ease))(t,i)){const e=On((0,r.A)((0,r.A)({},i),{},{repeat:0,delay:0}));let t={done:!1,value:h[0]};const n=[];let a=0;for(;!t.done&&a<2e4;)t=e.sample(a),n.push(t.value),a+=10;m=void 0,h=n,f=a-10,p="linear"}const g=function(e,t,n){let{delay:r=0,duration:a,repeat:s=0,repeatType:i="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=kt(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===i?"alternate":"normal"})}(e.owner.current,t,h,(0,r.A)((0,r.A)({},i),{},{duration:f,ease:p,times:m})),y=()=>{u=!1,g.cancel()},v=()=>{u=!0,Fe.Gt.update(y),o(),d()};g.onfinish=()=>{u||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,i)),s&&s(),v())};return{then:(e,t)=>l.then(e,t),attachTimeline:e=>(g.timeline=e,g.onfinish=null,nt.l),get time(){return gt(g.currentTime||0)},set time(e){g.currentTime=mt(e)},get speed(){return g.playbackRate},set speed(e){g.playbackRate=e},get duration(){return gt(f)},play:()=>{c||(g.play(),(0,Fe.WG)(y))},pause:()=>g.pause(),stop:()=>{if(c=!0,"idle"===g.playState)return;const{currentTime:t}=g;if(t){const n=On((0,r.A)((0,r.A)({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{u||g.finish()},cancel:v}}const Fn={type:"spring",stiffness:500,damping:25,restSpeed:10},zn={type:"keyframes",duration:.8},Vn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bn=(e,t)=>{let{keyframes:n}=t;return n.length>2?zn:O.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Fn:Vn},Wn=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!sn.test(t)&&"0"!==t||t.startsWith("url("))),Hn=new Set(["brightness","contrast","saturate","opacity"]);function qn(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match($)||[];if(!r)return e;const a=n.replace(r,"");let s=Hn.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+a+")"}const Gn=/([a-z-]*)\(.*?\)/g,Kn=(0,r.A)((0,r.A)({},sn),{},{getAnimatableNone:e=>{const t=e.match(Gn);return t?t.map(qn).join(" "):e}}),$n=(0,r.A)((0,r.A)({},ie),{},{color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:Kn,WebkitFilter:Kn}),Yn=e=>$n[e];function Qn(e,t){let n=Yn(e);return n!==Kn&&(n=sn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Jn=e=>/^0[^.\s]+$/.test(e);function Xn(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Jn(e):void 0}const Zn=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function er(e,t){return e[t]||e.default||e}const tr=!1,nr=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s=>{const i=er(a,e)||{},o=i.delay||a.delay||0;let{elapsed:l=0}=a;l-=mt(o);const c=function(e,t,n,r){const a=Wn(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const i=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?i:s[c-1]),Xn(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(a&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=Qn(t,o);return s}(t,e,n,i),u=c[0],d=c[c.length-1],h=Wn(e,u),f=Wn(e,d);(0,pt.$)(h===f,"You are trying to animate ".concat(e,' from "').concat(u,'" to "').concat(d,'". ').concat(u," is not an animatable value - to enable this animation set ").concat(u," to a value animatable to ").concat(d," via the `style` property."));let p=(0,r.A)((0,r.A)({keyframes:c,velocity:t.getVelocity(),ease:"easeOut"},i),{},{delay:-l,onUpdate:e=>{t.set(e),i.onUpdate&&i.onUpdate(e)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,d=(0,ge.A)(e,Zn);return!!Object.keys(d).length}(i)||(p=(0,r.A)((0,r.A)({},p),Bn(e,p))),p.duration&&(p.duration=mt(p.duration)),p.repeatDelay&&(p.repeatDelay=mt(p.repeatDelay)),!h||!f||yt||!1===i.type||tr)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:a}=e;const s=()=>(r&&r(t[t.length-1]),a&&a(),{time:0,speed:1,duration:0,play:nt.l,pause:nt.l,stop:nt.l,then:e=>(e(),Promise.resolve()),cancel:nt.l,complete:nt.l});return n?On({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(yt?(0,r.A)((0,r.A)({},p),{},{delay:0}):p);if(!a.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Un(t,e,p);if(n)return n}return On(p)}};function rr(e){return Boolean(L(e)&&e.add)}const ar=e=>/^\-?\d*\.?\d+$/.test(e);function sr(e,t){-1===e.indexOf(t)&&e.push(t)}function ir(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class or{constructor(){this.subscriptions=[]}add(e){return sr(this.subscriptions,e),()=>ir(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lr={current:void 0};class cr{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:a}=Fe.uv;t.lastUpdated!==a&&(t.timeDelta=r,t.lastUpdated=a,Fe.Gt.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Fe.Gt.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new or);const n=this.events[e].add(t);return"change"===e?()=>{n(),Fe.Gt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return lr.current&&lr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?vn(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ur(e,t){return new cr(e,t)}const dr=e=>t=>t.test(e),hr=[H,te,ee,Z,re,ne,{test:e=>"auto"===e,parse:e=>e}],fr=e=>hr.find(dr(e)),pr=[...hr,Ht,sn],mr=e=>pr.find(dr(e)),gr=["transitionEnd","transition"];function yr(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ur(n))}function vr(e,t){const n=ft(e,t);let a=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:s={},transition:i={}}=a,o=(0,ge.A)(a,gr);o=(0,r.A)((0,r.A)({},o),s);for(const r in o){yr(e,r,Oe(o[r]))}}function xr(e,t){if(!t)return;return(t[e]||t.default||t).from}const br=["transition","transitionEnd"];function wr(e,t){let{protectedKeys:n,needsAnimating:r}=e;const a=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,a}function kr(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function jr(e,t){let{delay:n=0,transitionOverride:a,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.makeTargetAnimatable(t),{transition:o=e.getDefaultTransition(),transitionEnd:l}=i,c=(0,ge.A)(i,br);const u=e.getValue("willChange");a&&(o=a);const h=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const p in c){const t=e.getValue(p),a=c[p];if(!t||void 0===a||f&&wr(f,p))continue;const s=(0,r.A)({delay:n,elapsed:0},er(o||{},p));if(window.HandoffAppearAnimations){const n=e.getProps()[d];if(n){const e=window.HandoffAppearAnimations(n,p,t,Fe.Gt);null!==e&&(s.elapsed=e,s.isHandoff=!0)}}let i=!s.isHandoff&&!kr(t,a);if("spring"===s.type&&(t.getVelocity()||s.velocity)&&(i=!1),t.animation&&(i=!1),i)continue;t.start(nr(p,t,a,e.shouldReduceMotion&&O.has(p)?{type:!1}:s));const l=t.animation;rr(u)&&(u.add(p),l.then(()=>u.remove(p))),h.push(l)}return l&&Promise.all(h).then(()=>{l&&vr(e,l)}),h}function Sr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=ft(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const i=a?()=>Promise.all(jr(e,a,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:o,staggerDirection:l}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const o=[],l=(e.variantChildren.size-1)*a,c=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*a}:function(){return l-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*a};return Array.from(e.variantChildren).sort(_r).forEach((e,a)=>{e.notify("AnimationStart",t),o.push(Sr(e,t,(0,r.A)((0,r.A)({},i),{},{delay:n+c(a)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,i+a,o,l,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[i,o]:[o,i];return e().then(()=>t())}return Promise.all([i(),o(n.delay)])}function _r(e,t){return e.sortNodePosition(t)}const Nr=["transition","transitionEnd"],Pr=[...m].reverse(),Cr=m.length;function Er(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map(t=>Sr(e,t,r));n=Promise.all(a)}else if("string"===typeof t)n=Sr(e,t,r);else{const a="function"===typeof t?ft(e,t,r.custom):t;n=Promise.all(jr(e,a,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function Tr(e){let t=Er(e);const n={animate:Rr(!0),whileInView:Rr(),whileHover:Rr(),whileTap:Rr(),whileDrag:Rr(),whileFocus:Rr(),exit:Rr()};let a=!0;const s=(t,n)=>{const a=ft(e,n);if(a){const{transition:e,transitionEnd:n}=a,s=(0,ge.A)(a,Nr);t=(0,r.A)((0,r.A)((0,r.A)({},t),s),n)}return t};function i(i,o){const l=e.getProps(),c=e.getVariantContext(!0)||{},u=[],d=new Set;let h={},m=1/0;for(let t=0;t<Cr;t++){const g=Pr[t],y=n[g],v=void 0!==l[g]?l[g]:c[g],x=f(v),b=g===o?y.isActive:null;!1===b&&(m=t);let w=v===c[g]&&v!==l[g]&&x;if(w&&a&&e.manuallyAnimateOnMount&&(w=!1),y.protectedKeys=(0,r.A)({},h),!y.isActive&&null===b||!v&&!y.prevProp||p(v)||"boolean"===typeof v)continue;let k=Ar(y.prevProp,v)||g===o&&y.isActive&&!w&&x||t>m&&x,j=!1;const S=Array.isArray(v)?v:[v];let _=S.reduce(s,{});!1===b&&(_={});const{prevResolvedValues:N={}}=y,P=(0,r.A)((0,r.A)({},N),_),C=e=>{k=!0,d.has(e)&&(j=!0,d.delete(e)),y.needsAnimating[e]=!0};for(const e in P){const t=_[e],n=N[e];if(h.hasOwnProperty(e))continue;let r=!1;r=De(t)&&De(n)?!ht(t,n):t!==n,r?void 0!==t?C(e):d.add(e):void 0!==t&&d.has(e)?C(e):y.protectedKeys[e]=!0}y.prevProp=v,y.prevResolvedValues=_,y.isActive&&(h=(0,r.A)((0,r.A)({},h),_)),a&&e.blockInitialAnimation&&(k=!1),!k||w&&!j||u.push(...S.map(e=>({animation:e,options:(0,r.A)({type:g},i)})))}if(d.size){const t={};d.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),u.push({animation:t})}let g=Boolean(u.length);return!a||!1!==l.initial&&l.initial!==l.animate||e.manuallyAnimateOnMount||(g=!1),a=!1,g?t(u):Promise.resolve()}return{animateChanges:i,setActive:function(t,r,a){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=i(a,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Ar(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!ht(t,e)}function Rr(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Dr=0;const Or={animation:{Feature:class extends Ze{constructor(e){super(e),e.animationState||(e.animationState=Tr(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),p(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Ze{constructor(){super(...arguments),this.id=Dr++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Ir=(e,t)=>Math.abs(e-t);class Lr{constructor(e,t){let{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Fr(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ir(e.x,t.x),r=Ir(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:a}=e,{timestamp:s}=Fe.uv;this.history.push((0,r.A)((0,r.A)({},a),{},{timestamp:s}));const{onStart:i,onMove:o}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Mr(t,this.transformPagePoint),Fe.Gt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Fr("pointercancel"===e.type?this.lastMoveEventInfo:Mr(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!We(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=a||window;const i=Mr(He(e),this.transformPagePoint),{point:o}=i,{timestamp:l}=Fe.uv;this.history=[(0,r.A)((0,r.A)({},o),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,Fr(i,this.history)),this.removeListeners=Ke(qe(this.contextWindow,"pointermove",this.handlePointerMove),qe(this.contextWindow,"pointerup",this.handlePointerUp),qe(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),(0,Fe.WG)(this.updatePoint)}}function Mr(e,t){return t?{point:t(e.point)}:e}function Ur(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fr(e,t){let{point:n}=e;return{point:n,delta:Ur(n,Vr(t)),offset:Ur(n,zr(t)),velocity:Br(t,.1)}}function zr(e){return e[0]}function Vr(e){return e[e.length-1]}function Br(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Vr(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>mt(t)));)n--;if(!r)return{x:0,y:0};const s=gt(a.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const i={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Wr(e){return e.max-e.min}function Hr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function qr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=qt(t.min,t.max,e.origin),e.scale=Wr(n)/Wr(t),(Hr(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=qt(n.min,n.max,e.origin)-e.originPoint,(Hr(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Gr(e,t,n,r){qr(e.x,t.x,n.x,r?r.originX:void 0),qr(e.y,t.y,n.y,r?r.originY:void 0)}function Kr(e,t,n){e.min=n.min+t.min,e.max=e.min+Wr(t)}function $r(e,t,n){e.min=t.min-n.min,e.max=e.min+Wr(t)}function Yr(e,t,n){$r(e.x,t.x,n.x),$r(e.y,t.y,n.y)}function Qr(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Jr(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Xr=.35;function Zr(e,t,n){return{min:ea(e,t),max:ea(e,n)}}function ea(e,t){return"number"===typeof e?e:e[t]||0}const ta=()=>({x:{min:0,max:0},y:{min:0,max:0}});function na(e){return[e("x"),e("y")]}function ra(e){let{top:t,left:n,right:r,bottom:a}=e;return{x:{min:n,max:r},y:{min:t,max:a}}}function aa(e){return void 0===e||1===e}function sa(e){let{scale:t,scaleX:n,scaleY:r}=e;return!aa(t)||!aa(n)||!aa(r)}function ia(e){return sa(e)||oa(e)||e.z||e.rotate||e.rotateX||e.rotateY}function oa(e){return la(e.x)||la(e.y)}function la(e){return e&&"0%"!==e}function ca(e,t,n){return n+t*(e-n)}function ua(e,t,n,r,a){return void 0!==a&&(e=ca(e,a,r)),ca(e,n,r)+t}function da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=ua(e.min,t,n,r,a),e.max=ua(e.max,t,n,r,a)}function ha(e,t){let{x:n,y:r}=t;da(e.x,n.translate,n.scale,n.originPoint),da(e.y,r.translate,r.scale,r.originPoint)}function fa(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function pa(e,t){e.min=e.min+t,e.max=e.max+t}function ma(e,t,n){let[r,a,s]=n;const i=void 0!==t[s]?t[s]:.5,o=qt(e.min,e.max,i);da(e,t[r],t[a],o,t.scale)}const ga=["x","scaleX","originX"],ya=["y","scaleY","originY"];function va(e,t){ma(e.x,t,ga),ma(e.y,t,ya)}function xa(e,t){return ra(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ba=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},wa=new WeakMap;class ka{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Lr(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(He(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Je(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),na(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ee.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Wr(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),a&&Fe.Gt.update(()=>a(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:i}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(i),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>na(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ba(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Fe.Gt.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ja(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:a}=t;return void 0!==r&&e<r?e=n?qt(r,e,n.min):Math.max(e,r):void 0!==a&&e>a&&(e=n?qt(a,e,n.max):Math.min(e,a)),e}(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,a=this.constraints;t&&h(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:a,right:s}=t;return{x:Qr(e.x,r,s),y:Qr(e.y,n,a)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr;return!1===e?e=0:!0===e&&(e=Xr),{x:Zr(e,"left","right"),y:Zr(e,"top","bottom")}}(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&na(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!h(e))return!1;const n=e.current;(0,pt.V)(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,n){const r=xa(e,n),{scroll:a}=t;return a&&(pa(r.x,a.offset.x),pa(r.y,a.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Jr(e.x,t.x),y:Jr(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=ra(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=na(o=>{if(!ja(o,t,this.currentDirection))return;let c=l&&l[o]||{};i&&(c={min:0,max:0});const u=a?200:1e6,d=a?40:1e7,h=(0,r.A)((0,r.A)({type:"inertia",velocity:n?e[o]:0,bounceStiffness:u,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},s),c);return this.startAxisValueAnimation(o,h)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(nr(e,n,0,t))}stopAnimation(){na(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){na(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){na(t=>{const{drag:n}=this.getProps();if(!ja(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];a.set(e[t]-qt(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!h(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};na(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Wr(e),a=Wr(t);return a>r?n=hn(t.min,t.max-r,e.min):r>a&&(n=hn(e.min,e.max-a,t.min)),W(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),na(t=>{if(!ja(t,e,null))return;const n=this.getAxisMotionValue(t),{min:a,max:s}=this.constraints[t];n.set(qt(a,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;wa.set(this.visualElement,this);const e=qe(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();h(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const a=Be(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(na(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{a(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:i=Xr,dragMomentum:o=!0}=e;return(0,r.A)((0,r.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:i,dragMomentum:o})}}function ja(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Sa=e=>(t,n)=>{e&&Fe.Gt.update(()=>e(t,n))};const _a={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Na(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pa={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!te.test(e))return e;e=parseFloat(e)}const n=Na(e,t.target.x),r=Na(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Ca={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const a=e,s=sn.parse(e);if(s.length>5)return a;const i=sn.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=qt(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),i(s)}};class Ea extends a.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=e;var i;i=Aa,Object.assign(R,i),s&&(t.group&&t.group.add(s),n&&n.register&&a&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions((0,r.A)((0,r.A)({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),_a.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,s=n.projection;return s?(s.isPresent=a,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Fe.Gt.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ta(e){const[t,n]=function(){const e=(0,a.useContext)(o.t);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,a.useId)();return(0,a.useEffect)(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),s=(0,a.useContext)(S.L);return a.createElement(Ea,(0,r.A)((0,r.A)({},e),{},{layoutGroup:s,switchLayoutGroup:(0,a.useContext)(_),isPresent:t,safeToRemove:n}))}const Aa={borderRadius:(0,r.A)((0,r.A)({},Pa),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Pa,borderTopRightRadius:Pa,borderBottomLeftRadius:Pa,borderBottomRightRadius:Pa,boxShadow:Ca},Ra=["TopLeft","TopRight","BottomLeft","BottomRight"],Da=Ra.length,Oa=e=>"string"===typeof e?parseFloat(e):e,Ia=e=>"number"===typeof e||te.test(e);function La(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Ma=Fa(0,.5,At),Ua=Fa(.5,.95,nt.l);function Fa(e,t,n){return r=>r<e?0:r>t?1:n(hn(e,t,r))}function za(e,t){e.min=t.min,e.max=t.max}function Va(e,t){za(e.x,t.x),za(e.y,t.y)}function Ba(e,t,n,r,a){return e=ca(e-=t,1/n,r),void 0!==a&&(e=ca(e,1/a,r)),e}function Wa(e,t,n,r,a){let[s,i,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ee.test(t)&&(t=parseFloat(t),t=qt(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let o=qt(s.min,s.max,r);e===s&&(o-=t),e.min=Ba(e.min,t,n,o,a),e.max=Ba(e.max,t,n,o,a)}(e,t[s],t[i],t[o],t.scale,r,a)}const Ha=["x","scaleX","originX"],qa=["y","scaleY","originY"];function Ga(e,t,n,r){Wa(e.x,t,Ha,n?n.x:void 0,r?r.x:void 0),Wa(e.y,t,qa,n?n.y:void 0,r?r.y:void 0)}function Ka(e){return 0===e.translate&&1===e.scale}function $a(e){return Ka(e.x)&&Ka(e.y)}function Ya(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Qa(e){return Wr(e.x)/Wr(e.y)}class Ja{constructor(){this.members=[]}add(e){sr(this.members,e),e.scheduleRender()}remove(e){if(ir(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xa(e,t,n){let r="";const a=e.x.translate/t.x,s=e.y.translate/t.y;if((a||s)&&(r="translate3d(".concat(a,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:a}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),a&&(r+="rotateY(".concat(a,"deg) "))}const i=e.x.scale*t.x,o=e.y.scale*t.y;return 1===i&&1===o||(r+="scale(".concat(i,", ").concat(o,")")),r||"none"}const Za=(e,t)=>e.depth-t.depth;class es{constructor(){this.children=[],this.isDirty=!1}add(e){sr(this.children,e),this.isDirty=!0}remove(e){ir(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Za),this.isDirty=!1,this.children.forEach(e)}}const ts=["","X","Y","Z"],ns={visibility:"hidden"};let rs=0;const as={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ss(e){let{attachResizeListener:t,defaultParent:n,measureScroll:a,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=rs++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,as.totalNodes=as.resolvedTargetDeltas=as.recalculatedProjection=0,this.nodes.forEach(ls),this.nodes.forEach(ms),this.nodes.forEach(gs),this.nodes.forEach(cs),e=as,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new es)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new or),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var a;this.isSVG=(a=e)instanceof SVGElement&&"svg"!==a.tagName,this.instance=e;const{layoutId:s,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||s)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=a=>{let{timestamp:s}=a;const i=s-n;i>=t&&((0,Fe.WG)(r),e(i-t))};return Fe.Gt.read(r,!0),()=>(0,Fe.WG)(r)}(r,250),_a.hasAnimatedSinceResize&&(_a.hasAnimatedSinceResize=!1,this.nodes.forEach(ps))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&o&&(s||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:a,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||ks,{onLayoutAnimationStart:l,onLayoutAnimationComplete:c}=o.getProps(),u=!this.targetLayout||!Ya(this.targetLayout,s)||a,d=!n&&a;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||d||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e=(0,r.A)((0,r.A)({},er(i,"layout")),{},{onPlay:l,onComplete:c});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||ps(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,(0,Fe.WG)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ys),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ds);this.isUpdating||this.nodes.forEach(hs),this.isUpdating=!1,this.nodes.forEach(fs),this.nodes.forEach(is),this.nodes.forEach(os),this.clearAllSnapshots();const e=performance.now();Fe.uv.delta=W(0,1e3/60,e-Fe.uv.timestamp),Fe.uv.timestamp=e,Fe.uv.isProcessing=!0,Fe.Ci.update.process(Fe.uv),Fe.Ci.preRender.process(Fe.uv),Fe.Ci.render.process(Fe.uv),Fe.uv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(us),this.sharedNodes.forEach(vs)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:s(this.instance),offset:a(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!$a(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&(t||ia(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),_s((r=n).x),_s(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(pa(t.x,n.offset.x),pa(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Va(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:a,options:s}=r;if(r!==this.root&&a&&s.layoutScroll){if(a.isRoot){Va(t,e);const{scroll:n}=this.root;n&&(pa(t.x,-n.offset.x),pa(t.y,-n.offset.y))}pa(t.x,a.offset.x),pa(t.y,a.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Va(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&va(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),ia(e.latestValues)&&va(n,e.latestValues)}return ia(this.latestValues)&&va(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Va(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!ia(e.latestValues))continue;sa(e.latestValues)&&e.updateSnapshot();const r=ta();Va(r,e.measurePageBox()),Ga(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return ia(this.latestValues)&&Ga(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,r.A)((0,r.A)((0,r.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.uv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:a,layoutId:s}=this.options;if(this.layout&&(a||s)){if(this.resolvedRelativeTargetAt=Fe.uv.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Yr(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,Kr(i.x,o.x,l.x),Kr(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Va(this.target,this.layout.layoutBox),ha(this.target,this.targetDelta)):Va(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Yr(this.relativeTargetOrigin,this.target,e.target),Va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}as.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!sa(this.parent.latestValues)&&!oa(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Fe.uv.timestamp&&(r=!1),r)return;const{layout:a,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!s)return;Va(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=n.length;if(!a)return;let s,i;t.x=t.y=1;for(let o=0;o<a;o++){s=n[o],i=s.projectionDelta;const a=s.instance;a&&a.style&&"contents"===a.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&va(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,ha(e,i)),r&&ia(s.latestValues)&&va(e,s.latestValues))}t.x=fa(t.x),t.y=fa(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Gr(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Xa(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===i&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),as.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,a=n?n.latestValues:{},s=(0,r.A)({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,d=Boolean(l&&!u&&!0===this.options.crossfade&&!this.path.some(ws));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var r,c,f,p,m,g;xs(i.x,e.x,n),xs(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yr(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=o,g=n,bs(f.x,p.x,m.x,g),bs(f.y,p.y,m.y,g),h&&(r=this.relativeTarget,c=h,r.x.min===c.x.min&&r.x.max===c.x.max&&r.y.min===c.y.min&&r.y.max===c.y.max)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Va(h,this.relativeTarget)),l&&(this.animationValues=s,function(e,t,n,r,a,s){a?(e.opacity=qt(0,void 0!==n.opacity?n.opacity:1,Ma(r)),e.opacityExit=qt(void 0!==t.opacity?t.opacity:1,0,Ua(r))):s&&(e.opacity=qt(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<Da;i++){const a="border".concat(Ra[i],"Radius");let s=La(t,a),o=La(n,a);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||Ia(s)===Ia(o)?(e[a]=Math.max(qt(Oa(s),Oa(o),r),0),(ee.test(o)||ee.test(s))&&(e[a]+="%")):e[a]=o)}(t.rotate||n.rotate)&&(e.rotate=qt(t.rotate||0,n.rotate||0,r))}(s,a,this.latestValues,n,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&((0,Fe.WG)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.Gt.update(()=>{_a.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=L(e)?e:ur(e);return r.start(nr("",r,t,n)),r.animation}(0,1e3,(0,r.A)((0,r.A)({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:a}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Ns(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Wr(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Wr(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Va(t,n),va(t,a),Gr(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ja);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let a=0;a<ts.length;a++){const t="rotate"+ts[a];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const a in r)e.setStaticValue(a,r[a]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ns;const r={visibility:""},a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Ie(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=a?a(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Ie(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!ia(this.latestValues)&&(t.transform=a?a({},""):"none",this.hasProjected=!1),t}const i=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Xa(this.projectionDeltaWithTransform,this.treeScale,i),a&&(r.transform=a(i,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:r.opacity=s===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in R){if(void 0===i[c])continue;const{correct:e,applyTo:t}=R[c],n="none"===r.transform?i[c]:e(i[c],s);if(t){const e=t.length;for(let a=0;a<e;a++)r[t[a]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Ie(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(ds),this.root.sharedNodes.clear()}}}function is(e){e.updateLayout()}function os(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;"size"===a?na(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],a=Wr(r);r.min=t[e].min,r.max=r.min+a}):Ns(a,n.layoutBox,t)&&na(r=>{const a=s?n.measuredBox[r]:n.layoutBox[r],i=Wr(t[r]);a.max=a.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Gr(i,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Gr(o,e.applyTransform(r,!0),n.measuredBox):Gr(o,t,n.layoutBox);const l=!$a(i);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:s}=r;if(a&&s){const i={x:{min:0,max:0},y:{min:0,max:0}};Yr(i,n.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Yr(o,t,s.layoutBox),Ya(i,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ls(e){as.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cs(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function us(e){e.clearSnapshot()}function ds(e){e.clearMeasurements()}function hs(e){e.isLayoutDirty=!1}function fs(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ps(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ms(e){e.resolveTargetDelta()}function gs(e){e.calcProjection()}function ys(e){e.resetRotation()}function vs(e){e.removeLeadSnapshot()}function xs(e,t,n){e.translate=qt(t.translate,0,n),e.scale=qt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bs(e,t,n,r){e.min=qt(t.min,n.min,r),e.max=qt(t.max,n.max,r)}function ws(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ks={duration:.45,ease:[.4,0,.1,1]},js=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Ss=js("applewebkit/")&&!js("chrome/")?Math.round:nt.l;function _s(e){e.min=Ss(e.min),e.max=Ss(e.max)}function Ns(e,t,n){return"position"===e||"preserve-aspect"===e&&!Hr(Qa(t),Qa(n),.2)}const Ps=ss({attachResizeListener:(e,t)=>Be(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cs={current:void 0},Es=ss({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cs.current){const e=new Ps({});e.mount(window),e.setOptions({layoutScroll:!0}),Cs.current=e}return Cs.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ts={pan:{Feature:class extends Ze{constructor(){super(...arguments),this.removePointerDownListener=nt.l}onPointerDown(e){this.session=new Lr(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ba(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Sa(e),onStart:Sa(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Fe.Gt.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=qe(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Ze{constructor(e){super(e),this.removeGroupControls=nt.l,this.removeListeners=nt.l,this.controls=new ka(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nt.l}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Es,MeasureLayout:Ta}};const As=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,pt.V)(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,a]=function(e){const t=As.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return ar(e)?parseFloat(e):e}return V(a)?Rs(a,t,n+1):a}function Ds(e,t,n){let a=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const s=e.current;if(!(s instanceof Element))return{target:a,transitionEnd:n};n&&(n=(0,r.A)({},n)),e.values.forEach(e=>{const t=e.get();if(!V(t))return;const n=Rs(t,s);n&&e.set(n)});for(const r in a){const e=a[r];if(!V(e))continue;const t=Rs(e,s);t&&(a[r]=t,n||(n={}),void 0===n[r]&&(n[r]=e))}return{target:a,transitionEnd:n}}const Os=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Is=e=>Os.has(e),Ls=e=>e===H||e===te,Ms=(e,t)=>parseFloat(e.split(", ")[t]),Us=(e,t)=>(n,r)=>{let{transform:a}=r;if("none"===a||!a)return 0;const s=a.match(/^matrix3d\((.+)\)$/);if(s)return Ms(s[1],t);{const t=a.match(/^matrix\((.+)\)$/);return t?Ms(t[1],e):0}},Fs=new Set(["x","y","z"]),zs=D.filter(e=>!Fs.has(e));const Vs={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Us(4,13),y:Us(5,14)};Vs.translateX=Vs.x,Vs.translateY=Vs.y;const Bs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=(0,r.A)({},t),a=(0,r.A)({},a);const s=Object.keys(t).filter(Is);let i=[],o=!1;const l=[];if(s.forEach(r=>{const s=e.getValue(r);if(!e.hasValue(r))return;let c=n[r],u=fr(c);const d=t[r];let h;if(De(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=fr(c);for(let n=t;n<e&&null!==d[n];n++)h?(0,pt.V)(fr(d[n])===h,"All keyframes must be of the same type"):(h=fr(d[n]),(0,pt.V)(h===u||Ls(u)&&Ls(h),"Keyframes must be of the same dimension as the current value"))}else h=fr(d);if(u!==h)if(Ls(u)&&Ls(h)){const e=s.get();"string"===typeof e&&s.set(parseFloat(e)),"string"===typeof d?t[r]=parseFloat(d):Array.isArray(d)&&h===te&&(t[r]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?s.set(h.transform(c)):t[r]=u.transform(d):(o||(i=function(e){const t=[];return zs.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),o=!0),l.push(r),a[r]=void 0!==a[r]?a[r]:t[r],s.jump(d))}),l.length){const n=l.indexOf("height")>=0?window.pageYOffset:null,r=((e,t,n)=>{const r=t.measureViewportBox(),a=t.current,s=getComputedStyle(a),{display:i}=s,o={};"none"===i&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=Vs[e](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=Vs[n](l,s)}),e})(t,e,l);return i.length&&i.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),j.B&&null!==n&&window.scrollTo({top:n}),{target:r,transitionEnd:a}}return{target:t,transitionEnd:a}};function Ws(e,t,n,r){return(e=>Object.keys(e).some(Is))(t)?Bs(e,t,n,r):{target:t,transitionEnd:r}}const Hs={current:null},qs={current:!1};const Gs=new WeakMap,Ks=["willChange"],$s=["children"],Ys=Object.keys(k),Qs=Ys.length,Js=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Xs=g.length;class Zs{constructor(e){let{parent:t,props:n,presenceContext:a,reducedMotionConfig:s,visualState:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Fe.Gt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget=(0,r.A)({},l),this.initialValues=n.initial?(0,r.A)({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=y(n),this.isVariantNode=v(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const u=this.scrapeMotionValuesFromProps(n,{}),{willChange:d}=u,h=(0,ge.A)(u,Ks);for(const r in h){const e=h[r];void 0!==l[r]&&L(e)&&(e.set(l[r],!1),rr(d)&&d.add(r))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Gs.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),qs.current||function(){if(qs.current=!0,j.B)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hs.current=e.matches;e.addListener(t),t()}else Hs.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Hs.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Gs.delete(this.current),this.projection&&this.projection.unmount(),(0,Fe.WG)(this.notifyUpdate),(0,Fe.WG)(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=O.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Fe.Gt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),a()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let a,s,{children:i}=e,o=(0,ge.A)(e,$s);for(let l=0;l<Qs;l++){const e=Ys[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:i}=k[e];r&&(a=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),i&&(s=i))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:i,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&h(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:i,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Js.length;n++){const t=Js[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const a in t){const s=t[a],i=n[a];if(L(s))e.addValue(a,s),rr(r)&&r.add(a);else if(L(i))e.addValue(a,ur(s,{owner:e})),rr(r)&&r.remove(a);else if(i!==s)if(e.hasValue(a)){const t=e.getValue(a);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(a);e.addValue(a,ur(void 0!==t?t:s,{owner:e}))}}for(const a in n)void 0===t[a]&&e.removeValue(a);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Xs;t++){const n=g[t],r=this.props[n];(f(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=ur(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Ae(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||L(a)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new or),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const ei=["transition","transitionEnd"];class ti extends Zs{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:a,transitionEnd:s}=e,i=(0,ge.A)(e,ei),{transformValues:o}=t,l=function(e,t,n){const r={};for(const a in e){const e=xr(a,t);if(void 0!==e)r[a]=e;else{const e=n.getValue(a);e&&(r[a]=e.get())}}return r}(i,a||{},this);if(o&&(s&&(s=o(s)),i&&(i=o(i)),l&&(l=o(l))),n){!function(e,t,n){var r,a;const s=Object.keys(t).filter(t=>!e.hasValue(t)),i=s.length;if(i)for(let o=0;o<i;o++){const i=s[o],l=t[i];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(a=null!==(r=n[i])&&void 0!==r?r:e.readValue(i))&&void 0!==a?a:t[i]),void 0!==c&&null!==c&&("string"===typeof c&&(ar(c)||Jn(c))?c=parseFloat(c):!mr(c)&&sn.test(l)&&(c=Qn(i,l)),e.addValue(i,ur(c,{owner:e})),void 0===n[i]&&(n[i]=c),null!==c&&e.setBaseTarget(i,c))}}(this,i,l);const e=((e,t,n,r)=>{const a=Ds(e,t,r);return Ws(e,t=a.target,n,r=a.transitionEnd)})(this,i,l,s);s=e.transitionEnd,i=e.target}return(0,r.A)({transition:a,transitionEnd:s},i)}}class ni extends ti{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(O.has(t)){const e=Yn(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),a=(z(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof a?a.trim():a}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return xa(e,n)}build(e,t,n,r){oe(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Ee(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;L(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){Ne(e,t,n,r)}}class ri extends ti{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(O.has(t)){const e=Yn(t);return e&&e.default||0}return t=Pe.has(t)?t:u(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Te(e,t)}build(e,t,n,r){we(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Ce(e,t,0,r)}mount(e){this.isSVGTag=je(e.tagName),super.mount(e)}}const ai=(e,t)=>A(e)?new ri(t,{enableHardwareAcceleration:!1}):new ni(t,{enableHardwareAcceleration:!0}),si={layout:{ProjectionNode:Es,MeasureLayout:Ta}},ii=(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},Or),dt),Ts),si),oi=E((e,t)=>function(e,t,n,a){let{forwardMotionProps:s=!1}=t;const i=A(e)?ze:Ve;return(0,r.A)((0,r.A)({},i),{},{preloadedFeatures:n,useRender:_e(s),createVisualElement:a,Component:e})}(e,t,ii,ai))},43:(e,t,n)=>{e.exports=n(202)},65:(e,t,n)=>{n.d(t,{WG:()=>o,Gt:()=>i,uv:()=>l,Ci:()=>c});var r=n(892);class a{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const s=["prepare","read","update","preRender","render","postRender"];const{schedule:i,cancel:o,state:l,steps:c}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=s.reduce((e,t)=>(e[t]=function(e){let t=new a,n=new a,r=0,s=!1,i=!1;const o=new WeakSet,l={schedule:function(e){const a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s,i=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),i.add(e)&&a&&s&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:a=>{if(s)i=!0;else{if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(a),o.has(r)&&(l.schedule(r),e())}s=!1,i&&(i=!1,l.process(a))}}};return l}(()=>n=!0),e),{}),l=e=>o[e].process(i),c=()=>{const a=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1),i.timestamp=a,i.isProcessing=!0,s.forEach(l),i.isProcessing=!1,n&&t&&(r=!1,e(c))},u=s.reduce((t,a)=>{const s=o[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(c)),s.schedule(t,a,o)},t},{});return{schedule:u,cancel:e=>s.forEach(t=>o[t].cancel(e)),state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:r.l,!0)},87:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(784).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},129:(e,t,n)=>{n.d(t,{$:()=>a,V:()=>s});var r=n(892);let a=r.l,s=r.l},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},190:(e,t,n)=>{n.d(t,{L:()=>r});const r=(0,n(43).createContext)({})},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,a)&&!S.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:j.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+C(l,0):s,w(i)?(a="",null!=e&&(a=e.replace(P,"$&/")+"/"),E(i,t,a,"",function(e){return e})):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=E(o,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,a,u=s+C(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",function(e){return t.call(n,e,a++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:j};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(829)),s=r(n(736));class i{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let o;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(o="POST",c=t);const u=new Headers(this.headers);return a&&u.set("Prefer","count=".concat(a)),new s.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}t.default=i},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,D(k);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!E());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),b(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,S=!1,_=null,N=-1,P=5,C=-1;function E(){return!(t.unstable_now()-C<P)}function T(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?j():(S=!1,_=null)}}else S=!1}if("function"===typeof x)j=function(){x(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=T,j=function(){R.postMessage(null)}}else j=function(){y(T,0)};function D(e){_=e,S||(S=!0,j())}function O(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(N),N=-1):g=!0,O(w,s-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,D(k))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(630)),s=r(n(611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,a;let i=null,o=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const a=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");a&&s&&s.length>1&&(l=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(a=null===i||void 0===i?void 0:i.details)||void 0===a?void 0:a.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&this.shouldThrowOnError)throw new s.default(i)}return{error:i,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},293:(e,t,n)=>{n.d(t,{E:()=>a});var r=n(43);const a=n(735).B?r.useLayoutEffect:r.useEffect},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(286));class s extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=s},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},459:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},537:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(784).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},555:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},574:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(784).A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},614:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,s=r.fetch.bind(r),i=r.Headers,o=r.Request,l=r.Response},646:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(784).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},674:(e,t,n)=>{n.d(t,{t:()=>r});const r=(0,n(43).createContext)(null)},680:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(784).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),P=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case _:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,Se=null;function _e(e){if(e=xa(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Ne(e){je?Se?Se.push(e):Se=[e]:je=e}function Pe(){if(je){var e=je,t=Se;if(Se=je=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ce(e,t,n)}finally{Te=!1,(null!==je||null!==Se)&&(Ee(),Pe())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Ie(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Ue=!1,Fe=null,ze={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,a,s,i,o,l){Le=!1,Me=null,Ie.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return He(a),e;if(i===r)return He(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,$e=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Je=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=dt(o):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,jt,St,_t,Nt=!1,Pt=[],Ct=null,Et=null,Tt=null,At=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=va(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void _t(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){Nt=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Et&&Ut(Et)&&(Et=null),null!==Tt&&Ut(Tt)&&(Tt=null),At.forEach(Ft),Rt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Pt.length){Vt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Et&&Vt(Et,e),null!==Tt&&Vt(Tt,e),At.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var a=xt,s=Wt.transition;Wt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=a,Wt.transition=s}}function Gt(e,t,n,r){var a=xt,s=Wt.transition;Wt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=a,Wt.transition=s}}function Kt(e,t,n,r){if(Ht){var a=Yt(e,t,n,r);if(null===a)Hr(e,t,r,$t,n),It(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,a),!0;case"dragenter":return Et=Lt(Et,e,t,n,r,a),!0;case"mouseover":return Tt=Lt(Tt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=xa(a);if(null!==s&&wt(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,$t,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Yt(e,t,n,r){if($t=null,null!==(e=va(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=M({},cn,{view:0,detail:0}),hn=an(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),mn=an(M({},fn,{dataTransfer:0})),gn=an(M({},dn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function _n(){return Sn}var Nn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(Nn),Cn=an(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Tn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(An),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Ln=u&&"TextEvent"in window&&!In,Mn=u&&(!On||In&&8<In&&11>=In),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function $n(e){Ur(e,0)}function Yn(e){if(K(ba(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ae($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function sr(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},Sr={};function _r(e){if(jr[e])return jr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return jr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Nr=_r("animationend"),Pr=_r("animationiteration"),Cr=_r("animationstart"),Er=_r("transitionend"),Tr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Tr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Or=Ar[Dr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Nr,"onAnimationEnd"),Rr(Pr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Mr(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Mr(a,o,c),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var a=qt;break;case 4:a=Gt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=va(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=s,a=we(n),i=[];e:{var o=Tr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Nr:case Pr:case Cr:l=yn;break;case Er:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:ba(l),f=null==c?o:ba(c),(o=new u(m,p+"leave",l,n,a)).target=d,o.relatedTarget=f,m=null,va(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&$r(i,o,l,u,!1),null!==c&&null!==d&&$r(i,d,c,u,!0)}if("select"===(l=(o=r?ba(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Hn(o))if(Jn)g=ir;else{g=ar;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(i,g,n,a):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?ba(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(i,n,a)}var v;if(On)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?zn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(v=en()):(Xt="value"in(Jt=a)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Gr(r,x)).length&&(x=new bn(x,e,null,n,a),i.push({event:x,listeners:y}),v?x.data=v:null!==(v=Vn(n))&&(x.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=v))}Ur(i,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Re(e,n))&&r.unshift(qr(e,s,a)),null!=(s=Re(e,t))&&r.push(qr(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Re(n,s))&&i.unshift(qr(n,l,o)):a||null!=(l=Re(n,s))&&i.push(qr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[fa]||null}var ka=[],ja=-1;function Sa(e){return{current:e}}function _a(e){0>ja||(e.current=ka[ja],ka[ja]=null,ja--)}function Na(e,t){ja++,ka[ja]=e.current,e.current=t}var Pa={},Ca=Sa(Pa),Ea=Sa(!1),Ta=Pa;function Aa(e,t){var n=e.type.contextTypes;if(!n)return Pa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Da(){_a(Ea),_a(Ca)}function Oa(e,t,n){if(Ca.current!==Pa)throw Error(s(168));Na(Ca,t),Na(Ea,n)}function Ia(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return M({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pa,Ta=Ca.current,Na(Ca,e),Na(Ea,Ea.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ia(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,_a(Ea),_a(Ca),Na(Ca,e)):_a(Ea),Na(Ea,n)}var Ua=null,Fa=!1,za=!1;function Va(e){null===Ua?Ua=[e]:Ua.push(e)}function Ba(){if(!za&&null!==Ua){za=!0;var e=0,t=xt;try{var n=Ua;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ua=null,Fa=!1}catch(a){throw null!==Ua&&(Ua=Ua.slice(e+1)),Ke(Ze,Ba),a}finally{xt=t,za=!1}}return null}var Wa=[],Ha=0,qa=null,Ga=0,Ka=[],$a=0,Ya=null,Qa=1,Ja="";function Xa(e,t){Wa[Ha++]=Ga,Wa[Ha++]=qa,qa=e,Ga=t}function Za(e,t,n){Ka[$a++]=Qa,Ka[$a++]=Ja,Ka[$a++]=Ya,Ya=e;var r=Qa;e=Ja;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Ja=s+e}else Qa=1<<s|n<<a|r,Ja=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===qa;)qa=Wa[--Ha],Wa[Ha]=null,Ga=Wa[--Ha],Wa[Ha]=null;for(;e===Ya;)Ya=Ka[--$a],Ka[$a]=null,Ja=Ka[--$a],Ka[$a]=null,Qa=Ka[--$a],Ka[$a]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Qa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===j?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&vs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case R:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||I(n))return null!==a?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case R:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,a,null);ys(t,r)}return null}function m(a,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(a,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=i(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(a,d),as&&Xa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return as&&Xa(a,m),c}for(d=r(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Xa(a,m),c}function g(a,o,l,c){var u=I(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=f(a,m,v.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(a,m),o=i(x,o,g),null===d?u=x:d.sibling=x,d=x,m=y}if(v.done)return n(a,m),as&&Xa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(o=i(v,o,g),null===d?u=v:d.sibling=v,d=v);return as&&Xa(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=i(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),as&&Xa(a,g),u}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===j){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&vs(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=gs(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===j?((s=Ic(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Oc(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case k:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(i,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=i._init)(i._payload),l)}if(te(i))return m(r,s,i,l);if(I(i))return g(r,s,i,l);ys(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Mc(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=xs(!0),ws=xs(!1),ks=Sa(null),js=null,Ss=null,_s=null;function Ns(){_s=Ss=js=null}function Ps(e){var t=ks.current;_a(ks),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){js=e,_s=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===js)throw Error(s(308));Ss=e,js.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var As=null;function Rs(e){null===As?As=[e]:As.push(e)}function Ds(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Rs(t)):(n.next=a.next,a.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Is=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Os(e,n)}return null===(a=r.interleaved)?(t.next=t,Rs(r)):(t.next=a.next,a.next=t),r.interleaved=t,Os(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var a=e.updateQueue;Is=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Is=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=d}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Hs={},qs=Sa(Hs),Gs=Sa(Hs),Ks=Sa(Hs);function $s(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(Na(Ks,t),Na(Gs,e),Na(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(qs),Na(qs,t)}function Qs(){_a(qs),_a(Gs),_a(Ks)}function Js(e){$s(Ks.current);var t=$s(qs.current),n=le(t,e.type);t!==n&&(Na(Gs,e),Na(qs,n))}function Xs(e){Gs.current===e&&(_a(qs),_a(Gs))}var Zs=Sa(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=b.ReactCurrentDispatcher,ai=b.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function fi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=n(r,a),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(ui)}if(ri.current=Ji,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==di;return di=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function vi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function xi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Ll|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(xo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ki(){}function ji(e,t){var n=ii,r=vi(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,xo=!0),r=r.queue,Ii(Ni.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ti(9,_i.bind(null,n,r,a,t),void 0,null),null===El)throw Error(s(349));0!==(30&si)||Si(n,t,a)}return a}function Si(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _i(e,t,n,r){t.value=n,t.getSnapshot=r,Pi(t)&&Ci(e)}function Ni(e,t,n){return n(function(){Pi(t)&&Ci(e)})}function Pi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ci(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function Ei(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function Ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ai(){return vi().memoizedState}function Ri(e,t,n,r){var a=yi();ii.flags|=e,a.memoizedState=Ti(1|t,n,void 0,void 0===r?null:r)}function Di(e,t,n,r){var a=vi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&pi(r,i.deps))return void(a.memoizedState=Ti(t,n,s,r))}ii.flags|=e,a.memoizedState=Ti(1|t,n,s,r)}function Oi(e,t){return Ri(8390656,8,e,t)}function Ii(e,t){return Di(2048,8,e,t)}function Li(e,t){return Di(4,2,e,t)}function Mi(e,t){return Di(4,4,e,t)}function Ui(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Di(4,4,Ui.bind(null,t,e),n)}function zi(){}function Vi(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bi(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ii.lanes|=n,Ll|=n,e.baseState=!0),t)}function Hi(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{xt=n,ai.transition=r}}function qi(){return vi().memoizedState}function Gi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$i(e))Yi(t,n);else if(null!==(n=Ds(e,t,n,r))){nc(n,e,r,ec()),Qi(n,t,r)}}function Ki(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($i(e))Yi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Rs(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ds(e,t,a,r))&&(nc(n,e,r,a=ec()),Qi(n,t,r))}}function $i(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Yi(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ji={readContext:Ts,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Xi={readContext:Ts,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:Oi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ri(4194308,4,Ui.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Ei,useDebugValue:zi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ei(!1),t=e[0];return e=Hi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=yi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===El)throw Error(s(349));0!==(30&si)||Si(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Oi(Ni.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,_i.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=yi(),t=El.identifierPrefix;if(as){var n=Ja;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ts,useCallback:Vi,useContext:Ts,useEffect:Ii,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Mi,useMemo:Bi,useReducer:bi,useRef:Ai,useState:function(){return bi(xi)},useDebugValue:zi,useDeferredValue:function(e){return Wi(vi(),oi.memoizedState,e)},useTransition:function(){return[bi(xi)[0],vi().memoizedState]},useMutableSource:ki,useSyncExternalStore:ji,useId:qi,unstable_isNewReconciler:!1},eo={readContext:Ts,useCallback:Vi,useContext:Ts,useEffect:Ii,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Mi,useMemo:Bi,useReducer:wi,useRef:Ai,useState:function(){return wi(xi)},useDebugValue:zi,useDeferredValue:function(e){var t=vi();return null===oi?t.memoizedState=e:Wi(t,oi.memoizedState,e)},useTransition:function(){return[wi(xi)[0],vi().memoizedState]},useMutableSource:ki,useSyncExternalStore:ji,useId:qi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Us(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),zs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Us(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Us(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fs(e,a,r))&&(nc(t,e,r,n),zs(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=Pa,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(a=Ra(t)?Ta:Ca.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Aa(e,a):Pa),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ts(s):(s=Ra(t)?Ta:Ca.current,a.context=Aa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Bs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),uo(0,t)},n}function po(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vo=b.ReactCurrentOwner,xo=!1;function bo(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wo(e,t,n,r,a){n=n.render;var s=t.ref;return Es(t,a),r=mi(e,t,n,r,s,a),n=gi(),null===e||xo?(as&&n&&es(t),t.flags|=1,bo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function ko(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,jo(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ho(e,t,a)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Ho(e,t,a);0!==(131072&e.flags)&&(xo=!0)}}return No(e,t,n,r,a)}function So(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Dl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Dl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Na(Dl,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Na(Dl,Rl),Rl|=r;return bo(e,t,a,n),t.child}function _o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,a){var s=Ra(n)?Ta:Ca.current;return s=Aa(t,s),Es(t,a),n=mi(e,t,n,r,s,a),r=gi(),null===e||xo?(as&&r&&es(t),t.flags|=1,bo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function Po(e,t,n,r,a){if(Ra(n)){var s=!0;La(t)}else s=!1;if(Es(t,a),null===t.stateNode)Wo(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Aa(t,c=Ra(n)?Ta:Ca.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),Is=!1;var h=t.memoizedState;i.state=h,Bs(t,r,i,a),l=t.memoizedState,o!==r||h!==l||Ea.current||Is?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Is||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Aa(t,l=Ra(n)?Ta:Ca.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,r,l),Is=!1,h=t.memoizedState,i.state=h,Bs(t,r,i,a);var p=t.memoizedState;o!==d||h!==p||Ea.current||Is?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Is||ao(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,a)}function Co(e,t,n,r,a,s){_o(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ma(t,n,!1),Ho(e,t,s);r=t.stateNode,vo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Ys(e,t.containerInfo)}function To(e,t,n,r,a){return fs(),ps(a),t.flags|=256,bo(e,t,n,r),t.child}var Ao,Ro,Do,Oo,Io={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,a=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Na(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,a,0,null),e=Ic(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Io,e):Uo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(i=Ic(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Io,i);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=El)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Os(e,a),nc(r,e,a,-1))}return mc(),Fo(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ka[$a++]=Qa,Ka[$a++]=Ja,Ka[$a++]=Ya,Qa=e.id,Ja=e.overflow,Ya=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Dc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Dc(r,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,a}return e=(o=e.child).sibling,a=Dc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Uo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Vo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Bo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Ra(t.type)&&Da(),Go(t),null;case 3:return r=t.stateNode,Qs(),_a(Ea),_a(Ca),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Ro(e,t),Go(t),null;case 5:Xs(t);var a=$s(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=$s(qs.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Ir.length;a++)Fr(Ir[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":ae(r,i),Fr("invalid",r)}for(var l in ve(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Fr(Ir[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":Q(e,r),a=Y(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(i in ve(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Fr("scroll",e):null!=u&&x(e,i,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=$s(Ks.current),$s(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Go(t),null;case 13:if(_a(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Qs(),Ro(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return Ps(t.type._context),Go(t),null;case 19:if(_a(Zs),null===(i=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)qo(i,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,qo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Bl&&(t.flags|=128,r=!0,qo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Go(t),null}else 2*Je()-i.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,qo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=Zs.current,Na(Zs,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $o(e,t){switch(ts(t),t.tag){case 1:return Ra(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),_a(Ea),_a(Ca),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(_a(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Zs),null;case 4:return Qs(),null;case 10:return Ps(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Do=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,$s(qs.current);var s,i=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),i=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Bt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(n,t,i),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(i,o,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(a,i),xe(l,o);var u=xe(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,u)}switch(l){case"input":X(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Vl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,ml(t,e),Qo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Xo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xo=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var a=Xo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Yo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var c=Qo;if(Yo=i,(Qo=l)&&!c)for(Xo=a;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?kl(a):null!==l?(l.return=i,Xo=l):kl(a);for(;null!==s;)Xo=s,xl(s,t,n),s=s.sibling;Xo=a,Yo=o,Qo=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xo=s):bl(e)}}function bl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ws(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&al(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function kl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Sc(t,a,l)}}var s=t.return;try{al(t)}catch(l){Sc(t,s,l)}break;case 5:var i=t.return;try{al(t)}catch(l){Sc(t,i,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var jl,Sl=Math.ceil,_l=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,Cl=0,El=null,Tl=null,Al=0,Rl=0,Dl=Sa(0),Ol=0,Il=null,Ll=0,Ml=0,Ul=0,Fl=null,zl=null,Vl=0,Bl=1/0,Wl=null,Hl=!1,ql=null,Gl=null,Kl=!1,$l=null,Yl=0,Ql=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Al?Al&-Al:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Jl=null,Error(s(185));yt(e,n,r),0!==(2&Cl)&&e===El||(e===El&&(0===(2&Cl)&&(Ml|=n),4===Ol&&oc(e,Al)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=Je()+500,Fa&&Ba()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===El?Al:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Fa=!0,Va(e)}(lc.bind(null,e)):Va(lc.bind(null,e)),ia(function(){0===(6&Cl)&&Ba()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xl=-1,Zl=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===El?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Cl;Cl|=2;var i=pc();for(El===e&&Al===t||(Wl=null,Bl=Je()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ns(),_l.current=i,Cl=a,null!==Tl?t=0:(El=null,Al=0,t=Ol)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Il,hc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t))throw n=Il,hc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,zl,Wl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vl+500-Je())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,zl,Wl),t);break}wc(e,zl,Wl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,zl,Wl),r);break}wc(e,zl,Wl);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&ic(t)),e}function ic(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Ul,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Il,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Wl),rc(e,Je()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Je()+500,Fa&&Ba())}}function uc(e){null!==$l&&0===$l.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var n=Pl.transition,r=xt;try{if(Pl.transition=null,xt=1,e)return e()}finally{xt=r,Pl.transition=n,0===(6&(Cl=t))&&Ba()}}function dc(){Rl=Dl.current,_a(Dl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Da();break;case 3:Qs(),_a(Ea),_a(Ca),ni();break;case 5:Xs(r);break;case 4:Qs();break;case 13:case 19:_a(Zs);break;case 10:Ps(r.type._context);break;case 22:case 23:dc()}n=n.return}if(El=e,Tl=e=Dc(e.current,null),Al=Rl=t,Ol=0,Il=null,Ul=Ml=Ll=0,zl=Fl=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}As=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(Ns(),ri.current=Ji,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,ui=!1,di=0,Nl.current=null,null===n||null===n.return){Ol=1,Il=t,Tl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(i,u,t),mc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ps(lo(c,l));break e}}i=c=lo(c,l),4!==Ol&&(Ol=2),null===Fl?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Vs(i,fo(0,c,t));break e;case 1:l=c;var v=i.type,x=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t,Vs(i,po(i,l,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Ji,null===e?Ji:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===El||0===(268435455&Ll)&&0===(268435455&Ml)||oc(El,Al)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(El===e&&Al===t||(Wl=null,hc(e,t));;)try{yc();break}catch(a){fc(e,a)}if(Ns(),Cl=n,_l.current=r,null!==Tl)throw Error(s(261));return El=null,Al=0,Ol}function yc(){for(;null!==Tl;)xc(Tl)}function vc(){for(;null!==Tl&&!Ye();)xc(Tl)}function xc(e){var t=jl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,Nl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Rl)))return void(Tl=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ol=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=xt,a=Pl.transition;try{Pl.transition=null,xt=1,function(e,t,n,r){do{kc()}while(null!==$l);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===El&&(Tl=El=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ec(tt,function(){return kc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Pl.transition,Pl.transition=null;var o=xt;xt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(ea=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),Ht=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Qe(),Cl=l,xt=o,Pl.transition=i}else e.current=n;if(Kl&&(Kl=!1,$l=e,Yl=a),i=e.pendingLanes,0===i&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),i=e.pendingLanes,0!==(1&i)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Ba()}(e,t,n,r)}finally{Pl.transition=a,xt=r}return null}function kc(){if(null!==$l){var e=bt(Yl),t=Pl.transition,n=xt;try{if(Pl.transition=null,xt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Cl))throw Error(s(331));var a=Cl;for(Cl|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,p=d.return;if(sl(d),d===u){Xo=null;break}if(null!==f){f.return=p,Xo=f;break}Xo=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Xo=v;break e}Xo=i.return}}var x=e.current;for(Xo=x;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=x;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Sc(l,l.return,k)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(Cl=a,Ba(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{xt=n,Pl.transition=t}}return!1}function jc(e,t,n){e=Fs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fs(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Al&n)===n&&(4===Ol||3===Ol&&(130023424&Al)===Al&&500>Je()-Vl?hc(e,0):Ul|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Os(e,t))&&(yt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function Ec(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Tc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Ic(n.children,a,i,t);case S:o=8,a|=8;break;case _:return(e=Ac(12,n,t,2|a)).elementType=_,e.lanes=i,e;case E:return(e=Ac(13,n,t,a)).elementType=E,e.lanes=i,e;case T:return(e=Ac(19,n,t,a)).elementType=T,e.lanes=i,e;case D:return Lc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case P:o=9;break e;case C:o=11;break e;case A:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ic(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,s,i,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Vc(e){if(!e)return Pa;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ra(n))return Ia(e,n,t)}return t}function Bc(e,t,n,r,a,s,i,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Us(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Wc(e,t,n,r){var a=t.current,s=ec(),i=tc(a);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(a,t,i))&&(nc(e,a,i,s),zs(e,a,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Eo(t),fs();break;case 5:Js(t);break;case 1:Ra(t.type)&&La(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(ks,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Na(Zs,1&Zs.current),null!==(e=Ho(e,t,n))?e.sibling:null);Na(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Ho(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,as&&0!==(1048576&t.flags)&&Za(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Aa(t,Ca.current);Es(t,n),a=mi(null,t,r,e,a,n);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(r)?(i=!0,La(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ls(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),bo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),a){case 0:t=No(null,t,r,e,n);break e;case 1:t=Po(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,No(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Po(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Eo(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=To(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=To(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Ho(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),_o(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Na(ks,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Ea.current){t=Ho(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Us(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Cs(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cs(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Es(t,n),r=r(a=Ts(a)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),ko(e,t,r,a=to(r.type,a),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Wo(e,t),t.tag=1,Ra(r)?(e=!0,La(t)):e=!1,Es(t,n),so(t,r,a),oo(t,r,a,n),Co(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Hc(i);o.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Hc(i);s.call(e)}}var i=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[pa]=i.current,Br(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pa]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,l,n,r)}),l}(n,t,e,a,r);return Hc(i)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[pa]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Cl)&&(Bl=Je()+500,Ba()))}break;case 13:uc(function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return xt},_t=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));K(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[xa,ba,wa,Ne,Pe,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,a,0,i,o),e[pa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},735:(e,t,n)=>{n.d(t,{B:()=>r});const r="undefined"!==typeof document},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(374));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=s},784:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(555),a=n(986),s=n(43);const i=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],u=(0,s.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:h="",children:f,iconNode:p}=e,m=(0,a.A)(e,c);return(0,s.createElement)("svg",(0,r.A)((0,r.A)((0,r.A)({ref:t},l),{},{width:i,height:i,stroke:n,strokeWidth:d?24*Number(u)/Number(i):u,className:o("lucide",h)},!f&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...p.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(f)?f:[f]])}),d=["className"],h=(e,t)=>{const n=(0,s.forwardRef)((n,l)=>{let{className:c}=n,h=(0,a.A)(n,d);return(0,s.createElement)(u,(0,r.A)({ref:l,iconNode:t,className:o("lucide-".concat((f=i(e),f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},h));var f});return n.displayName=i(e),n}},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer","count=".concat(n)),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer","count=".concat(r)),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,n)=>{e.exports=n(234)},892:(e,t,n)=>{n.d(t,{l:()=>r});const r=e=>e},930:(e,t,n)=>{n.d(t,{M:()=>a});var r=n(43);function a(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},938:(e,t,n)=>{n.d(t,{N:()=>g});var r=n(43),a=n(293);function s(){const e=(0,r.useRef)(!1);return(0,a.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=n(65);var o=n(674),l=n(930);class c extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:n}=e;const a=(0,r.useId)(),s=(0,r.useRef)(null),i=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:o}=i.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=a;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),r.createElement(c,{isPresent:n,childRef:s,sizeRef:i},r.cloneElement(t,{ref:s}))}const d=e=>{let{children:t,initial:n,isPresent:a,onExitComplete:s,custom:i,presenceAffectsLayout:c,mode:d}=e;const f=(0,l.M)(h),p=(0,r.useId)(),m=(0,r.useMemo)(()=>({id:p,initial:n,isPresent:a,custom:i,onExitComplete:e=>{f.set(e,!0);for(const t of f.values())if(!t)return;s&&s()},register:e=>(f.set(e,!1),()=>f.delete(e))}),c?void 0:[a]);return(0,r.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[a]),r.useEffect(()=>{!a&&!f.size&&s&&s()},[a]),"popLayout"===d&&(t=r.createElement(u,{isPresent:a},t)),r.createElement(o.t.Provider,{value:m},t)};function h(){return new Map}var f=n(190);var p=n(129);const m=e=>e.key||"";const g=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:l,exitBeforeEnter:c,presenceAffectsLayout:u=!0,mode:h="sync"}=e;(0,p.V)(!c,"Replace exitBeforeEnter with mode='wait'");const g=(0,r.useContext)(f.L).forceRender||function(){const e=s(),[t,n]=(0,r.useState)(0),a=(0,r.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,r.useCallback)(()=>i.Gt.postRender(a),[a]),t]}()[0],y=s(),v=function(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(t);let x=v;const b=(0,r.useRef)(new Map).current,w=(0,r.useRef)(x),k=(0,r.useRef)(new Map).current,j=(0,r.useRef)(!0);var S;if((0,a.E)(()=>{j.current=!1,function(e,t){e.forEach(e=>{const n=m(e);t.set(n,e)})}(v,k),w.current=x}),S=()=>{j.current=!0,k.clear(),b.clear()},(0,r.useEffect)(()=>()=>S(),[]),j.current)return r.createElement(r.Fragment,null,x.map(e=>r.createElement(d,{key:m(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:u,mode:h},e)));x=[...x];const _=w.current.map(m),N=v.map(m),P=_.length;for(let r=0;r<P;r++){const e=_[r];-1!==N.indexOf(e)||b.has(e)||b.set(e,void 0)}return"wait"===h&&b.size&&(x=[]),b.forEach((e,t)=>{if(-1!==N.indexOf(t))return;const a=k.get(t);if(!a)return;const s=_.indexOf(t);let i=e;if(!i){const e=()=>{b.delete(t);const e=Array.from(k.keys()).filter(e=>!N.includes(e));if(e.forEach(e=>k.delete(e)),w.current=v.filter(n=>{const r=m(n);return r===t||e.includes(r)}),!b.size){if(!1===y.current)return;g(),l&&l()}};i=r.createElement(d,{key:m(a),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:u,mode:h},a),b.set(t,i)}x.splice(s,0,i)}),x=x.map(e=>{const t=e.key;return b.has(t)?e:r.createElement(d,{key:m(e),isPresent:!0,presenceAffectsLayout:u,mode:h},e)}),r.createElement(r.Fragment,null,b.size?x:x.map(e=>(0,r.cloneElement)(e)))}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(210));t.PostgrestClient=a.default;const s=r(n(829));t.PostgrestQueryBuilder=s.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},986:(e,t,n)=>{function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,{A:()=>r})}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{28:"916a5c08",77:"75d7a4a7",141:"9aab8af9",385:"e79ec94d",389:"f121de6a",675:"272da4e3",712:"2abfb5b3",878:"dcdb4403",921:"fa73f00c"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="chekup-ai:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ChekupAI/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,i=r[0],o=r[1],l=r[2],c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkchekup_ai=self.webpackChunkchekup_ai||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),a=n(391),s=n(555),i=n(938),o=n(12);const l={duration:.22,ease:"easeInOut"},c={initial:function(){return{opacity:0,x:50*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}},animate:{opacity:1,x:0},exit:function(){return{opacity:0,x:50*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1)}}};var u=n(579);const d=()=>(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-trust-blue to-accent-blue flex items-center justify-center",role:"banner","aria-label":"Chekup AI loading screen",children:(0,u.jsxs)(o.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,ease:"easeOut"},className:"text-center text-white",children:[(0,u.jsx)(o.P.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.8,ease:"easeOut"},className:"text-5xl font-bold mb-4 tracking-tight","aria-label":"Chekup AI",children:"Chekup AI"}),(0,u.jsx)(o.P.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.8,ease:"easeOut"},className:"text-xl font-light opacity-90","aria-label":"Your Data. Your Power.",children:"Your Data. Your Power."}),(0,u.jsx)(o.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.2,duration:.5,ease:"easeOut"},className:"mt-12",role:"progressbar","aria-label":"Loading progress",children:(0,u.jsx)("div",{className:"w-16 h-1 bg-white/30 rounded-full mx-auto",children:(0,u.jsx)(o.P.div,{className:"w-16 h-1 bg-white rounded-full",initial:{width:0},animate:{width:"100%"},transition:{delay:1.5,duration:.5,ease:"easeOut"}})})})]})}),h=e=>{let{onComplete:t}=e;const[n,a]=(0,r.useState)(1),[i,l]=(0,r.useState)({email:"",password:""}),[c,d]=(0,r.useState)({}),[h,f]=(0,r.useState)(!1),p=e=>{const{name:t,value:n}=e.target;l(e=>(0,s.A)((0,s.A)({},e),{},{[t]:n})),c[t]&&d(e=>(0,s.A)((0,s.A)({},e),{},{[t]:""}))},m=async()=>{1===n?(()=>{const e={};return i.email?/\S+@\S+\.\S+/.test(i.email)||(e.email="Please enter a valid email address"):e.email="Email is required",i.password?i.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",d(e),0===Object.keys(e).length})()&&(f(!0),setTimeout(()=>{f(!1),a(2)},1e3)):t()},g=e=>{"Enter"===e.key&&m()};return 1===n?(0,u.jsx)("div",{className:"min-h-screen bg-white px-6 flex flex-col justify-center",children:(0,u.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-sm mx-auto w-full",children:[(0,u.jsx)("div",{className:"text-center mb-8",children:(0,u.jsx)("p",{className:"text-gray-600",children:"Create your account to get started"})}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,u.jsx)("input",{id:"email",type:"email",name:"email",value:i.email,onChange:p,onKeyPress:g,className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-trust-blue focus:border-transparent transition-all ".concat(c.email?"border-red-500":"border-gray-300"),placeholder:"Enter your email","aria-describedby":c.email?"email-error":void 0,"aria-invalid":!!c.email,autoComplete:"email",autoFocus:!0}),c.email&&(0,u.jsx)(o.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},id:"email-error",className:"mt-1 text-sm text-red-600",role:"alert",children:c.email})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,u.jsx)("input",{id:"password",type:"password",name:"password",value:i.password,onChange:p,onKeyPress:g,className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-trust-blue focus:border-transparent transition-all ".concat(c.password?"border-red-500":"border-gray-300"),placeholder:"Create a password","aria-describedby":c.password?"password-error":void 0,"aria-invalid":!!c.password,autoComplete:"new-password"}),c.password&&(0,u.jsx)(o.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},id:"password-error",className:"mt-1 text-sm text-red-600",role:"alert",children:c.password})]})]}),(0,u.jsx)(o.P.button,{whileHover:{scale:h?1:1.02},whileTap:{scale:h?1:.98},onClick:m,disabled:h,className:"w-full mt-8 py-4 rounded-xl font-semibold text-lg shadow-lg transition-all ".concat(h?"bg-gray-400 text-white cursor-not-allowed":"bg-trust-blue text-white hover:bg-blue-700"),"aria-label":h?"Creating account...":"Continue to next step",children:h?(0,u.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,u.jsx)(o.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),(0,u.jsx)("span",{children:"Creating account..."})]}):"Continue"})]})}):(0,u.jsx)("div",{className:"min-h-screen bg-white px-6 flex flex-col justify-center",children:(0,u.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-sm mx-auto w-full",children:[(0,u.jsxs)("div",{className:"text-center mb-8",children:[(0,u.jsx)("div",{className:"w-20 h-20 bg-trust-blue/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,u.jsx)("span",{className:"text-4xl",children:"\ud83d\udd12"})}),(0,u.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your Data, Your Control"}),(0,u.jsxs)("p",{className:"text-gray-600 leading-relaxed",children:["Your health data belongs to ",(0,u.jsx)("strong",{children:"YOU"}),". Share it only when you want, and earn when it's used for research and development."]})]}),(0,u.jsx)("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:(0,u.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-money-green rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,u.jsx)("span",{className:"text-white text-sm font-bold",children:"\u2713"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Complete Privacy Control"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"You decide exactly what data to share and with whom"})]})]})}),(0,u.jsx)(o.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,className:"w-full bg-trust-blue text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:bg-blue-700 transition-colors",children:"Enter Dashboard"})]})})},f=e=>{let{userData:t,onDataUpdate:n,onConsentToggle:r,onNavigate:a}=e;const s=t.files.length;t.files.reduce((e,t)=>e+(Number(t.earnings)||0),0),[...t.files].filter(e=>!!e.date).sort((e,t)=>new Date(t.date)-new Date(e.date))[0];return(0,u.jsxs)("div",{className:"min-h-screen bg-white pb-24 w-full max-w-mobile mx-auto",children:[(0,u.jsxs)("div",{className:"px-4 py-4",children:[(0,u.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Health Dashboard"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Manage your health data and family records"})]}),(0,u.jsx)("div",{className:"px-4 mb-4",children:(0,u.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-4 border border-gray-100",children:(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Health Records"}),(0,u.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Family Members"}),(0,u.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"3"})]})]})})}),(0,u.jsx)("div",{className:"px-4 mb-4",children:(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,u.jsx)("button",{onClick:()=>null===a||void 0===a?void 0:a("upload"),className:"bg-blue-600 text-white p-3 rounded-xl text-sm font-medium hover:bg-blue-700 transition-colors",children:"\ud83d\udcc4 Upload Documents"}),(0,u.jsx)("button",{onClick:()=>null===a||void 0===a?void 0:a("family"),className:"bg-green-600 text-white p-3 rounded-xl text-sm font-medium hover:bg-green-700 transition-colors",children:"\ud83d\udc65 Family Health"})]})}),(0,u.jsx)("div",{className:"px-4 mb-4",children:(0,u.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:"Family Health"}),(0,u.jsx)("button",{onClick:()=>null===a||void 0===a?void 0:a("family"),className:"text-blue-600 text-xs",children:"Manage"})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{className:"text-sm",children:"\ud83d\udc64"}),(0,u.jsx)("span",{className:"text-xs text-gray-600",children:"John Doe (You)"}),(0,u.jsx)("span",{className:"text-[10px] px-2 py-1 rounded bg-green-100 text-green-600",children:"Active"})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{className:"text-sm",children:"\ud83d\udc69"}),(0,u.jsx)("span",{className:"text-xs text-gray-600",children:"Sarah Doe (Wife)"}),(0,u.jsx)("span",{className:"text-[10px] px-2 py-1 rounded bg-green-100 text-green-600",children:"Active"})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{className:"text-sm",children:"\ud83d\udc76"}),(0,u.jsx)("span",{className:"text-xs text-gray-600",children:"Emma Doe (Daughter)"}),(0,u.jsx)("span",{className:"text-[10px] px-2 py-1 rounded bg-yellow-100 text-yellow-600",children:"Pending"})]})]})]})}),(0,u.jsx)("div",{className:"px-4 mb-4",children:(0,u.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-3",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:"Health Assistant"}),(0,u.jsx)("p",{className:"text-xs text-gray-600",children:"AI-powered health insights"})]}),(0,u.jsx)("button",{onClick:()=>null===a||void 0===a?void 0:a("chatbot"),className:"bg-purple-600 text-white px-3 py-1 rounded-lg text-xs hover:bg-purple-700 transition-colors",children:"Chat"})]})})})]})};var p=n(646),m=n(784);const g=(0,m.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),y=(0,m.A)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var v=n(574);const x=e=>{var t;let{user:n,onNavigate:a}=e;const[s,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)("jane"),[f,m]=(0,r.useState)([{id:1,sender:"ai",message:"Hi ".concat((null===n||void 0===n||null===(t=n.user_metadata)||void 0===t?void 0:t.full_name)||"Jane",", how are you feeling today?"),timestamp:new Date}]),x=[{id:"jane",name:"Jane Doe",role:"You",avatar:"\ud83d\udc69",healthScore:85,lastCheckup:"2024-01-15"},{id:"john",name:"John Doe",role:"Husband",avatar:"\ud83d\udc68",healthScore:92,lastCheckup:"2024-01-10"},{id:"emma",name:"Emma Doe",role:"Daughter",avatar:"\ud83d\udc76",healthScore:78,lastCheckup:"2024-01-20"}],b=x.find(e=>e.id===d)||x[0],w=[{id:"appointment",title:"Book Appointment",icon:p.A,color:"blue",action:()=>a("appointments")},{id:"reminders",title:"Set Reminders",icon:g,color:"green",action:()=>a("reminders")},{id:"calendar",title:"Health Calendar",icon:p.A,color:"purple",action:()=>a("calendar")},{id:"scan",title:"Scan Document",icon:y,color:"orange",action:()=>a("scan")}],k=()=>{if(!s.trim())return;const e={id:Date.now(),sender:"user",message:s,timestamp:new Date};m(t=>[...t,e]),i(""),setTimeout(()=>{const e={id:Date.now()+1,sender:"ai",message:"I understand. Let me help you with that. Would you like me to schedule an appointment or set a reminder?",timestamp:new Date};m(t=>[...t,e])},1e3)};return(0,u.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 pb-24 max-w-mobile mx-auto",children:[(0,u.jsx)("div",{className:"px-4 py-6 bg-white/80 backdrop-blur-sm border-b border-gray-200",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Health Dashboard"}),(0,u.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome back, ",b.name]})]}),(0,u.jsx)("div",{className:"flex items-center space-x-3",children:(0,u.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,u.jsx)("span",{className:"text-lg",children:b.avatar}),(0,u.jsx)("span",{className:"text-sm font-medium text-gray-700",children:b.name}),(0,u.jsx)("span",{className:"text-xs text-gray-500",children:"\u25bc"})]})})]})}),(0,u.jsx)("div",{className:"px-4 py-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,u.jsx)(v.A,{className:"w-4 h-4 text-white"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Health Assistant"}),(0,u.jsxs)("p",{className:"text-sm text-gray-600",children:["\ud83d\udc4b Hi ",b.name,", how are you today?"]})]})]}),(0,u.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 mb-4 max-h-48 overflow-y-auto",children:f.map(e=>(0,u.jsx)("div",{className:"mb-3 ".concat("user"===e.sender?"text-right":"text-left"),children:(0,u.jsx)("div",{className:"inline-block p-3 rounded-lg text-sm max-w-[80%] ".concat("user"===e.sender?"bg-blue-500 text-white":"bg-white text-gray-800 border border-gray-200"),children:e.message})},e.id))}),(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&k(),placeholder:"Ask about your health...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,u.jsx)("button",{onClick:k,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all font-medium",children:"Send"})]})]})}),(0,u.jsxs)("div",{className:"px-4 py-2",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Quick Actions"}),(0,u.jsx)("div",{className:"grid grid-cols-2 gap-3",children:w.map(e=>(0,u.jsxs)(o.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e.action,className:"p-4 rounded-xl bg-white shadow-sm border border-gray-200 hover:shadow-md transition-all ".concat("blue"===e.color?"hover:bg-blue-50":"green"===e.color?"hover:bg-green-50":"purple"===e.color?"hover:bg-purple-50":"hover:bg-orange-50"),children:[(0,u.jsx)(e.icon,{className:"w-6 h-6 mx-auto mb-2 ".concat("blue"===e.color?"text-blue-600":"green"===e.color?"text-green-600":"purple"===e.color?"text-purple-600":"text-orange-600")}),(0,u.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title})]},e.id))})]}),l&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,u.jsxs)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-sm",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Switch Profile"}),(0,u.jsx)("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,u.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,u.jsxs)("button",{onClick:()=>{h(e.id),c(!1),m(t=>[...t,{id:Date.now(),sender:"ai",message:"Hi ".concat(e.name,", how are you feeling today?"),timestamp:new Date}])},className:"w-full flex items-center space-x-3 p-3 rounded-xl text-left transition-all ".concat(d===e.id?"bg-blue-50 border-2 border-blue-200":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"),children:[(0,u.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,u.jsx)("span",{className:"text-white text-lg",children:e.avatar})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:e.role})]}),d===e.id&&(0,u.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,u.jsx)("span",{className:"text-white text-xs",children:"\u2713"})})]},e.id))})]})})]})};class b{static async suggestFileName(e,t,n){try{const r=this.analyzeDocumentContent(e),a=this.extractDate(e)||(new Date).toISOString().slice(0,10),s=t.split(".").pop();let i=this.generateIntelligentFileName(r,n,a,s);if(i&&i!==t)return i;const o="Analyze this medical document and suggest a descriptive, professional filename. \n      \n      Original filename: ".concat(t,"\n      File type: ").concat(n,"\n      Document content preview: ").concat(e.substring(0,500),"...\n      \n      Please suggest a filename that:\n      1. Describes the medical content accurately\n      2. Includes relevant medical terms\n      3. Is professional and clear\n      4. Uses proper medical naming conventions\n      5. Includes date if mentioned in the document\n      \n      Return only the suggested filename without any explanation.");let l=(await this.callLlamaAPI(o,e)).trim();return l=l.replace(/^["']|["']$/g,""),l=l.replace(/^Suggested filename:?/i,""),l=l.replace(/^Filename:?/i,""),l=l.trim(),l.includes(".")||(l+=".".concat(s)),l||i||t}catch(r){console.error("Error suggesting filename:",r);const a=this.analyzeDocumentContent(e),s=this.extractDate(e)||(new Date).toISOString().slice(0,10),i=t.split(".").pop();return this.generateIntelligentFileName(a,n,s,i)||t}}static generateIntelligentFileName(e,t,n,r){const a=n.replace(/[\/\-]/g,"_");return e.hasBloodWork?/glucose|diabetes|sugar/i.test(e.content||"")?"Glucose_Test_".concat(a,".").concat(r):/cholesterol|lipid/i.test(e.content||"")?"Cholesterol_Panel_".concat(a,".").concat(r):/complete blood count|cbc/i.test(e.content||"")?"Complete_Blood_Count_".concat(a,".").concat(r):/metabolic|chemistry/i.test(e.content||"")?"Metabolic_Panel_".concat(a,".").concat(r):"Blood_Test_Results_".concat(a,".").concat(r):e.hasImaging?/mri/i.test(e.content||"")?/brain|head/i.test(e.content||"")?"Brain_MRI_".concat(a,".").concat(r):/spine|back/i.test(e.content||"")?"Spine_MRI_".concat(a,".").concat(r):/knee/i.test(e.content||"")?"Knee_MRI_".concat(a,".").concat(r):"MRI_Report_".concat(a,".").concat(r):/ct|cat scan/i.test(e.content||"")?/chest/i.test(e.content||"")?"Chest_CT_".concat(a,".").concat(r):/abdomen|abdominal/i.test(e.content||"")?"Abdominal_CT_".concat(a,".").concat(r):"CT_Scan_".concat(a,".").concat(r):/x.ray|xray/i.test(e.content||"")?/chest/i.test(e.content||"")?"Chest_XRay_".concat(a,".").concat(r):/bone|fracture/i.test(e.content||"")?"Bone_XRay_".concat(a,".").concat(r):"XRay_Report_".concat(a,".").concat(r):/ultrasound/i.test(e.content||"")?/heart|cardiac/i.test(e.content||"")?"Echocardiogram_".concat(a,".").concat(r):/abdomen/i.test(e.content||"")?"Abdominal_Ultrasound_".concat(a,".").concat(r):"Ultrasound_Report_".concat(a,".").concat(r):"Medical_Imaging_".concat(a,".").concat(r):e.hasCardio?/ecg|ekg/i.test(e.content||"")?"ECG_Report_".concat(a,".").concat(r):/echocardiogram|echo/i.test(e.content||"")?"Echocardiogram_".concat(a,".").concat(r):/stress test/i.test(e.content||"")?"Stress_Test_".concat(a,".").concat(r):"Cardiology_Report_".concat(a,".").concat(r):e.hasNeuro?/eeg/i.test(e.content||"")?"EEG_Report_".concat(a,".").concat(r):/brain|neurological/i.test(e.content||"")?"Neurological_Assessment_".concat(a,".").concat(r):"Neuro_Report_".concat(a,".").concat(r):e.hasLab?/urine/i.test(e.content||"")?"Urinalysis_".concat(a,".").concat(r):/stool|fecal/i.test(e.content||"")?"Stool_Analysis_".concat(a,".").concat(r):"Lab_Results_".concat(a,".").concat(r):"Medical_Report_".concat(a,".").concat(r)}static analyzeDocumentContent(e){const t={type:"unknown",hasBloodWork:!1,hasImaging:!1,hasCardio:!1,hasNeuro:!1,hasLab:!1,content:e};return e?(/blood|hemoglobin|hgb|rbc|wbc|platelet|glucose|cholesterol|bun|creatinine/i.test(e)?(t.type="blood_work",t.hasBloodWork=!0):/mri|ct|x.ray|xray|ultrasound|scan|radiology|imaging/i.test(e)?(t.type="imaging",t.hasImaging=!0):/heart|cardiac|ecg|ekg|echocardiogram|blood pressure|bp/i.test(e)?(t.type="cardiac",t.hasCardio=!0):/brain|neurological|eeg|seizure|cognitive|neurology/i.test(e)?(t.type="neurological",t.hasNeuro=!0):/lab|laboratory|test|result|value|normal|abnormal/i.test(e)&&(t.type="lab_results",t.hasLab=!0),t):t}static async analyzeMedicalFile(e,t){try{const t="Analyze this medical document and provide helpful insights. Focus on:\n      \n      1. Key medical findings or results\n      2. Important values or measurements\n      3. Recommendations or next steps\n      4. Any concerning findings that need attention\n      5. General health insights\n      \n      Be informative but always remind the user to consult with healthcare professionals for medical advice.";return await this.callLlamaAPI(t,e)}catch(n){return console.error("Error analyzing medical file:",n),"I can help you understand this medical document. What specific aspect would you like me to explain?"}}static async answerHealthQuestion(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n="Answer this health-related question based on the medical file context provided. \n      \n      Question: ".concat(e,"\n      \n      ").concat(t?"File context: ".concat(t):"","\n      \n      Provide helpful, accurate information while always recommending consultation with healthcare professionals for medical advice.");return await this.callLlamaAPI(n,t)}catch(n){return console.error("Error answering health question:",n),"I can help you with health-related questions. What would you like to know about your medical files?"}}static async callLlamaAPI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{console.log("Calling Llama API with prompt:",e),console.log("File content length:",t?t.length:0);const n=[{role:"system",content:"You are Dr. AI, a specialized medical AI assistant with expertise in analyzing medical documents and providing intelligent health insights. Your role is to:\n\n1. ANALYZE medical documents thoroughly and provide specific, actionable insights\n2. EXPLAIN complex medical terminology in simple, understandable language\n3. IDENTIFY key findings, values, and patterns in medical data\n4. PROVIDE context about what medical results mean for patient health\n5. HIGHLIGHT important findings that need attention\n6. SUGGEST relevant questions patients should ask their doctors\n7. ALWAYS maintain a professional, empathetic, and helpful tone\n\nGuidelines:\n- Be specific and detailed in your analysis\n- Focus on the actual content of the document provided\n- Explain medical terms and concepts clearly\n- Point out normal vs abnormal values when applicable\n- Provide context about what findings mean for health\n- Suggest appropriate follow-up actions\n- Always recommend consulting healthcare providers for medical decisions\n- Be encouraging and supportive while being informative\n\nRemember: You are analyzing real medical documents, so be thorough, accurate, and helpful."},{role:"user",content:t?"".concat(e,"\n\nDocument content:\n").concat(t):e}];console.log("Sending request to Llama API...");const r=await fetch("https://api.llama.com/compat/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat({NODE_ENV:"production",PUBLIC_URL:"/ChekupAI",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_LLAMA_API_KEY||"0huAT2H-LwfZ6prnsle77Vfy730")},body:JSON.stringify({messages:n,model:"Llama-4-Maverick-17B-128E-Instruct-FP8",temperature:.6,max_completion_tokens:2048,top_p:.9,frequency_penalty:1})});if(console.log("Llama API response status:",r.status),!r.ok){const e=await r.text();throw console.error("Llama API error response:",e),new Error("Llama API error: ".concat(r.status," - ").concat(e))}const a=await r.json();if(console.log("Llama API response:",a),a.choices&&a.choices[0]&&a.choices[0].message){const e=a.choices[0].message.content;return console.log("AI Response:",e),e}throw console.error("Unexpected response format:",a),new Error("Unexpected response format from Llama API")}catch(n){return console.error("Llama API error:",n),console.log("Using fallback response due to error"),this.getFallbackResponse(e,t)}}static getFallbackResponse(e,t){const n=e.toLowerCase(),r=t||"";if(n.includes("filename")||n.includes("suggest")){const e=/blood|hemoglobin|hgb|rbc|wbc|platelet/i.test(r),t=/mri|ct|x-ray|xray|ultrasound|scan/i.test(r),n=/heart|cardiac|ecg|ekg|echocardiogram/i.test(r),a=/brain|neurological|eeg|seizure/i.test(r),s=(new Date).toISOString().slice(0,10);return e?"Blood_Test_Results_".concat(s,".pdf"):t?"Medical_Imaging_Report_".concat(s,".pdf"):n?"Cardiology_Report_".concat(s,".pdf"):a?"Neurological_Assessment_".concat(s,".pdf"):"Medical_Document_".concat(s,".pdf")}return n.includes("what")||n.includes("explain")||n.includes("mean")?/blood|hemoglobin|hgb|rbc|wbc|platelet/i.test(r)?"Based on your blood test results, I can see this appears to be a complete blood count (CBC) or similar blood work. The values shown are important indicators of your overall health. \n\nKey things to note:\n\u2022 Hemoglobin levels indicate oxygen-carrying capacity\n\u2022 White blood cell count shows immune system function\n\u2022 Platelet count affects blood clotting ability\n\n**Important**: Please consult with your healthcare provider to interpret these specific values and discuss any concerns. Normal ranges can vary based on age, gender, and individual health conditions.":/mri|ct|x-ray|xray|ultrasound|scan/i.test(r)?"This appears to be a medical imaging report. Imaging studies like MRI, CT scans, or X-rays provide detailed views of internal structures and can help diagnose various conditions.\n\nCommon findings in imaging reports:\n\u2022 Normal anatomy and structures\n\u2022 Any abnormalities or areas of concern\n\u2022 Measurements and comparisons\n\u2022 Recommendations for follow-up\n\n**Important**: Imaging results should always be reviewed by a qualified radiologist and your healthcare provider. They can explain what the images show and what it means for your health.":/heart|cardiac|ecg|ekg|echocardiogram/i.test(r)?"This looks like a cardiac examination report. Heart health monitoring is crucial for overall well-being.\n\nKey cardiac indicators:\n\u2022 Heart rate and rhythm patterns\n\u2022 Blood pressure measurements\n\u2022 Heart muscle function\n\u2022 Valve function and structure\n\n**Important**: Cardiac results should be interpreted by a cardiologist or your primary care physician. They can explain what these findings mean for your heart health and recommend appropriate next steps.":/brain|neurological|eeg|seizure/i.test(r)?"This appears to be a neurological assessment or brain-related examination. Neurological health is complex and requires careful evaluation.\n\nKey neurological factors:\n\u2022 Brain function and activity patterns\n\u2022 Nerve conduction and responses\n\u2022 Cognitive assessments\n\u2022 Motor and sensory function\n\n**Important**: Neurological results should be reviewed by a neurologist or qualified healthcare provider. They can explain the findings and their implications for your neurological health.":"I can help you understand this medical document. The content appears to contain important health information that I can help interpret. \n\nWhat specific aspect would you like me to explain in more detail? I can help with:\n\u2022 Medical terminology\n\u2022 Test results and values\n\u2022 Recommendations and next steps\n\u2022 General health insights\n\n**Remember**: Always consult with your healthcare provider for medical advice and interpretation of your specific results.":n.includes("analyze")||n.includes("insights")?"I've analyzed your medical document. The content appears to contain important health information that I can help you understand.\n\nKey areas I can help with:\n\u2022 Explaining medical terminology\n\u2022 Interpreting test results\n\u2022 Understanding recommendations\n\u2022 Identifying important findings\n\nWhat specific aspect of this document would you like me to explain in detail?":n.includes("normal")||n.includes("abnormal")||n.includes("range")?"When interpreting medical results, it's important to understand that \"normal\" ranges can vary based on several factors:\n\n\u2022 Age and gender\n\u2022 Individual health conditions\n\u2022 Laboratory standards\n\u2022 Time of day and other variables\n\n**Key points to remember:**\n- Results outside normal ranges don't always indicate a problem\n- Some values may be slightly elevated or decreased without clinical significance\n- Your healthcare provider considers your complete medical picture\n\n**Important**: Always discuss your results with your healthcare provider, who can interpret them in the context of your overall health and medical history.":"I can help you understand your medical files and answer health-related questions. \n\nI can assist with:\n\u2022 Explaining medical terminology\n\u2022 Interpreting test results and values\n\u2022 Understanding imaging reports\n\u2022 Clarifying recommendations\n\u2022 General health insights\n\nWhat specific information are you looking for? Please feel free to ask me about any aspect of your medical documents.\n\n**Remember**: While I can help explain medical information, always consult with your healthcare provider for medical advice and interpretation of your specific results."}static extractKeyInfo(e,t){const n=e||"";return{type:t,hasBloodWork:/blood|hemoglobin|hgb|rbc|wbc|platelet|glucose|cholesterol/i.test(n),hasImaging:/mri|ct|x-ray|xray|ultrasound|scan|radiology/i.test(n),hasCardio:/heart|cardiac|ecg|ekg|echocardiogram|blood pressure/i.test(n),hasNeuro:/brain|neurological|eeg|seizure|cognitive/i.test(n),hasLab:/lab|laboratory|test|result|value|normal|abnormal/i.test(n),date:this.extractDate(n),keyValues:this.extractKeyValues(n)}}static extractDate(e){const t=e.match(/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}|\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2})/g);return t?t[0]:null}static extractKeyValues(e){const t=[];return[{name:"Blood Pressure",regex:/(\d{2,3}\/\d{2,3})/g},{name:"Heart Rate",regex:/(?:heart rate|hr|pulse)[:\s]*(\d{2,3})/gi},{name:"Temperature",regex:/(?:temp|temperature)[:\s]*(\d{2,3}\.?\d*)/gi},{name:"Glucose",regex:/(?:glucose|blood sugar)[:\s]*(\d{2,3})/gi},{name:"Cholesterol",regex:/(?:cholesterol|total cholesterol)[:\s]*(\d{2,3})/gi}].forEach(n=>{const r=e.match(n.regex);r&&t.push({name:n.name,value:r[0]})}),t}}class w extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class k extends w{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j extends w{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class S extends w{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(_||(_={}));var N=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class P{constructor(e){let{headers:t={},customFetch:r,region:a=_.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return N(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:s}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(i["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(i["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),r),body:c}).catch(e=>{throw new k(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new j(u);if(!u.ok)throw new S(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof S||r instanceof j?r.context:void 0}}})}}var C=n(980);const{PostgrestClient:E,PostgrestQueryBuilder:T,PostgrestFilterBuilder:A,PostgrestTransformBuilder:R,PostgrestBuilder:D,PostgrestError:O}=C;const I=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},L="realtime-js/".concat("2.15.5"),M=1e4;var U,F,z,V,B,W;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(U||(U={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(F||(F={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(z||(z={})),function(e){e.websocket="websocket"}(V||(V={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(B||(B={}));class H{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=n.decode(e.slice(s,s+r));s+=r;const o=n.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class q{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(W||(W={}));const G=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=K(a,e,t,r),n),{})},K=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=n[e];return s&&!r.includes(s)?$(s,i):Y(i)},$=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Z(t,n)}switch(e){case W.bool:return Q(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return J(t);case W.json:case W.jsonb:return X(t);case W.timestamp:return ee(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:default:return Y(t)}},Y=e=>e,Q=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},J=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},X=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},Z=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>$(t,e))}return e},ee=e=>"string"===typeof e?e.replace(" ","T"):e,te=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ne{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var re,ae,se,ie;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(re||(re={}));class oe{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oe.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=oe.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=oe.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(ae||(ae={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(se||(se={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(ie||(ie={}));class le{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=F.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ne(this,z.join,this.params,this.timeout),this.rejoinTimer=new q(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=F.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=F.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=F.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=F.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=F.errored,this.rejoinTimer.scheduleTimeout())}),this._on(z.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new oe(this),this.broadcastEndpointURL=te(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==F.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[se.PRESENCE]&&this.bindings[se.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(ie.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(ie.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=F.errored,void(null===e||void 0===e||e(ie.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(ie.SUBSCRIBED))}null===e||void 0===e||e(ie.SUBSCRIBED)}).receive("error",t=>{this.state=F.errored,null===e||void 0===e||e(ie.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(ie.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===F.joined&&e===se.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=F.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(z.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new ne(this,z.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=F.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new ne(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=z;if(n&&[i,o,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,i={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===F.closed}_isJoined(){return this.state===F.joined}_isJoining(){return this.state===F.joining}_isLeaving(){return this.state===F.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&le.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(z.close,{},e)}_onError(e){this._on(z.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=F.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=G(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=G(e.columns,e.old_record)),t}}const ce=()=>{},ue=25e3,de=10,he=100,fe=[1e3,2e3,5e3,1e4];class pe{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=M,this.transport=null,this.heartbeatIntervalMs=ue,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ce,this.ref=0,this.reconnectTimer=null,this.logger=ce,this.conn=null,this.sendBuffer=[],this.serializer=new H,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(V.websocket),this.httpEndpoint=te(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=I.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case U.connecting:return B.Connecting;case U.open:return B.Open;case U.closing:return B.Closing;default:return B.Closed}}isConnected(){return this.connectionState()===B.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new le("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},he)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(o){this.log("error","error in heartbeat callback",o)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,s=a?"(".concat(a,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(s).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(z.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:L};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(z.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new q(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},de)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,s,i,o,l,c;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:M,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:ue,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:ce,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>fe[e-1]||1e4,this.encode=null!==(l=null===e||void 0===e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null===e||void 0===e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class me extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class ye extends me{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ve extends me{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var xe=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const be=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},we=e=>{if(Array.isArray(e))return e.map(e=>we(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=we(r)}),t};var ke=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const je=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Se=(e,t,r)=>ke(void 0,void 0,void 0,function*(){const a=yield xe(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new ye(je(n),r,a))}).catch(e=>{t(new ve(je(e),e))}):t(new ve(je(e),e))}),_e=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n)):a};function Ne(e,t,n,r,a,s){return ke(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,_e(t,r,a,s)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>Se(e,o,r))})})}function Pe(e,t,n,r){return ke(this,void 0,void 0,function*(){return Ne(e,"GET",t,n,r)})}function Ce(e,t,n,r,a){return ke(this,void 0,void 0,function*(){return Ne(e,"POST",t,r,a,n)})}function Ee(e,t,n,r,a){return ke(this,void 0,void 0,function*(){return Ne(e,"PUT",t,r,a,n)})}function Te(e,t,n,r,a){return ke(this,void 0,void 0,function*(){return Ne(e,"DELETE",t,r,a,n)})}var Ae=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Re={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},De={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Oe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=be(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return Ae(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},De),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,i["cache-control"]="max-age=".concat(s.cacheControl),i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Ee:Ce)(this.fetch,"".concat(this.url,"/object/").concat(c),a,Object.assign({headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ge(a))return{data:null,error:a};throw a}})}upload(e,t,n){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Ae(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+"/object/upload/sign/".concat(s));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:De.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield Ee(this.fetch,i.toString(),e,{headers:s})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ge(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Ae(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield Ce(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new me("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}update(e,t,n){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Ae(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield Ce(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Ce(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(s))},{data:a,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Ae(this,void 0,void 0,function*(){try{const r=yield Ce(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}download(e,t){return Ae(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield Pe(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}info(e){return Ae(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Pe(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:we(e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}exists(e){return Ae(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return ke(this,void 0,void 0,function*(){return Ne(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n)&&n instanceof ve){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(o))}}}remove(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}})}list(e,t,n){return Ae(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Re),t),{prefix:e||""});return{data:yield Ce(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listV2(e,t){return Ae(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ce(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Ie={"X-Client-Info":"storage-js/".concat("2.12.1")};var Le=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Me{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const a=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},Ie),t),this.fetch=be(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Le(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Le(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Le(this,void 0,void 0,function*(){try{return{data:yield Ee(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}})}}class Ue extends Me{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Oe(this.url,this.headers,e,this.fetch)}}let Fe="";Fe="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ze={headers:{"X-Client-Info":"supabase-js-".concat(Fe,"/").concat("2.57.4")}},Ve={schema:"public"},Be={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},We={};var He=n(630),qe=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Ge=e=>{let t;return t=e||("undefined"===typeof fetch?He.default:fetch),function(){return t(...arguments)}},Ke=(e,t,n)=>{const r=Ge(n),a="undefined"===typeof Headers?He.Headers:Headers;return(n,s)=>qe(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,Object.assign(Object.assign({},s),{headers:l}))})};var $e=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Ye="2.71.1",Qe=3e4,Je=9e4,Xe={"X-Client-Info":"gotrue-js/".concat(Ye)},Ze="X-Supabase-Api-Version",et={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},tt=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class nt extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function rt(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class at extends nt{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class st extends nt{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class it extends nt{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class ot extends it{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class lt extends it{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ct extends it{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ut extends it{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dt extends it{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ht extends it{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ft(e){return rt(e)&&"AuthRetryableFetchError"===e.name}class pt extends it{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class mt extends it{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yt=" \t\n\r=".split(""),vt=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yt.length;t+=1)e[yt[t].charCodeAt(0)]=-2;for(let t=0;t<gt.length;t+=1)e[gt[t].charCodeAt(0)]=t;return e})();function xt(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(gt[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(gt[e]),t.queuedBits-=6}}function bt(e,t,n){const r=vt[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function wt(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)bt(e.charCodeAt(i),a,s);return t.join("")}function kt(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function jt(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}kt(r,t)}}function St(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)bt(e.charCodeAt(a),n,r);return new Uint8Array(t)}function _t(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>xt(e,n,r)),xt(null,n,r),t.join("")}const Nt=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Pt={tested:!1,writable:!1},Ct=()=>{if(!Nt())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Pt.tested)return Pt.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pt.tested=!0,Pt.writable=!0}catch(t){Pt.tested=!0,Pt.writable=!1}return Pt.writable};const Et=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Tt=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},At=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Rt=async(e,t)=>{await e.removeItem(t)};class Dt{constructor(){this.promise=new Dt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Ot(e){const t=e.split(".");if(3!==t.length)throw new mt("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!tt.test(t[n]))throw new mt("JWT not in base64url format");return{header:JSON.parse(wt(t[0])),payload:JSON.parse(wt(t[1])),signature:St(t[2]),raw:{header:t[0],payload:t[1]}}}function It(e){return("0"+e.toString(16)).substr(-2)}async function Lt(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,It).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Tt(e,"".concat(t,"-code-verifier"),a);const s=await Lt(r);return[s,r===s?"plain":"s256"]}Dt.promiseConstructor=Promise;const Ut=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ft=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zt(e){if(!Ft.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vt(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Bt(e){return JSON.parse(JSON.stringify(e))}var Wt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Ht=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qt=[502,503,504];async function Gt(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new ht(Ht(e),0);if(qt.includes(e.status))throw new ht(Ht(e),e.status);let r,a;try{r=await e.json()}catch(i){throw new st(Ht(i),i)}const s=function(e){const t=e.headers.get(Ze);if(!t)return null;if(!t.match(Ut))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(i){return null}}(e);if(s&&s.getTime()>=et.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new pt(Ht(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new ot}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new pt(Ht(r),e.status,r.weak_password.reasons);throw new at(Ht(r),e.status||500,a)}async function Kt(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[Ze]||(s[Ze]=et.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const i=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,a,s){const i=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let o;try{o=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new ht(Ht(l),0)}o.ok||await Gt(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await Gt(l)}}(e,t,n+o,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function $t(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Yt(e){const t=$t(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Qt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Jt(e){return{data:e,error:null}}function Xt(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,i=Wt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function Zt(e){return e}const en=["global","local","others"];var tn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class nn{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Et(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en[0];if(en.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(en.join(", ")));try{return await Kt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Kt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Qt})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=tn(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Kt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:Xt,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(rt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Kt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Qt})}catch(t){if(rt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Kt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Zt});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(rt(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){zt(e);try{return await Kt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Qt})}catch(t){if(rt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){zt(e);try{return await Kt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Qt})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];zt(e);try{return await Kt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Qt})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){zt(e.userId);try{const{data:t,error:n}=await Kt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(rt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){zt(e.userId),zt(e.id);try{return{data:await Kt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(rt(t))return{data:null,error:t};throw t}}}function rn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const an=!!(globalThis&&Ct()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class sn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class on extends sn{}async function ln(e,t,n){an&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),an&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw an&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new on('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(an)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}an&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{an&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const cn={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function un(e,t,n){return await n()}const dn={};class hn{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hn.nextInstanceID,hn.nextInstanceID+=1,this.instanceID>0&&Nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},cn),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new nn({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Et(r.fetch),this.lock=r.lock||un,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Nt()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ln:this.lock=un,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Ct()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rn(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=rn(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=dn[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=dn[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Ye,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Nt()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return rt(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return rt(t)?{error:t}:{error:new st("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Kt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:$t}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Mt(this.storage,this.storageKey)),a=await Kt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:$t})}else{if(!("phone"in e))throw new ct("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await Kt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:$t})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Kt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Yt})}else{if(!("phone"in e))throw new ct("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Kt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Yt})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new lt}}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,a,s,i,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(Nt())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Kt(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:_t(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:$t});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new lt}}catch(m){if(rt(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await At(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await Kt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$t});if(await Rt(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new lt}}catch(a){if(rt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,i=await Kt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:$t}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new lt}}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Mt(this.storage,this.storageKey));const{error:o}=await Kt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await Kt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new ct("You must provide either an email or phone number.")}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:i}=await Kt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:$t});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(rt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await Mt(this.storage,this.storageKey)),await Kt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Jt})}catch(a){if(rt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new ot;const{error:r}=await Kt(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(rt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await Kt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:i}=await Kt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new ct("You must provide either an email or phone number and a type")}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await At(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Je;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await At(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Vt()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Kt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Qt}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Kt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Qt}):{data:{user:null},error:new ot}})}catch(t){if(rt(t))return function(e){return rt(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Rt(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new ot;const s=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Mt(this.storage,this.storageKey));const{data:l,error:c}=await Kt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:Qt});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ot;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=Ot(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(rt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new ot;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Nt())throw new ut("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ut(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new dt("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new ut("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dt("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new ut("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=Qe&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(rt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await At(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return rt(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Rt(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Mt(this.storage,this.storageKey,!0));try{return await Kt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(rt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(rt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Kt(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return Nt()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(rt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await Kt(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(rt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Kt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:$t})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&ft(t)&&Date.now()+n-a<Qe},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(a){if(!r(s,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),rt(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Nt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await At(this.storage,this.storageKey);if(a&&this.userStorage){let t=await At(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Tt(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Vt()}else if(a&&!a.user&&!a.user){const e=await At(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await Rt(this.storage,this.storageKey+"-user"),await Tt(this.storage,this.storageKey,a)):a.user=Vt()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<Je;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(Je,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),ft(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Dt;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new ot;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),rt(a)){const e={session:null,error:a};return ft(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(a){r.push(a)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Tt(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Bt(e);await Tt(this.storage,this.storageKey,r)}else{const e=Bt(t);await Tt(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qe);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Qe);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Qe,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof sn))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Mt(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Kt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(rt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Kt(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(rt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:i}=await Kt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(rt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Kt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(rt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ot(r.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await Kt(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:i,payload:o}}=Ot(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return jt(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new mt("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}}hn.nextInstanceID=0;const fn=hn;class pn extends fn{constructor(e){super(e)}}var mn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class gn{constructor(e,t,n){var r,a,s;this.supabaseUrl=e,this.supabaseKey=t;const i=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o="sb-".concat(i.hostname.split(".")[0],"-auth-token"),l=function(e,t){var n,r;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>$e(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Ve,realtime:We,auth:Object.assign(Object.assign({},Be),{storageKey:o}),global:ze});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=l.global.headers)&&void 0!==a?a:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=Ke(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new E(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Ue(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new P(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return mn(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:l,flowType:c,lock:u,debug:d}=e;const h={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new pn({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),t),storageKey:l,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,flowType:c,lock:u,debug:d,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new pe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yn=((e,t,n)=>new gn(e,t,n))({NODE_ENV:"production",PUBLIC_URL:"/ChekupAI",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL||"https://xwzxdnsutgwzutipehof.supabase.co",{NODE_ENV:"production",PUBLIC_URL:"/ChekupAI",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3enhkbnN1dGd3enV0aXBlaG9mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxNDIzMDAsImV4cCI6MjA3MzcxODMwMH0.-fuWiyuYXHrVqpqRkQw4F1qmUzb9brJnJxWfM4kQZOI"),vn="users",xn="medical_files",bn="family_members",wn="audit_logs",kn="ai_chats",jn="medical-files",Sn={async uploadFile(e,t,n){try{const{data:r,error:a}=await yn.storage.from(jn).upload("".concat(t,"/").concat(n),e);if(a)throw a;return{data:r,error:null}}catch(r){return console.error("Upload error:",r),{data:null,error:r}}},async getFileUrl(e){try{const{data:t,error:n}=await yn.storage.from(jn).createSignedUrl(e,3600);if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Get URL error:",t),{data:null,error:t}}},async deleteFile(e){try{const{data:t,error:n}=await yn.storage.from(jn).remove([e]);if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Delete error:",t),{data:null,error:t}}}},_n={async getUserFiles(e){try{const{data:t,error:n}=await yn.from(xn).select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Get files error:",t),{data:null,error:t}}},async addFile(e){try{const{data:t,error:n}=await yn.from(xn).insert([e]).select();if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Add file error:",t),{data:null,error:t}}},async updateFile(e,t){try{const{data:n,error:r}=await yn.from(xn).update(t).eq("id",e).select();if(r)throw r;return{data:n,error:null}}catch(n){return console.error("Update file error:",n),{data:null,error:n}}},async deleteFile(e){try{const{data:t,error:n}=await yn.from(xn).delete().eq("id",e);if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Delete file error:",t),{data:null,error:t}}},async getFamilyMembers(e){try{const{data:t,error:n}=await yn.from(bn).select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Get family members error:",t),{data:null,error:t}}},async addFamilyMember(e){try{const{data:t,error:n}=await yn.from(bn).insert([e]).select();if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Add family member error:",t),{data:null,error:t}}},async addAuditLog(e){try{const{data:t,error:n}=await yn.from(wn).insert([e]);if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Add audit log error:",t),{data:null,error:t}}},async getAuditLogs(e){try{const{data:t,error:n}=await yn.from(wn).select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Get audit logs error:",t),{data:null,error:t}}},async getUserProfile(e){try{const{data:t,error:n}=await yn.from(vn).select("*").eq("id",e).single();if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Get user profile error:",t),{data:null,error:t}}},async updateUserProfile(e,t){try{const{data:n,error:r}=await yn.from(vn).update(t).eq("id",e).select();if(r)throw r;return{data:n,error:null}}catch(n){return console.error("Update user profile error:",n),{data:null,error:n}}},async addAIChat(e){try{const{data:t,error:n}=await yn.from(kn).insert([e]);if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Add AI chat error:",t),{data:null,error:t}}}},Nn=(0,r.createContext)({}),Pn=()=>{const e=(0,r.useContext)(Nn);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Cn=(0,m.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var En=n(87),Tn=n(614);const An=(0,m.A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),Rn=(0,m.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Dn=()=>{const{user:e}=Pn(),[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)([]),[y,x]=(0,r.useState)(!1),w=(0,r.useRef)(null),k=(0,r.useRef)(null),j=(0,r.useRef)(null),S=[{id:"mock-1",file_name:"Blood_Test_Results_2024-01-15.pdf",file_type:"Document",file_size:"2.3 MB",icon:"\ud83d\udcc4",status:"private",uploaded_at:"2024-01-15T10:30:00Z",content:"Complete Blood Count (CBC) results showing hemoglobin levels, white blood cell count, and platelet count. All values within normal range.",description:"Annual blood work results"},{id:"mock-2",file_name:"Chest_XRay_2024-01-10.jpg",file_type:"Imaging",file_size:"1.8 MB",icon:"\ud83d\uddbc\ufe0f",status:"private",uploaded_at:"2024-01-10T14:20:00Z",content:"Chest X-ray showing clear lung fields, normal heart size, and no acute abnormalities. No signs of pneumonia or other respiratory issues.",description:"Routine chest X-ray examination"},{id:"mock-3",file_name:"ECG_Report_2024-01-08.pdf",file_type:"Document",file_size:"1.2 MB",icon:"\ud83d\udcc4",status:"private",uploaded_at:"2024-01-08T09:15:00Z",content:"Electrocardiogram showing normal sinus rhythm, heart rate 72 bpm, no arrhythmias detected. All intervals within normal limits.",description:"Electrocardiogram examination"},{id:"mock-4",file_name:"MRI_Brain_2024-01-05.dcm",file_type:"DICOM",file_size:"45.2 MB",icon:"\ud83c\udfe5",status:"private",uploaded_at:"2024-01-05T16:45:00Z",content:"Brain MRI showing normal brain anatomy, no masses or lesions detected. Ventricular system appears normal. No signs of acute pathology.",description:"Brain MRI scan for headache evaluation"},{id:"mock-5",file_name:"Lab_Results_2024-01-03.xlsx",file_type:"Spreadsheet",file_size:"856 KB",icon:"\ud83d\udcca",status:"private",uploaded_at:"2024-01-03T11:30:00Z",content:"Comprehensive metabolic panel including glucose, cholesterol, liver function tests, and kidney function markers. Most values within normal range.",description:"Comprehensive lab panel results"}],_=(0,r.useCallback)(async()=>{try{let t=[];if(e){const{data:n,error:r}=await _n.getUserFiles(e.id);if(r)throw r;t=n||[]}const r=[...t,...S];n(r)}catch(t){console.error("Error loading files:",t),n(S)}},[null===e||void 0===e?void 0:e.id]);(0,r.useEffect)(()=>{_()},[_]);const N=e=>({pdf:"Document",doc:"Document",docx:"Document",jpg:"Imaging",jpeg:"Imaging",png:"Imaging",dcm:"DICOM",txt:"Notes",xlsx:"Spreadsheet",csv:"Data"}[e.split(".").pop().toLowerCase()]||"Other"),P=e=>({pdf:"\ud83d\udcc4",doc:"\ud83d\udcdd",docx:"\ud83d\udcdd",jpg:"\ud83d\uddbc\ufe0f",jpeg:"\ud83d\uddbc\ufe0f",png:"\ud83d\uddbc\ufe0f",dcm:"\ud83c\udfe5",txt:"\ud83d\udccb",xlsx:"\ud83d\udcca",csv:"\ud83d\udcc8"}[e.split(".").pop().toLowerCase()]||"\ud83d\udcc1"),C=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},E=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=n=>{n.target.result;const r=T(e.name,e.type);t(r)},r.onerror=e=>n(e),r.readAsText(e)}),T=(e,t)=>{const n=e.split(".").pop().toLowerCase();return"pdf"===n||t.includes("document")?e.toLowerCase().includes("blood")?"Complete Blood Count (CBC) Results\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nLABORATORY VALUES:\n- Hemoglobin: 14.2 g/dL (Normal: 12-16)\n- Hematocrit: 42.5% (Normal: 36-46)\n- White Blood Cells: 7.2 K/\u03bcL (Normal: 4.5-11)\n- Red Blood Cells: 4.8 M/\u03bcL (Normal: 4.2-5.4)\n- Platelets: 285 K/\u03bcL (Normal: 150-450)\n- Glucose: 95 mg/dL (Normal: 70-100)\n- Total Cholesterol: 185 mg/dL (Normal: <200)\n\nINTERPRETATION:\nAll values are within normal limits. No abnormalities detected.\n\nRECOMMENDATIONS:\nContinue regular health monitoring. Results are satisfactory."):e.toLowerCase().includes("mri")?"MRI Brain Report\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nTECHNIQUE:\nMultiplanar, multisequence MRI of the brain without contrast.\n\nFINDINGS:\n- Brain parenchyma: Normal\n- Ventricular system: Normal size and configuration\n- Cerebral hemispheres: Symmetric\n- Cerebellum: Normal\n- Brainstem: Normal\n- No acute intracranial abnormality\n- No mass lesions or areas of abnormal enhancement\n\nIMPRESSION:\nNormal brain MRI. No acute intracranial pathology."):e.toLowerCase().includes("ecg")||e.toLowerCase().includes("ekg")?"Electrocardiogram (ECG) Report\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nRHYTHM: Normal sinus rhythm\nRATE: 72 beats per minute\nPR INTERVAL: 160 ms (Normal: 120-200)\nQRS DURATION: 88 ms (Normal: <120)\nQT INTERVAL: 380 ms (Normal: <440)\n\nINTERPRETATION:\n- Normal sinus rhythm\n- Normal PR interval\n- Normal QRS duration\n- No ST-T wave abnormalities\n- No arrhythmias detected\n\nIMPRESSION:\nNormal ECG. No acute cardiac abnormalities."):"Medical Report\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nThis is a medical document containing important health information. The report includes various medical findings, test results, and recommendations that should be reviewed by a healthcare professional.\n\nKey findings and values are presented in this document, along with clinical interpretations and follow-up recommendations."):"jpg"===n||"jpeg"===n||"png"===n?"Medical Imaging Report\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nThis is a medical imaging file containing diagnostic images. The images show various anatomical structures and may reveal important diagnostic information.\n\nCommon findings in medical imaging include:\n- Normal anatomical structures\n- Areas of interest for diagnosis\n- Measurements and comparisons\n- Recommendations for follow-up\n\nPlease consult with a radiologist or healthcare provider for proper interpretation of these images."):"Medical Document\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nThis medical document contains important health information including test results, findings, and recommendations. The document should be reviewed by a qualified healthcare professional for proper interpretation and medical advice.")},A=async()=>{if(!f.trim()||!a)return;console.log("AI Chat: Sending message:",f.trim()),console.log("AI Chat: Selected file:",a);const t={sender:"user",text:f.trim(),timestamp:new Date};if(g(e=>[...e,t]),e&&!a.id.startsWith("mock-"))try{await _n.addAIChat({user_id:e.id,file_id:a.id,message:f.trim(),sender:"user"})}catch(r){console.log("Database save failed:",r)}const n=f.trim();p("");try{console.log("AI Chat: Calling AIService.answerHealthQuestion");const t=await b.answerHealthQuestion(n,a.content);console.log("AI Chat: Received response:",t);const s={sender:"ai",text:t,timestamp:new Date};if(g(e=>[...e,s]),e&&!a.id.startsWith("mock-"))try{await _n.addAIChat({user_id:e.id,file_id:a.id,message:t,sender:"ai"})}catch(r){console.log("Database save failed:",r)}}catch(r){console.error("Error getting AI chat response:",r);const e={sender:"ai",text:"Sorry, I could not process your request at this time.",timestamp:new Date};g(t=>[...t,e])}};return(0,r.useEffect)(()=>{d&&w.current&&w.current.focus()},[d]),(0,r.useEffect)(()=>{k.current&&(k.current.scrollTop=k.current.scrollHeight)},[m]),(0,u.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 pb-24 max-w-mobile mx-auto",children:[(0,u.jsx)("div",{className:"px-4 py-6 bg-white/80 backdrop-blur-sm border-b border-gray-200",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Files"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Upload and manage your medical documents"})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("input",{ref:j,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.dcm,.txt,.xlsx,.csv",onChange:async t=>{const r=Array.from(t.target.files);if(0!==r.length){x(!0);try{for(const t of r){const r=await E(t),s=await b.suggestFileName(r,t.name,N(t.name)),i={id:"uploaded-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),user_id:(null===e||void 0===e?void 0:e.id)||"demo-user",file_path:"demo/".concat(s),file_name:s,file_type:N(t.name),file_size:C(t.size),status:"private",icon:P(t.name),earnings:0,description:"",content:r,ai_analyzed:!0,uploaded_at:(new Date).toISOString()};if(n(e=>[i,...e]),e){try{const n="".concat(e.id,"/").concat(Date.now(),"-").concat(s),{error:r}=await Sn.uploadFile(t,e.id,n);r||(i.file_path=n)}catch(a){console.log("Supabase upload failed, using local storage:",a)}try{await _n.addFile(i)}catch(a){console.log("Database save failed, using local storage:",a)}try{await _n.addAuditLog({user_id:e.id,actor:"Patient",action:"File Uploaded",scope:i.file_type,details:"File: ".concat(i.file_name,", Size: ").concat(i.file_size)})}catch(a){console.log("Audit log failed:",a)}}}}catch(a){console.error("File upload process error:",a)}finally{x(!1)}}},className:"hidden",id:"file-upload"}),(0,u.jsxs)("label",{htmlFor:"file-upload",className:"px-4 py-2 rounded-lg bg-blue-600 text-white text-sm cursor-pointer hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,u.jsx)(Cn,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:y?"Uploading...":"Upload"})]})]})]})}),(0,u.jsx)("div",{className:"px-4 py-4",children:(0,u.jsx)("div",{className:"grid grid-cols-1 gap-3",children:t.map(e=>(0,u.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-all cursor-pointer",onClick:()=>(e=>{s(e),c(!0),h(!1),g([])})(e),children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,u.jsx)("span",{className:"text-2xl",children:e.icon})}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:e.file_name}),e.id.startsWith("mock-")?(0,u.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Sample"}):(0,u.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Uploaded"})]}),(0,u.jsxs)("p",{className:"text-xs text-gray-600",children:[e.file_type," \u2022 ",e.file_size||"\u2014"]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.uploaded_at).toLocaleDateString()})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("button",{onClick:t=>{t.stopPropagation(),s(e),c(!0),h(!0),g([])},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ask AI about this file",children:(0,u.jsx)(v.A,{className:"w-4 h-4"})}),(0,u.jsx)("button",{onClick:t=>{t.stopPropagation(),s(e),c(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View details",children:(0,u.jsx)(En.A,{className:"w-4 h-4"})})]})]})},e.id))})}),(0,u.jsx)(i.N,{children:l&&a&&(0,u.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>{c(!1),h(!1),g([])},children:(0,u.jsxs)(o.P.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto relative",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("button",{onClick:()=>{c(!1),h(!1),g([])},className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:(0,u.jsx)(Tn.A,{className:"w-5 h-5"})}),(0,u.jsxs)("div",{className:"text-center mb-4",children:[(0,u.jsx)("span",{className:"text-5xl block mb-2",children:a.icon}),(0,u.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:a.file_name}),(0,u.jsxs)("p",{className:"text-sm text-gray-600",children:[a.file_type," \u2022 ",a.file_size," \u2022 ",new Date(a.uploaded_at).toLocaleDateString()]})]}),(0,u.jsxs)("div",{className:"space-y-2 text-sm text-gray-700 mb-4",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Status:"})," ",(0,u.jsx)("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-700",children:"Private"})]}),a.description&&(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Description:"})," ",a.description]})]}),(0,u.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,u.jsxs)("button",{onClick:()=>h(!d),className:"flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2",children:[(0,u.jsx)(An,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:d?"Hide AI Chat":"Ask AI about this file"})]}),!a.id.startsWith("mock-")&&(0,u.jsx)("button",{onClick:()=>(async t=>{if(t.startsWith("mock-"))alert("Cannot delete sample files");else if(window.confirm("Are you sure you want to delete this file?"))try{await _n.deleteFile(t),await _n.addAuditLog({user_id:e.id,actor:"Patient",action:"File Deleted",scope:"File Management",details:"File ID: ".concat(t," deleted")}),_(),c(!1),s(null)}catch(n){console.error("Error deleting file:",n)}})(a.id),className:"px-3 py-2 bg-red-100 text-red-600 rounded-lg text-sm font-medium hover:bg-red-200 transition-colors",children:(0,u.jsx)(Rn,{className:"w-4 h-4"})})]}),(0,u.jsx)(i.N,{children:d&&(0,u.jsxs)(o.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 pt-4",children:[(0,u.jsx)("div",{ref:k,className:"h-40 overflow-y-auto bg-gray-50 p-3 rounded-lg text-sm space-y-2 mb-3",children:0===m.length?(0,u.jsx)("p",{className:"text-gray-500 italic",children:"Ask me anything about this file!"}):m.map((e,t)=>(0,u.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,u.jsx)("div",{className:"max-w-[80%] p-2 rounded-lg ".concat("user"===e.sender?"bg-blue-100 text-blue-800":"bg-white text-gray-800 border border-gray-200"),children:e.text})},t))}),(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsx)("input",{ref:w,type:"text",value:f,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&A(),placeholder:"Type your question...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"}),(0,u.jsx)("button",{onClick:A,className:"bg-purple-600 text-white px-3 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:(0,u.jsx)(v.A,{className:"w-4 h-4"})})]})]})})]})})})]})},On=()=>{const{user:e}=Pn(),[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)(!1),[y,x]=(0,r.useState)(!1),w=(0,r.useRef)(null),k=(0,r.useRef)(null),j=(0,r.useRef)(null),S=e=>({pdf:"Document",doc:"Document",docx:"Document",jpg:"Imaging",jpeg:"Imaging",png:"Imaging",dcm:"DICOM",txt:"Notes",xlsx:"Spreadsheet",csv:"Data"}[e.split(".").pop().toLowerCase()]||"Other"),_=e=>({pdf:"\ud83d\udcc4",doc:"\ud83d\udcdd",docx:"\ud83d\udcdd",jpg:"\ud83d\uddbc\ufe0f",jpeg:"\ud83d\uddbc\ufe0f",png:"\ud83d\uddbc\ufe0f",dcm:"\ud83c\udfe5",txt:"\ud83d\udccb",xlsx:"\ud83d\udcca",csv:"\ud83d\udcc8"}[e.split(".").pop().toLowerCase()]||"\ud83d\udcc1"),N=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},P=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=n=>{n.target.result;const r=C(e.name,e.type);t(r)},r.onerror=e=>n(e),r.readAsText(e)}),C=(e,t)=>{const n=e.split(".").pop().toLowerCase();return"pdf"===n||t.includes("document")?e.toLowerCase().includes("blood")?"Complete Blood Count (CBC) Results\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nLABORATORY VALUES:\n- Hemoglobin: 14.2 g/dL (Normal: 12-16)\n- Hematocrit: 42.5% (Normal: 36-46)\n- White Blood Cells: 7.2 K/\u03bcL (Normal: 4.5-11)\n- Red Blood Cells: 4.8 M/\u03bcL (Normal: 4.2-5.4)\n- Platelets: 285 K/\u03bcL (Normal: 150-450)\n- Glucose: 95 mg/dL (Normal: 70-100)\n- Total Cholesterol: 185 mg/dL (Normal: <200)\n\nINTERPRETATION:\nAll values are within normal limits. No abnormalities detected.\n\nRECOMMENDATIONS:\nContinue regular health monitoring. Results are satisfactory."):e.toLowerCase().includes("mri")?"MRI Brain Report\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nTECHNIQUE:\nMultiplanar, multisequence MRI of the brain without contrast.\n\nFINDINGS:\n- Brain parenchyma: Normal\n- Ventricular system: Normal size and configuration\n- Cerebral hemispheres: Symmetric\n- Cerebellum: Normal\n- Brainstem: Normal\n- No acute intracranial abnormality\n- No mass lesions or areas of abnormal enhancement\n\nIMPRESSION:\nNormal brain MRI. No acute intracranial pathology."):e.toLowerCase().includes("ecg")||e.toLowerCase().includes("ekg")?"Electrocardiogram (ECG) Report\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nRHYTHM: Normal sinus rhythm\nRATE: 72 beats per minute\nPR INTERVAL: 160 ms (Normal: 120-200)\nQRS DURATION: 88 ms (Normal: <120)\nQT INTERVAL: 380 ms (Normal: <440)\n\nINTERPRETATION:\n- Normal sinus rhythm\n- Normal PR interval\n- Normal QRS duration\n- No ST-T wave abnormalities\n- No arrhythmias detected\n\nIMPRESSION:\nNormal ECG. No acute cardiac abnormalities."):"Medical Report\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nThis is a medical document containing important health information. The report includes various medical findings, test results, and recommendations that should be reviewed by a healthcare professional.\n\nKey findings and values are presented in this document, along with clinical interpretations and follow-up recommendations."):"jpg"===n||"jpeg"===n||"png"===n?"Medical Imaging Report\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nThis is a medical imaging file containing diagnostic images. The images show various anatomical structures and may reveal important diagnostic information.\n\nCommon findings in medical imaging include:\n- Normal anatomical structures\n- Areas of interest for diagnosis\n- Measurements and comparisons\n- Recommendations for follow-up\n\nPlease consult with a radiologist or healthcare provider for proper interpretation of these images."):"Medical Document\nDate: ".concat((new Date).toLocaleDateString(),"\nPatient: Demo User\n\nThis medical document contains important health information including test results, findings, and recommendations. The document should be reviewed by a qualified healthcare professional for proper interpretation and medical advice.")},E=async t=>{const r=Array.from(t);if(0!==r.length){g(!0);try{for(const t of r){const r=await P(t),s=await b.suggestFileName(r,t.name,S(t.name)),i={id:"uploaded-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),user_id:(null===e||void 0===e?void 0:e.id)||"demo-user",file_path:"demo/".concat(s),file_name:s,file_type:S(t.name),file_size:N(t.size),status:"private",icon:_(t.name),earnings:0,description:"",content:r,ai_analyzed:!0,uploaded_at:(new Date).toISOString()};if(n(e=>[i,...e]),e){try{const n="".concat(e.id,"/").concat(Date.now(),"-").concat(s),{error:r}=await Sn.uploadFile(t,e.id,n);r||(i.file_path=n)}catch(a){console.log("Supabase upload failed, using local storage:",a)}try{await _n.addFile(i)}catch(a){console.log("Database save failed, using local storage:",a)}try{await _n.addAuditLog({user_id:e.id,actor:"Patient",action:"File Uploaded",scope:i.file_type,details:"File: ".concat(i.file_name,", Size: ").concat(i.file_size)})}catch(a){console.log("Audit log failed:",a)}}}}catch(a){console.error("File upload process error:",a)}finally{g(!1)}}},T=async()=>{if(!d.trim()||!a)return;console.log("Upload AI Chat: Sending message:",d.trim()),console.log("Upload AI Chat: Selected file:",a);const t={sender:"user",text:d.trim(),timestamp:new Date};if(p(e=>[...e,t]),e&&!a.id.startsWith("mock-"))try{await _n.addAIChat({user_id:e.id,file_id:a.id,message:d.trim(),sender:"user"})}catch(r){console.log("Database save failed:",r)}const n=d.trim();h("");try{console.log("Upload AI Chat: Calling AIService.answerHealthQuestion");const t=await b.answerHealthQuestion(n,a.content);console.log("Upload AI Chat: Received response:",t);const s={sender:"ai",text:t,timestamp:new Date};if(p(e=>[...e,s]),e&&!a.id.startsWith("mock-"))try{await _n.addAIChat({user_id:e.id,file_id:a.id,message:t,sender:"ai"})}catch(r){console.log("Database save failed:",r)}}catch(r){console.error("Error getting AI chat response:",r);const e={sender:"ai",text:"Sorry, I could not process your request at this time.",timestamp:new Date};p(t=>[...t,e])}};return(0,r.useEffect)(()=>{l&&k.current&&k.current.focus()},[l]),(0,r.useEffect)(()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},[f]),(0,u.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 pb-24 max-w-mobile mx-auto",children:[(0,u.jsx)("div",{className:"px-4 py-6 bg-white/80 backdrop-blur-sm border-b border-gray-200",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload Documents"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Upload your medical files and ask AI questions"})]})}),(0,u.jsxs)("div",{className:"px-4 py-6",children:[(0,u.jsxs)("div",{className:"relative border-2 border-dashed rounded-2xl p-8 text-center transition-all duration-200 ".concat(y?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDrop:e=>{e.preventDefault(),x(!1);const t=e.dataTransfer.files;E(t)},onDragOver:e=>{e.preventDefault(),x(!0)},onDragLeave:e=>{e.preventDefault(),x(!1)},children:[(0,u.jsx)("input",{ref:w,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.dcm,.txt,.xlsx,.csv",onChange:e=>{E(e.target.files)},className:"hidden",id:"file-upload"}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("div",{className:"w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center",children:(0,u.jsx)(Cn,{className:"w-8 h-8 text-blue-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m?"Uploading...":"Drop files here or click to upload"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Support for PDF, DOC, images, and more"})]}),(0,u.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:[(0,u.jsx)(Cn,{className:"w-4 h-4 mr-2"}),"Choose Files"]})]})]}),t.length>0&&(0,u.jsxs)("div",{className:"mt-8",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Uploaded Files"}),(0,u.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,u.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-all",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,u.jsx)("span",{className:"text-2xl",children:e.icon})}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:e.file_name}),(0,u.jsxs)("p",{className:"text-xs text-gray-600",children:[e.file_type," \u2022 ",e.file_size]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("button",{onClick:()=>(e=>{s(e),c(!0),p([])})(e),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ask AI about this file",children:(0,u.jsx)(v.A,{className:"w-4 h-4"})}),(0,u.jsx)("button",{onClick:()=>{return t=e.id,n(e=>e.filter(e=>e.id!==t)),void(a&&a.id===t&&(s(null),c(!1),p([])));var t},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove file",children:(0,u.jsx)(Rn,{className:"w-4 h-4"})})]})]})},e.id))})]})]}),(0,u.jsx)(i.N,{children:l&&a&&(0,u.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>{c(!1),p([])},children:(0,u.jsxs)(o.P.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto relative",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("button",{onClick:()=>{c(!1),p([])},className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:(0,u.jsx)(Tn.A,{className:"w-5 h-5"})}),(0,u.jsxs)("div",{className:"text-center mb-4",children:[(0,u.jsx)("span",{className:"text-4xl block mb-2",children:a.icon}),(0,u.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:a.file_name}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Ask AI about this document"})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("div",{ref:j,className:"h-48 overflow-y-auto bg-gray-50 p-4 rounded-lg text-sm space-y-3",children:0===f.length?(0,u.jsxs)("div",{className:"text-center text-gray-500",children:[(0,u.jsx)(An,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),(0,u.jsx)("p",{className:"italic",children:"Ask me anything about this file!"})]}):f.map((e,t)=>(0,u.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,u.jsx)("div",{className:"max-w-[80%] p-3 rounded-lg ".concat("user"===e.sender?"bg-blue-100 text-blue-800":"bg-white text-gray-800 border border-gray-200"),children:e.text})},t))}),(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsx)("input",{ref:k,type:"text",value:d,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&T(),placeholder:"Ask about this document...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,u.jsx)("button",{onClick:T,className:"bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:(0,u.jsx)(v.A,{className:"w-4 h-4"})})]})]})]})})})]})},In=e=>{let{userData:t,onDataUpdate:n}=e;const[a,s]=(0,r.useState)(!1);return(0,u.jsxs)("div",{className:"min-h-screen bg-white pb-24 max-w-mobile mx-auto",children:[(0,u.jsx)("div",{className:"px-4 py-4",children:(0,u.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Wallet"})}),(0,u.jsx)("div",{className:"px-4 mb-4",children:(0,u.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs text-gray-600",children:"Balance"}),(0,u.jsxs)("p",{className:"text-xl font-semibold text-gray-900",children:["$",t.balance.toFixed(2)]})]}),(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udcb3"})]}),(0,u.jsx)("button",{onClick:()=>{s(!0)},disabled:0===t.balance,className:"w-full py-2 rounded-lg font-medium text-sm ".concat(0===t.balance?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:"Cash Out"})]})}),(0,u.jsxs)("div",{className:"px-4",children:[(0,u.jsx)("h2",{className:"text-base font-medium text-gray-900 mb-3",children:"Recent Activity"}),(0,u.jsx)("div",{className:"space-y-2",children:[{id:1,type:"earned",amount:5,description:"Doctor viewed your MRI",date:"2024-01-15",time:"2:30 PM",icon:"\ud83e\ude7a"},{id:2,type:"earned",amount:20,description:"PharmaX added your file",date:"2024-01-14",time:"10:15 AM",icon:"\ud83d\udc8a"},{id:3,type:"earned",amount:2,description:"Doctor viewed your blood test",date:"2024-01-13",time:"4:45 PM",icon:"\ud83e\ude78"},{id:4,type:"earned",amount:8,description:"Research participation bonus",date:"2024-01-12",time:"9:20 AM",icon:"\ud83d\udd2c"},{id:5,type:"earned",amount:15,description:"Dataset contribution",date:"2024-01-11",time:"3:10 PM",icon:"\ud83d\udcca"}].map((e,t)=>(0,u.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:e.icon}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:e.description}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:e.date})]})]}),(0,u.jsxs)("span",{className:"text-sm font-semibold text-green-600",children:["+$",e.amount.toFixed(2)]})]},e.id))})]}),(0,u.jsx)(i.N,{children:a&&(0,u.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>s(!1),children:(0,u.jsx)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-sm w-full",onClick:e=>e.stopPropagation(),children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"w-16 h-16 bg-money-green/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,u.jsx)("span",{className:"text-2xl",children:"\ud83d\udcb8"})}),(0,u.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cash Out"}),(0,u.jsxs)("p",{className:"text-gray-600 mb-4",children:["You're about to withdraw ",(0,u.jsxs)("strong",{children:["$",t.balance.toFixed(2)]})," to your bank account."]}),(0,u.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Funds will be transferred within 1-2 business days."}),(0,u.jsxs)("div",{className:"flex space-x-3",children:[(0,u.jsx)(o.P.button,{whileTap:{scale:.95},onClick:()=>s(!1),className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,u.jsx)(o.P.button,{whileTap:{scale:.95},onClick:()=>{n({balance:0}),s(!1)},className:"flex-1 py-3 px-4 bg-money-green text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Confirm"})]})]})})})})]})},Ln=(0,m.A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);var Mn=n(537);const Un=(0,m.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Fn=(0,m.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),zn=(0,m.A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Vn=(0,m.A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Bn=(0,m.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Wn=()=>{const[e,t]=(0,r.useState)("points"),n=1250,a=[{id:1,action:"Completed Health Checkup",points:50,date:"2024-01-20",icon:Ln},{id:2,action:"Uploaded Medical Document",points:25,date:"2024-01-18",icon:Mn.A},{id:3,action:"Set Medication Reminder",points:15,date:"2024-01-17",icon:p.A},{id:4,action:"Shared Health Data",points:30,date:"2024-01-15",icon:Un},{id:5,action:"Completed Daily Check-in",points:10,date:"2024-01-14",icon:Fn}],s=[{id:1,title:"Free Health Consultation",cost:500,description:"30-minute video call with a health expert",icon:Ln,color:"blue"},{id:2,title:"Premium Health Report",cost:300,description:"Detailed AI analysis of your health data",icon:zn,color:"purple"},{id:3,title:"Health Tracking Device",cost:1e3,description:"Smart fitness tracker with health monitoring",icon:Mn.A,color:"green"},{id:4,title:"Nutrition Plan",cost:200,description:"Personalized meal planning and recipes",icon:Vn,color:"orange"},{id:5,title:"Meditation App Premium",cost:150,description:"1-year subscription to premium meditation app",icon:Fn,color:"pink"}];return(0,u.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 pb-24 max-w-mobile mx-auto",children:[(0,u.jsxs)("div",{className:"px-4 py-6 bg-white/80 backdrop-blur-sm border-b border-gray-200",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Points & Rewards"}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Earn points for healthy activities and redeem rewards"})]}),(0,u.jsx)("div",{className:"px-4 py-4",children:(0,u.jsxs)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl p-6 text-white",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:n.toLocaleString()}),(0,u.jsx)("p",{className:"text-sm opacity-90",children:"Total Points"})]}),(0,u.jsxs)("div",{className:"text-right",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(zn,{className:"w-6 h-6"}),(0,u.jsx)("span",{className:"text-lg font-semibold",children:"Gold"})]}),(0,u.jsx)("p",{className:"text-xs opacity-90",children:"Current Level"})]})]}),(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,u.jsx)("span",{children:"Progress to next level"}),(0,u.jsxs)("span",{children:[750," points to go"]})]}),(0,u.jsx)("div",{className:"w-full bg-white/20 rounded-full h-3",children:(0,u.jsx)("div",{className:"bg-white h-3 rounded-full transition-all duration-500",style:{width:"".concat(62.5,"%")}})})]})]})}),(0,u.jsx)("div",{className:"px-4 py-2",children:(0,u.jsxs)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[(0,u.jsx)("button",{onClick:()=>t("points"),className:"flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ".concat("points"===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"My Points"}),(0,u.jsx)("button",{onClick:()=>t("rewards"),className:"flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ".concat("rewards"===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Rewards"}),(0,u.jsx)("button",{onClick:()=>t("earn"),className:"flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ".concat("earn"===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Earn More"})]})}),(0,u.jsxs)("div",{className:"px-4 py-4",children:["points"===e&&(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Points Earned"}),(0,u.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,u.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,u.jsx)(e.icon,{className:"w-5 h-5 text-green-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.action}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:e.date})]})]}),(0,u.jsxs)("div",{className:"text-right",children:[(0,u.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["+",e.points]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"points"})]})]})},e.id))})]}),"rewards"===e&&(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Available Rewards"}),(0,u.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.map(e=>(0,u.jsxs)(o.P.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 ".concat(n>=e.cost?"hover:shadow-md":"opacity-60"),children:[(0,u.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat("blue"===e.color?"bg-blue-100":"purple"===e.color?"bg-purple-100":"green"===e.color?"bg-green-100":"orange"===e.color?"bg-orange-100":"bg-pink-100"),children:(0,u.jsx)(e.icon,{className:"w-6 h-6 ".concat("blue"===e.color?"text-blue-600":"purple"===e.color?"text-purple-600":"green"===e.color?"text-green-600":"orange"===e.color?"text-orange-600":"text-pink-600")})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("h4",{className:"font-semibold text-gray-900",children:e.title}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]}),(0,u.jsxs)("div",{className:"text-right",children:[(0,u.jsx)("div",{className:"text-lg font-bold text-gray-900",children:e.cost}),(0,u.jsx)("div",{className:"text-xs text-gray-500",children:"points"})]})]}),(0,u.jsx)("button",{disabled:n<e.cost,className:"w-full py-2 px-4 rounded-lg text-sm font-medium transition-colors ".concat(n>=e.cost?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white hover:from-yellow-500 hover:to-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:n>=e.cost?"Redeem Reward":"Not enough points"})]},e.id))})]}),"earn"===e&&(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Ways to Earn Points"}),(0,u.jsx)("div",{className:"space-y-3",children:[{action:"Complete daily health check-in",points:10,frequency:"Daily"},{action:"Upload medical documents",points:25,frequency:"Per document"},{action:"Share anonymized health data",points:30,frequency:"Per share"},{action:"Complete health assessments",points:50,frequency:"Per assessment"},{action:"Maintain medication adherence",points:20,frequency:"Weekly"},{action:"Attend scheduled appointments",points:40,frequency:"Per appointment"}].map((e,t)=>(0,u.jsx)(o.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.action}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:e.frequency})]}),(0,u.jsxs)("div",{className:"text-right",children:[(0,u.jsxs)("div",{className:"text-lg font-bold text-green-600",children:["+",e.points]}),(0,u.jsx)("div",{className:"text-xs text-gray-500",children:"points"})]})]})},t))}),(0,u.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,u.jsx)(Bn,{className:"w-5 h-5 text-blue-600"}),(0,u.jsx)("h4",{className:"font-semibold text-blue-900",children:"Pro Tip"})]}),(0,u.jsx)("p",{className:"text-sm text-blue-800",children:"Complete multiple activities daily to maximize your points and unlock exclusive rewards!"})]})]})]})]})},Hn=e=>{let{userData:t,onDataUpdate:n,onViewAuditLog:a,onNavigate:s}=e;const[i,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)((null===t||void 0===t?void 0:t.allowResearch)||!1),[d,h]=(0,r.useState)("en"),[f,p]=(0,r.useState)(!1),m=()=>{o(!i)},g=()=>{const e=!l;c(e),n({allowResearch:e})},y=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t())};return(0,u.jsxs)("div",{className:"min-h-screen bg-white pb-24 max-w-mobile mx-auto",children:[(0,u.jsx)("div",{className:"px-4 py-4",children:(0,u.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Settings"})}),(0,u.jsx)("div",{className:"px-4 mb-4",children:(0,u.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udc64"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:"John Doe"}),(0,u.jsx)("p",{className:"text-xs text-gray-600",children:"john.doe@example.com"})]})]})})}),(0,u.jsxs)("div",{className:"px-4 space-y-3",children:[(0,u.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-medium text-gray-900",children:"Research Participation"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Share data for research"})]}),(0,u.jsx)("div",{onClick:g,onKeyPress:e=>y(e,g),tabIndex:0,role:"switch","aria-checked":l,"aria-label":"Allow data sharing for research",className:"toggle-switch cursor-pointer ".concat(l?"active":"")})]})}),(0,u.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-medium text-gray-900",children:"Notifications"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Get updates about earnings"})]}),(0,u.jsx)("div",{onClick:m,onKeyPress:e=>y(e,m),tabIndex:0,role:"switch","aria-checked":i,"aria-label":"Enable notifications",className:"toggle-switch cursor-pointer ".concat(i?"active":"")})]})}),(0,u.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-medium text-gray-900",children:"Language"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"App language preference"})]}),(0,u.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,u.jsx)("option",{value:"en",children:"English"}),(0,u.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,u.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,u.jsx)("option",{value:"de",children:"Deutsch"}),(0,u.jsx)("option",{value:"zh",children:"\u4e2d\u6587"})]})]})}),(0,u.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-medium text-gray-900",children:"Dark Mode"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Switch to dark theme"})]}),(0,u.jsx)("div",{onClick:()=>p(!f),onKeyPress:e=>y(e,()=>p(!f)),tabIndex:0,role:"switch","aria-checked":f,"aria-label":"Toggle dark mode",className:"toggle-switch cursor-pointer ".concat(f?"active":"")})]})}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("button",{onClick:()=>null===s||void 0===s?void 0:s("consent-manager"),className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udee1\ufe0f"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Consent Manager"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Per-file and per-scope consents"})]})]})}),(0,u.jsx)("button",{onClick:()=>null===s||void 0===s?void 0:s("payouts"),className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udcb3"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Payouts"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"KYC and payout methods"})]})]})}),(0,u.jsx)("button",{onClick:()=>null===s||void 0===s?void 0:s("analytics"),className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udcc8"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Analytics"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Events and funnels"})]})]})}),(0,u.jsx)("button",{onClick:()=>null===s||void 0===s?void 0:s("ai"),className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83e\udd16"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"AI Insights"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Ask about your files"})]})]})}),(0,u.jsx)("button",{onClick:()=>null===s||void 0===s?void 0:s("trust-compliance"),className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udee1\ufe0f"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Trust & Compliance"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Policies and security"})]})]})}),(0,u.jsx)("button",{onClick:()=>null===s||void 0===s?void 0:s("pricing"),className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83c\udff7\ufe0f"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Pricing"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Doctor & Pharma"})]})]})}),(0,u.jsx)("button",{onClick:()=>null===s||void 0===s?void 0:s("legal"),className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udcdc"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Legal"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"ToS, Privacy, AUP"})]})]})}),(0,u.jsx)("button",{onClick:a,className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udccb"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Audit Log"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"View all data access"})]})]})}),(0,u.jsx)("button",{className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udcca"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Export Data"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Download your data"})]})]})}),(0,u.jsx)("button",{className:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\u2753"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Help & Support"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Get help"})]})]})}),(0,u.jsx)("button",{className:"w-full text-left p-3 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udeaa"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-red-900",children:"Sign Out"}),(0,u.jsx)("p",{className:"text-sm text-red-600",children:"Sign out of your account"})]})]})})]})]})]})},qn=(0,m.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),Gn=(0,m.A)("folder-closed",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]]),Kn=(0,m.A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$n=(0,m.A)("microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]),Yn=(0,m.A)("wallet-minimal",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]),Qn=(0,m.A)("pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Jn=e=>{let{currentScreen:t,onScreenChange:n,currentRole:r="patient"}=e;const a="doctor"===r?[{id:"doctor",label:"Research",icon:$n,screen:"doctor"},{id:"wallet",label:"Wallet",icon:Yn,screen:"wallet"},{id:"settings",label:"Settings",icon:Kn,screen:"settings"}]:"pharma"===r?[{id:"pharma",label:"Marketplace",icon:Qn,screen:"pharma"},{id:"wallet",label:"Wallet",icon:Yn,screen:"wallet"},{id:"settings",label:"Settings",icon:Kn,screen:"settings"}]:[{id:"dashboard",label:"Home",icon:qn,screen:"dashboard"},{id:"files",label:"Files",icon:Gn,screen:"files"},{id:"upload",label:"Upload",icon:Cn,screen:"upload"},{id:"points",label:"Points",icon:zn,screen:"points"},{id:"settings",label:"Settings",icon:Kn,screen:"settings"}];return(0,u.jsxs)("div",{className:"bottom-nav bg-white border-t border-gray-200 shadow-lg",style:{boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",backgroundColor:"rgba(255, 255, 255, 0.95)"},children:[(0,u.jsx)("div",{className:"flex items-center justify-around py-2",children:a.map((e,r)=>{const a=t===e.screen;return(0,u.jsxs)("button",{onClick:()=>n(e.screen),className:"flex flex-col items-center justify-center py-3 px-5 rounded-xl transition-all duration-200 ".concat(a?"text-blue-600":"text-gray-500 hover:text-gray-700"),"aria-label":"Navigate to ".concat(e.label),"aria-current":a?"page":void 0,children:[(0,u.jsx)(e.icon,{className:"w-6 h-6 mb-1"}),(0,u.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.id)})}),(0,u.jsx)("div",{className:"h-2",style:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)"}})]})},Xn=(0,m.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Zn=e=>{let{onInfoClick:t}=e;return(0,u.jsxs)("div",{className:"top-bar bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold text-sm",children:"C"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Chekup AI"}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"Health Management"})]})]}),(0,u.jsx)("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Trust & Policy Information",children:(0,u.jsx)(Xn,{className:"w-5 h-5"})})]})},er=(0,m.A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),tr=(0,m.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),nr=e=>{let{isOpen:t,onClose:n}=e;return t?(0,u.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onKeyDown:e=>{"Escape"===e.key&&n()},role:"dialog","aria-modal":"true",children:(0,u.jsxs)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",tabIndex:-1,children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,u.jsx)(er,{className:"w-5 h-5 text-blue-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Trust & Policy"}),(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Your data, your power"})]})]}),(0,u.jsx)("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:(0,u.jsx)(Tn.A,{className:"w-5 h-5"})})]}),(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,u.jsx)(tr,{className:"w-4 h-4 text-red-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"We don't store raw files"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Your original medical files never leave your device. We only work with anonymized, de-identified data for research purposes."})]})]}),(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,u.jsx)(En.A,{className:"w-4 h-4 text-green-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Consent-driven cloning"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"All data sharing requires your explicit consent. You can revoke access at any time, and all access is recorded in your audit log."})]})]}),(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,u.jsx)(er,{className:"w-4 h-4 text-blue-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"HIPAA Safe Harbor de-ID"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"All data is processed using HIPAA Safe Harbor standards for de-identification, ensuring your privacy is protected."})]})]}),(0,u.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,u.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Complete Audit Trail"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Every access to your data is logged with timestamps, actors, and actions. View your complete audit log in Settings."})]})]}),(0,u.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,u.jsx)("button",{onClick:n,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-medium hover:bg-blue-700 transition-colors",children:"Got it"})})]})}):null};var rr=n(680);const ar=(0,m.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),sr=(0,m.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ir=e=>{let{isOpen:t,onClose:n,receiptData:r}=e;if(!t)return null;const a={id:(null===r||void 0===r?void 0:r.id)||"CR-"+Math.random().toString(36).substr(2,9).toUpperCase(),timestamp:(null===r||void 0===r?void 0:r.timestamp)||(new Date).toISOString(),scope:"Research (de-identified only)",deIdMethod:"HIPAA Safe Harbor",revocation:"Future access only; past uses remain in audit log"};return(0,u.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onKeyDown:e=>{"Escape"===e.key&&n()},role:"dialog","aria-modal":"true",children:(0,u.jsxs)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-md w-full",tabIndex:-1,children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,u.jsx)(rr.A,{className:"w-5 h-5 text-green-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Consent Receipt"}),(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Your consent has been recorded"})]})]}),(0,u.jsx)("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:(0,u.jsx)(Tn.A,{className:"w-5 h-5"})})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Receipt ID"}),(0,u.jsx)("span",{className:"text-sm font-mono text-gray-900",children:a.id})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[(0,u.jsx)(ar,{className:"w-3 h-3"}),(0,u.jsx)("span",{children:new Date(a.timestamp).toLocaleString()})]})]}),(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,u.jsx)(er,{className:"w-4 h-4 text-blue-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Scope"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:a.scope})]})]}),(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,u.jsx)(er,{className:"w-4 h-4 text-purple-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"De-identification"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:a.deIdMethod})]})]}),(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,u.jsx)(sr,{className:"w-4 h-4 text-orange-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Revocation"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:a.revocation})]})]}),(0,u.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,u.jsxs)("p",{className:"text-xs text-yellow-800",children:[(0,u.jsx)("strong",{children:"Legal Notice:"})," This receipt serves as proof of your consent. All data access is logged and auditable. You can revoke consent at any time."]})})]}),(0,u.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,u.jsx)("button",{onClick:n,className:"w-full bg-green-600 text-white py-3 rounded-xl font-medium hover:bg-green-700 transition-colors",children:"Consent Saved"})})]})})},or=(0,m.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),lr=(0,m.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),cr=(0,m.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ur=e=>{let{isOpen:t,onClose:n,datasetName:a,onComplete:s}=e;const[i,l]=(0,r.useState)(0),[c,d]=(0,r.useState)(!1),h=[{id:"deidentify",title:"De-identify",description:"Removing all personal identifiers",icon:er,color:"text-red-600",bgColor:"bg-red-100"},{id:"normalize",title:"Normalize",description:"Standardizing data formats",icon:or,color:"text-blue-600",bgColor:"bg-blue-100"},{id:"package",title:"Package",description:"Creating secure dataset package",icon:lr,color:"text-green-600",bgColor:"bg-green-100"}];(0,r.useEffect)(()=>{t&&!c&&(d(!0),f())},[t]);const f=async()=>{for(let e=0;e<h.length;e++)l(e),await new Promise(e=>setTimeout(e,650));await new Promise(e=>setTimeout(e,500)),null===s||void 0===s||s()},p=()=>{l(0),d(!1),n()};return t?(0,u.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onKeyDown:e=>{"Escape"===e.key&&p()},role:"dialog","aria-modal":"true",children:(0,u.jsxs)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-md w-full",tabIndex:-1,children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Processing Dataset"}),(0,u.jsx)("p",{className:"text-sm text-gray-500",children:a})]}),(0,u.jsx)("button",{onClick:p,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:(0,u.jsx)(Tn.A,{className:"w-5 h-5"})})]}),(0,u.jsx)("div",{className:"space-y-4 mb-6",children:h.map((e,t)=>{const n=t===i,r=t<i,a=e.icon;return(0,u.jsxs)(o.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center space-x-3 p-3 rounded-lg transition-all duration-300 ".concat(n?"bg-blue-50 border border-blue-200":"bg-gray-50"),children:[(0,u.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(r?"bg-green-100":n?e.bgColor:"bg-gray-200"),children:r?(0,u.jsx)(cr,{className:"w-5 h-5 text-green-600"}):(0,u.jsx)(a,{className:"w-5 h-5 ".concat(n?e.color:"text-gray-400")})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("h3",{className:"font-medium ".concat(n?"text-blue-900":r?"text-green-900":"text-gray-600"),children:e.title}),(0,u.jsx)("p",{className:"text-sm ".concat(n?"text-blue-600":r?"text-green-600":"text-gray-500"),children:e.description})]}),n&&(0,u.jsx)(o.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"})]},e.id)})}),c&&(0,u.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-4",children:(0,u.jsx)("p",{className:"text-sm text-gray-600",children:i<h.length?"Processing: ".concat(h[i].title,"..."):"Finalizing dataset..."})}),i>=h.length&&(0,u.jsxs)(o.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-4",children:[(0,u.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,u.jsx)(cr,{className:"w-8 h-8 text-green-600"})}),(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dataset Ready!"}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Your dataset has been processed and is ready for download. Invoice has been sent to the buyer."}),(0,u.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,u.jsxs)("p",{className:"text-xs text-yellow-800",children:[(0,u.jsx)("strong",{children:"Note:"})," We don't store raw files. All data is processed using HIPAA Safe Harbor de-identification standards."]})}),(0,u.jsx)("button",{onClick:p,className:"w-full bg-green-600 text-white py-3 rounded-xl font-medium hover:bg-green-700 transition-colors",children:"Complete"})]}),c&&i<h.length&&(0,u.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,u.jsx)("button",{onClick:p,className:"w-full bg-gray-200 text-gray-700 py-2 rounded-xl font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})})]})}):null},dr=(0,m.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),hr=(0,m.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),fr=()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=e=>{e.preventDefault(),t(e),a(!0)},n=()=>{a(!1),t(null),console.log("PWA was installed")};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",n),window.matchMedia("(display-mode: standalone)").matches&&a(!1),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",n)}},[]);const c=()=>{a(!1),localStorage.setItem("pwa-banner-dismissed",Date.now().toString())};return(0,r.useEffect)(()=>{const e=localStorage.getItem("pwa-banner-dismissed");if(e){const t=parseInt(e);(Date.now()-t)/864e5<7&&a(!1)}},[]),n?(0,u.jsx)(i.N,{children:(0,u.jsx)(o.P.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-20 left-4 right-4 z-40",children:(0,u.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-4",children:(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,u.jsx)(dr,{className:"w-5 h-5 text-blue-600"})}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Install Chekup AI"}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Get the full app experience on your device. Works offline and feels like a native app."}),(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsxs)("button",{onClick:async()=>{if(!e)return;l(!0),e.prompt();const{outcome:n}=await e.userChoice;"accepted"===n?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),t(null),l(!1)},disabled:s,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,u.jsx)(hr,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:s?"Installing...":"Install"})]}),(0,u.jsx)("button",{onClick:c,className:"px-4 py-2 text-gray-500 hover:text-gray-700 text-sm font-medium transition-colors",children:"Maybe later"})]})]}),(0,u.jsx)("button",{onClick:c,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Dismiss banner",children:(0,u.jsx)(Tn.A,{className:"w-4 h-4"})})]})})})}):null};var pr=n(459);const mr=(0,m.A)("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),gr=(0,m.A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),yr=(0,m.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),vr=e=>{let{currentRole:t,onRoleChange:n,onScreenChange:a,onDataUpdate:s,onResetDemo:l,onRunDemoScript:c}=e;const[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),m=[{id:"patient",label:"Patient",icon:pr.A,color:"text-blue-600"},{id:"doctor",label:"Doctor",icon:mr,color:"text-green-600"},{id:"pharma",label:"Pharma",icon:Qn,color:"text-purple-600"}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.P.button,{onClick:()=>h(!d),className:"fixed top-4 right-4 z-30 bg-blue-600 text-white px-3 py-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(gr,{className:"w-4 h-4"}),(0,u.jsx)("span",{className:"text-sm font-medium",children:"Demo"}),(0,u.jsx)(yr,{className:"w-4 h-4 transition-transform ".concat(d?"rotate-180":"")})]})}),(0,u.jsx)(i.N,{children:d&&(0,u.jsx)(o.P.div,{initial:{opacity:0,scale:.9,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},className:"fixed top-16 right-4 z-30 bg-white rounded-2xl shadow-xl border border-gray-200 p-4 w-64",children:(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current Role"}),(0,u.jsx)("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:(()=>{const e=m.find(e=>e.id===t),n=(null===e||void 0===e?void 0:e.icon)||pr.A;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n,{className:"w-4 h-4 ".concat((null===e||void 0===e?void 0:e.color)||"text-gray-600")}),(0,u.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null===e||void 0===e?void 0:e.label)||"Patient"})]})})()})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Quick Switch"}),(0,u.jsx)("div",{className:"space-y-1",children:m.map(e=>{const r=e.icon;return(0,u.jsxs)("button",{onClick:()=>{return t=e.id,n(t),void h(!1);var t},className:"w-full flex items-center space-x-2 p-2 rounded-lg text-left transition-colors ".concat(t===e.id?"bg-blue-50 text-blue-600":"hover:bg-gray-50 text-gray-700"),children:[(0,u.jsx)(r,{className:"w-4 h-4 ".concat(e.color)}),(0,u.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.id)})})]}),(0,u.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("button",{onClick:async()=>{p(!0),await c(),p(!1),h(!1)},disabled:f,className:"w-full flex items-center justify-center space-x-2 bg-green-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,u.jsx)(gr,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:f?"Running...":"Run Demo Script"})]}),(0,u.jsxs)("button",{onClick:()=>{l(),h(!1)},className:"w-full flex items-center justify-center space-x-2 bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors",children:[(0,u.jsx)(sr,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Reset Demo"})]})]})}),(0,u.jsxs)("div",{className:"pt-2 border-t border-gray-200",children:[(0,u.jsx)("h4",{className:"text-xs font-semibold text-gray-900 mb-2",children:"Demo Script Steps:"}),(0,u.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,u.jsx)("p",{children:"1. Toggle consent \u2192 Show receipt"}),(0,u.jsx)("p",{children:"2. Switch to Doctor \u2192 View case"}),(0,u.jsx)("p",{children:"3. Switch to Pharma \u2192 Request dataset"}),(0,u.jsx)("p",{children:"4. Back to Patient \u2192 Check wallet"})]})]})]})})})]})},xr=(0,m.A)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),br=()=>{const[e,t]=(0,r.useState)(!navigator.onLine);return(0,r.useEffect)(()=>{const e=()=>t(!1),n=()=>t(!0);return window.addEventListener("online",e),window.addEventListener("offline",n),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}},[]),e?(0,u.jsx)("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 z-40 mt-16",children:(0,u.jsxs)("div",{className:"glass elev-2 px-3 py-2 rounded-full flex items-center space-x-2 text-sm text-gray-800 border border-white/40",children:[(0,u.jsx)(xr,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Offline mode \u2014 changes will sync when online"})]})}):null},wr=(0,m.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),kr=(0,m.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),jr=[{id:"research-general",label:"General Research",desc:"Academic, non-commercial studies"},{id:"pharma-rwd",label:"Pharma RWD",desc:"De-identified real\u2011world data for pharma research"},{id:"ai-models",label:"AI Model Training",desc:"Model training on de\u2011identified data"}],Sr=e=>{let{files:t=[],consents:n={},onChange:a}=e;const[i,o]=(0,r.useState)(n);return(0,u.jsxs)("div",{className:"px-6 py-4",children:[(0,u.jsxs)("div",{className:"flex items-center mb-4",children:[(0,u.jsx)(er,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,u.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Consent Manager"})]}),(0,u.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,u.jsxs)("div",{className:"bg-white card-premium p-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{className:"text-lg",children:e.icon}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:e.type||"Health File"})]})]}),(0,u.jsx)(wr,{className:"w-4 h-4 text-gray-400"})]}),(0,u.jsx)("div",{className:"grid grid-cols-1 gap-2",children:jr.map(t=>{const n="".concat(e.id,":").concat(t.id),r=!!i[n];return(0,u.jsxs)("button",{onClick:()=>((e,t)=>{const n="".concat(e,":").concat(t),r=(0,s.A)((0,s.A)({},i),{},{[n]:!i[n]});o(r),null===a||void 0===a||a(r)})(e.id,t.id),className:"flex items-center justify-between px-3 py-2 rounded-lg border ".concat(r?"border-green-300 bg-green-50":"border-gray-200 bg-gray-50 hover:bg-gray-100"),"aria-pressed":r,children:[(0,u.jsxs)("div",{className:"text-left",children:[(0,u.jsx)("p",{className:"text-sm font-medium ".concat(r?"text-green-700":"text-gray-800"),children:t.label}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:t.desc})]}),r?(0,u.jsx)(kr,{className:"w-4 h-4 text-green-600"}):(0,u.jsx)(Tn.A,{className:"w-4 h-4 text-gray-400"})]},t.id)})})]},e.id))})]})},_r=(0,m.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Nr=(0,m.A)("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]),Pr=()=>(0,u.jsxs)("div",{className:"min-h-screen bg-white pb-24",children:[(0,u.jsx)("div",{className:"px-6 py-6",children:(0,u.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Payouts"})}),(0,u.jsxs)("div",{className:"px-6 space-y-4",children:[(0,u.jsxs)("div",{className:"card-premium p-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,u.jsx)(er,{className:"w-5 h-5 text-blue-600"}),(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"KYC Verification"})]}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Verify your identity to enable payouts."}),(0,u.jsx)("button",{className:"btn-primary w-full",children:"Start Verification"})]}),(0,u.jsxs)("div",{className:"card-premium p-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,u.jsx)(_r,{className:"w-5 h-5 text-blue-600"}),(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Payout Methods"})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-3 rounded-lg bg-gray-50 hover:bg-gray-100",children:[(0,u.jsx)("span",{className:"text-sm text-gray-800",children:"Add Bank (ACH)"}),(0,u.jsx)(Nr,{className:"w-4 h-4 text-gray-500"})]}),(0,u.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-3 rounded-lg bg-gray-50 hover:bg-gray-100",children:[(0,u.jsx)("span",{className:"text-sm text-gray-800",children:"Add PayPal"}),(0,u.jsx)(_r,{className:"w-4 h-4 text-gray-500"})]})]})]}),(0,u.jsxs)("div",{className:"card-premium p-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,u.jsx)(rr.A,{className:"w-5 h-5 text-blue-600"}),(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Payout History"})]}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"No payouts yet."})]})]})]}),Cr=()=>(0,u.jsxs)("div",{className:"min-h-screen bg-white pb-24",children:[(0,u.jsx)("div",{className:"px-6 py-6",children:(0,u.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Legal"})}),(0,u.jsx)("div",{className:"px-6 space-y-4",children:[{title:"Terms of Service"},{title:"Privacy Policy"},{title:"Acceptable Use"}].map(e=>(0,u.jsxs)("div",{className:"card-premium p-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,u.jsx)(rr.A,{className:"w-5 h-5 text-blue-600"}),(0,u.jsx)("p",{className:"font-medium text-gray-900",children:e.title})]}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"This is a demo summary. Full document available upon request."})]},e.title))})]}),Er=(0,m.A)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Tr=(0,m.A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Ar=(0,m.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Rr=()=>(0,u.jsxs)("div",{className:"min-h-screen bg-white pb-24",children:[(0,u.jsx)("div",{className:"px-6 py-6",children:(0,u.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Support"})}),(0,u.jsxs)("div",{className:"px-6 space-y-4",children:[(0,u.jsxs)("div",{className:"card-premium p-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,u.jsx)(Er,{className:"w-5 h-5 text-blue-600"}),(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Help Center"})]}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Guides and FAQs (UI only)."}),(0,u.jsx)("button",{className:"btn-primary w-full mt-3",children:"Open Help"})]}),(0,u.jsxs)("div",{className:"card-premium p-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,u.jsx)(Tr,{className:"w-5 h-5 text-blue-600"}),(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Feedback"})]}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Send product feedback."}),(0,u.jsx)("button",{className:"w-full px-4 py-3 rounded-xl border border-gray-300 bg-white",children:"Send Feedback"})]}),(0,u.jsxs)("div",{className:"card-premium p-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,u.jsx)(Ar,{className:"w-5 h-5 text-blue-600"}),(0,u.jsx)("p",{className:"font-medium text-gray-900",children:"Contact"})]}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"support@chekup.ai"})]})]})]}),Dr=e=>{let{message:t,type:n="success",duration:a=3e3,onClose:s}=e;(0,r.useEffect)(()=>{const e=setTimeout(()=>{s()},a);return()=>clearTimeout(e)},[a,s]);return(0,u.jsx)(o.P.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},transition:{duration:.3,ease:"easeOut"},className:"fixed bottom-24 left-1/2 transform -translate-x-1/2 z-50 px-6 py-4 rounded-xl shadow-2xl max-w-sm w-full mx-4 ".concat((()=>{switch(n){case"success":return"bg-green-500 text-white";case"error":return"bg-red-500 text-white";case"warning":return"bg-yellow-500 text-white";case"info":return"bg-trust-blue text-white";default:return"bg-gray-500 text-white"}})()),children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("span",{className:"text-xl",children:(()=>{switch(n){case"success":return"\u2713";case"error":return"\u2715";case"warning":return"\u26a0";default:return"\u2139"}})()}),(0,u.jsx)("p",{className:"font-medium",children:t}),(0,u.jsx)("button",{onClick:s,className:"ml-auto text-white/80 hover:text-white transition-colors",children:"\u2715"})]})})},Or=e=>{let{toasts:t,removeToast:n}=e;return(0,u.jsx)(i.N,{children:t.map(e=>(0,u.jsx)(Dr,{message:e.message,type:e.type,duration:e.duration,onClose:()=>n(e.id)},e.id))})},Ir=(0,m.A)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Lr=(0,m.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Mr=e=>{let{files:t=[]}=e;const[n,a]=(0,r.useState)([{id:1,role:"assistant",text:"Hi! Ask me anything about your files \u2014 counts, trends, largest files, earnings, recent updates, and more."}]),[i,o]=(0,r.useState)(""),l=(0,r.useMemo)(()=>({total:t.length,byStatus:t.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),byType:t.reduce((e,t)=>{const n=t.type||"Other";return e[n]=(e[n]||0)+1,e},{}),totalEarnings:t.reduce((e,t)=>e+(Number(t.earnings)||0),0),recent:[...t].filter(e=>e.date).sort((e,t)=>new Date(t.date)-new Date(e.date)).slice(0,5),largest:[...t].map(e=>(0,s.A)((0,s.A)({},e),{},{_size:parseFloat(String(e.size||"0").replace(/[^0-9.]/g,""))||0})).sort((e,t)=>t._size-e._size)[0]}),[t]),c=e=>{const t=(e||"").toLowerCase(),{total:n,byStatus:r,byType:a,totalEarnings:s,recent:i,largest:o}=l;if(/(how many|count|total).*file/.test(t))return"You have ".concat(n," files: ").concat(r.private||0," private, ").concat(r.shared||0," shared, and ").concat(r.earned||0," that earned.");if(/shared|privacy|private/.test(t))return"Privacy breakdown \u2014 Private: ".concat(r.private||0,", Shared: ").concat(r.shared||0,". You can revoke sharing anytime from a file\u2019s details.");if(/type|category|imaging|lab|note|genomic|cardio|breakdown/.test(t)){const e=Object.entries(a).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join(", ");return"By type \u2014 ".concat(e||"No types found",".")}if(/earn|payout|money|balance/.test(t))return"Total earnings from files: $".concat(s.toFixed(2),". Files with earnings: ").concat(r.earned||0,".");if(/recent|latest|update/.test(t)){if(!i.length)return"No recent updates yet.";const e=i.map(e=>"\u2022 ".concat(e.date," \u2014 ").concat(e.name," (").concat(e.type,")")).join("\n");return"Latest updates:\n".concat(e)}if(/largest|biggest|size/.test(t)&&o)return"Largest file is ".concat(o.name," at ").concat(o.size||"\u2014"," (").concat(o.type,").");if(/suggest|which|share|recommend/.test(t))return"Suggestion: Share non-identifying results first (Lab/Imaging summaries). Keep raw clinical notes private until needed. You can toggle per file in Files \u2192 details.";const c=Object.entries(a).sort((e,t)=>t[1]-e[1]).slice(0,3).map(e=>{let[t,n]=e;return"".concat(t," (").concat(n,")")}).join(", ");return"Summary \u2014 ".concat(n," files, $").concat(s.toFixed(2)," earned. Top types: ").concat(c||"\u2014",". Ask things like \u201clatest updates\u201d, \u201ctype breakdown\u201d, or \u201clargest file\u201d.")},d=()=>{const e=i.trim();if(!e)return;const t={id:Date.now(),role:"user",text:e},n={id:Date.now()+1,role:"assistant",text:c(e)};a(e=>[...e,t,n]),o("")};return(0,u.jsxs)("div",{className:"min-h-screen bg-white pb-24",children:[(0,u.jsxs)("div",{className:"px-6 py-6 flex items-center space-x-2",children:[(0,u.jsx)(Ir,{className:"w-5 h-5 text-blue-600"}),(0,u.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"AI Insights"}),(0,u.jsxs)("span",{className:"ml-auto text-xs text-gray-500 flex items-center space-x-1",children:[(0,u.jsx)(An,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"demo"})]})]}),(0,u.jsx)("div",{className:"px-6 mb-3 flex flex-wrap gap-2",children:["How many files do I have?","Show type breakdown","What changed recently?","Which file is largest?","How much have I earned?"].map(e=>(0,u.jsx)("button",{onClick:()=>{o(e)},className:"px-3 py-1.5 rounded-full bg-gray-50 text-gray-700 text-xs hover:bg-gray-100",children:e},e))}),(0,u.jsx)("div",{className:"px-6 space-y-3",children:n.map(e=>(0,u.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,u.jsx)("div",{className:"max-w-[80%] rounded-2xl px-3 py-2 text-sm ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-50 text-gray-800 border border-gray-100"),children:(0,u.jsx)("pre",{className:"whitespace-pre-wrap font-sans",children:e.text})})},e.id))}),(0,u.jsx)("div",{className:"fixed bottom-16 left-1/2 -translate-x-1/2 w-full max-w-[375px] px-4",children:(0,u.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-2 flex items-center space-x-2 elev-2",children:[(0,u.jsx)("input",{value:i,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d()},className:"flex-1 px-3 py-2 outline-none",placeholder:"Ask about your files\u2026","aria-label":"Ask AI about your files"}),(0,u.jsx)("button",{onClick:d,className:"p-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:(0,u.jsx)(Lr,{className:"w-4 h-4"})})]})})]})},Ur=e=>{let{idx:t,title:n,desc:r,cta:a,onDo:s}=e;return(0,u.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:(0,u.jsxs)("div",{className:"flex items-start justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:["Step ",t]}),(0,u.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:n}),(0,u.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:r})]}),s&&(0,u.jsx)("button",{onClick:s,className:"ml-3 px-3 py-1 rounded-lg bg-blue-600 text-white text-xs",children:a||"Do it"})]})})},Fr=e=>{let{open:t,onClose:n,actions:r}=e;return t?(0,u.jsx)(i.N,{children:(0,u.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center",onClick:n,children:(0,u.jsxs)(o.P.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},className:"w-full max-w-[375px] bg-white rounded-t-2xl p-5",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,u.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Step-by-step Demo"}),(0,u.jsx)("button",{onClick:n,className:"text-gray-500 text-sm",children:"Close"})]}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)(Ur,{idx:1,title:"Patient \u2022 Toggle consent",desc:"Enable Research participation to generate a consent receipt and log the event.",cta:"Do it",onDo:null===r||void 0===r?void 0:r.consent}),(0,u.jsx)(Ur,{idx:2,title:"Doctor \u2022 View a case ($10)",desc:"Simulate a doctor viewing a similar case; patient earns $1 micro\u2011royalty.",cta:"Do it",onDo:null===r||void 0===r?void 0:r.doctor}),(0,u.jsx)(Ur,{idx:3,title:"Pharma \u2022 Request/Buy dataset",desc:"Run packaging and simulate a micro\u2011payout to the patient wallet.",cta:"Do it",onDo:null===r||void 0===r?void 0:r.pharma}),(0,u.jsx)(Ur,{idx:4,title:"Wallet \u2022 See new earnings",desc:"Open wallet to showcase updated balance and activity.",cta:"Open",onDo:null===r||void 0===r?void 0:r.wallet}),(0,u.jsx)(Ur,{idx:5,title:"Audit log \u2022 Verify access",desc:"Show immutable events recorded during the demo.",cta:"Open",onDo:null===r||void 0===r?void 0:r.audit})]}),(0,u.jsx)("div",{className:"mt-4 text-[11px] text-gray-500",children:"Tip: Use the role switch at the top to explore each perspective."})]})})}):null},zr=r.lazy(()=>n.e(878).then(n.bind(n,878))),Vr=r.lazy(()=>n.e(141).then(n.bind(n,141))),Br=r.lazy(()=>n.e(77).then(n.bind(n,77))),Wr=r.lazy(()=>n.e(712).then(n.bind(n,712))),Hr=r.lazy(()=>n.e(28).then(n.bind(n,28))),qr=r.lazy(()=>n.e(389).then(n.bind(n,389))),Gr=r.lazy(()=>n.e(675).then(n.bind(n,675))),Kr=r.lazy(()=>n.e(921).then(n.bind(n,921))),$r=()=>{const e={id:"demo-user",user_metadata:{full_name:"Jane Doe"}},[t,n]=(0,r.useState)("dashboard"),[a,p]=(0,r.useState)("patient"),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[k,j]=(0,r.useState)(null),[S,_]=(0,r.useState)([]),[N,P]=(0,r.useState)([]),[C,E]=(0,r.useState)(!1),[T,A]=(0,r.useState)({balance:0,files:[],allowResearch:!1}),R=e=>{A(t=>(0,s.A)((0,s.A)({},t),e))},D=e=>{_(t=>[...t,(0,s.A)((0,s.A)({},e),{},{id:Date.now(),timestamp:(new Date).toISOString()})])},O=()=>{A(e=>(0,s.A)((0,s.A)({},e),{},{allowResearch:!e.allowResearch})),D({actor:"Patient",action:"Research Consent Toggled",scope:"Data Sharing",details:"Research participation: ".concat(T.allowResearch?"Disabled":"Enabled")})},I=e=>{D({actor:"Doctor",action:"Viewed Research File",scope:e.condition,details:"File type: ".concat(e.type,", Patient: ").concat(e.age,"y ").concat(e.gender)}),M("Research file accessed","info")},L=e=>{j(e),w(!0),D({actor:"Pharma",action:"Requested Dataset",scope:e.name,details:"Dataset: ".concat(e.name,", Price: $").concat(e.price)})},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now();P(r=>[...r,{id:n,message:e,type:t}]),setTimeout(()=>U(n),5e3)},U=e=>{P(t=>t.filter(t=>t.id!==e))};return(0,u.jsxs)("div",{className:"min-h-screen bg-white relative",children:[(0,u.jsx)(Zn,{onInfoClick:()=>g(!0)}),(0,u.jsx)(i.N,{mode:"wait",children:(0,u.jsx)(o.P.div,{custom:1,initial:c.initial(1),animate:c.animate,exit:c.exit(-1),transition:l,className:"w-full app-container",children:(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("div",{className:"px-6 py-6 text-gray-500",children:"Loading\u2026"}),children:(()=>{switch(t){case"splash":return(0,u.jsx)(d,{});case"onboarding":return(0,u.jsx)(h,{});case"dashboard":return(0,u.jsx)(x,{user:e,onNavigate:n});case"doctor":return(0,u.jsx)(zr,{onViewCase:I,sharedFiles:T.files});case"files":return(0,u.jsx)(Dn,{});case"pharma":return(0,u.jsx)(Vr,{onRequestDataset:L});case"wallet":return(0,u.jsx)(In,{userData:T,onDataUpdate:R});case"points":return(0,u.jsx)(Wn,{});case"settings":return(0,u.jsx)(Hn,{userData:T,onDataUpdate:R,onViewAuditLog:()=>n("audit-log"),onNavigate:n});case"family":return(0,u.jsx)(Br,{});case"upload":return(0,u.jsx)(On,{});case"chatbot":return(0,u.jsx)(Wr,{});case"audit-log":return(0,u.jsx)(Hr,{events:S});case"consent-manager":return(0,u.jsx)(Sr,{onConsentToggle:O,allowResearch:T.allowResearch});case"payouts":return(0,u.jsx)(Pr,{userData:T});case"trust-compliance":return(0,u.jsx)(qr,{});case"analytics":return(0,u.jsx)(Gr,{userData:T});case"pricing":return(0,u.jsx)(Kr,{});case"legal":return(0,u.jsx)(Cr,{});case"support":return(0,u.jsx)(Rr,{});case"ai":return(0,u.jsx)(Mr,{});default:return(0,u.jsx)(f,{userData:T,onDataUpdate:R,onConsentToggle:O,onNavigate:n})}})()})},t)}),(0,u.jsx)(Jn,{currentScreen:t,onScreenChange:e=>{n(e)},currentRole:"patient"}),(0,u.jsx)(nr,{isOpen:m,onClose:()=>g(!1)}),(0,u.jsx)(ir,{isOpen:y,onClose:()=>v(!1)}),(0,u.jsx)(ur,{isOpen:b,onClose:()=>w(!1),dataset:k,onComplete:e=>{w(!1),M("Dataset request submitted successfully","success")}}),(0,u.jsx)(fr,{}),(0,u.jsx)(br,{}),(0,u.jsx)(vr,{onReset:()=>{A({balance:0,files:[],allowResearch:!1}),_([]),P([])},onRunScript:()=>{M("Demo script completed","success")},onShowGuide:()=>E(!0)}),C&&(0,u.jsx)(Fr,{onClose:()=>E(!1)}),(0,u.jsx)(Or,{toasts:N,removeToast:U})]})};const Yr=function(){return(0,u.jsx)($r,{})};a.createRoot(document.getElementById("root")).render((0,u.jsx)(r.StrictMode,{children:(0,u.jsx)(Yr,{})}))})();
//# sourceMappingURL=main.affa1558.js.map