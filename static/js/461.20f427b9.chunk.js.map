{"version":3,"file":"static/js/461.20f427b9.chunk.js","mappings":";oNAGO,MAkBDA,GAAOC,EAAAA,EAAAA,GAAiB,OAlBM,CAClC,CAAC,OAAQ,CAAEC,GAAI,IAAKC,GAAI,KAAMC,GAAI,IAAKC,GAAI,IAAKC,IAAK,WACrD,CAAC,OAAQ,CAAEJ,GAAI,IAAKC,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,IAAK,WACvD,CAAC,OAAQ,CAAEJ,GAAI,KAAMC,GAAI,IAAKC,GAAI,IAAKC,GAAI,KAAMC,IAAK,WACtD,CAAC,OAAQ,CAAEJ,GAAI,KAAMC,GAAI,KAAMC,GAAI,IAAKC,GAAI,KAAMC,IAAK,aCiBnDC,GAAgBN,EAAAA,EAAAA,GAAiB,iBArBH,CAClC,CACE,OACA,CACEO,EAAG,8HACHF,IAAK,a,aCJX,MA2QA,EA3QyBG,IAAuC,IAADC,EAAAC,EAAA,IAArC,WAAEC,EAAU,YAAEC,EAAc,IAAIJ,EACxD,MAAOK,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,KACxCC,EAAaC,IAAkBF,EAAAA,EAAAA,WAAS,IACxCG,EAAeC,IAAoBJ,EAAAA,EAAAA,UAAS,KAC5CK,EAAQC,IAAaN,EAAAA,EAAAA,UAAS,QAC9BO,EAAcC,IAAmBR,EAAAA,EAAAA,UAAS,OAC1CS,EAAYC,IAAiBV,EAAAA,EAAAA,WAAS,IACtCW,EAAYC,IAAiBZ,EAAAA,EAAAA,UAAS,KACtCa,EAASC,IAAcd,EAAAA,EAAAA,UAAS,IAGjCe,GAAQC,EAAAA,EAAAA,SAAQ,IACbnB,EACJQ,OAAOY,GAAkB,WAAbA,EAAEC,QAAoC,WAAbD,EAAEC,QACvCC,IAAI,CAACF,EAAGG,KAAG,CACVC,GAAIJ,EAAEI,IAAMD,EACZE,UAAWL,EAAEM,KACbC,KAAMP,EAAEO,KACRC,OAAQR,EAAEQ,SAAWL,EAAM,IAAM,EAAI,OAAS,UAC9CM,IAAKT,EAAES,KAAQ,GAAMN,EAAM,GAC3BO,aAAcV,EAAEW,MAAQ,eACxBC,YAAY,GAADC,OAAKb,EAAEO,KAAI,YAAAM,OAAMb,EAAEc,MAAQ,SAAG,YAAAD,OAAMb,EAAEe,MAAQ,IACzDC,YAAahB,EAAEgB,YACfC,SAAUjB,KAEb,CAACpB,IAGJsC,EAAAA,UAAgB,KACd/B,EAAiBW,IAChB,CAACA,IAEJ,MAAMqB,EAAgBC,IACpBtC,EAAesC,GACfnC,GAAe,GAGfoC,WAAW,KACT,MAAMC,EAAOxB,EACPyB,EAAWD,EAAKlC,OAAOoC,GAC3BA,EAASnB,UAAUoB,cAAcC,SAASN,EAAMK,gBAChDD,EAASZ,YAAYa,cAAcC,SAASN,EAAMK,gBAE9CE,EAAuB,QAAXvC,EAAoBmC,EAAWA,EAASnC,OAAOwC,GAAKA,EAAEpB,OAAOiB,gBAAkBrC,GACjGD,EAAiBiC,EAAQO,EAAqB,QAATvC,EAAiBkC,EAAOA,EAAKlC,OAAOwC,GAAGA,EAAEpB,OAAOiB,gBAAgBrC,IACrGH,GAAe,IACd,MAQC4C,EAAeA,KACnB,IAAKjC,EAAQkC,OAAQ,OAErB,MAAMC,EAAc,CAAExB,KAAM,OAAQyB,KAAMpC,GAC1CD,EAAcsC,GAAQ,IAAIA,EAAMF,IAGhCV,WAAW,KAAO,IAADa,EACf,MAAMC,EAAa,CACjB5B,KAAM,KACNyB,KAAK,iBAADnB,OAA+B,OAAZvB,QAAY,IAAZA,OAAY,EAAZA,EAAciB,KAAI,2CAAAM,OAAsD,OAAZvB,QAAY,IAAZA,OAAY,EAAZA,EAAce,UAAS,mDAAAQ,OAA8D,OAAZvB,QAAY,IAAZA,OAAY,EAAZA,EAAcmB,IAAG,cAAAI,OAAyB,OAAZvB,QAAY,IAAZA,GAAoB,QAAR4C,EAAZ5C,EAAckB,cAAM,IAAA0B,OAAR,EAAZA,EAAsBT,cAAa,qDAE/N9B,EAAcsC,GAAQ,IAAIA,EAAME,KAC/B,KAEHtC,EAAW,KAGPuC,GAAQrC,EAAAA,EAAAA,SAAQ,KACpB,MAAMsC,EAAQnD,EAAcoD,OAC5B,GAAc,IAAVD,EAAa,MAAO,wDACxB,MAAME,EAASrD,EAAcE,OAAOwC,GAAc,WAAXA,EAAEpB,QAAmB8B,OAC5D,MAAM,WAANzB,OAAkB0B,EAAM,KAAA1B,OAAIwB,EAAK,wEAChC,CAACnD,IAEJ,OACEsD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mDAAkDC,SAAA,EAE/DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,sCAAqCC,SAAC,uBACpDC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,iCAAgCC,SAAC,wDAC9CC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,wBAAuBC,SAAC,4DAIvCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SACEpC,KAAK,OACLqC,MAAO/D,EACPgE,SAAWC,GAAM3B,EAAa2B,EAAEC,OAAOH,OACvCI,YAAY,kBACZP,UAAU,uIAEZD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,EAC1CC,EAAAA,EAAAA,KAAA,UAAQM,QAASA,KAAM5D,EAAU,OAAQ8B,EAAatC,IAAiB4D,UAAS,6BAAA5B,OAAwC,QAATzB,EAAe,4BAA4B,6BAA8BsD,SAAC,SACzLC,EAAAA,EAAAA,KAAA,UAAQM,QAASA,KAAM5D,EAAU,UAAW8B,EAAatC,IAAiB4D,UAAS,6BAAA5B,OAAwC,WAATzB,EAAkB,4BAA4B,6BAA8BsD,SAAC,YAC/LC,EAAAA,EAAAA,KAAA,UAAQM,QAASA,KAAM5D,EAAU,QAAS8B,EAAatC,IAAiB4D,UAAS,6BAAA5B,OAAwC,SAATzB,EAAgB,4BAA4B,6BAA8BsD,SAAC,aAE7LF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,wBAAuBC,SAAA,CAAExD,EAAcoD,OAAO,qBAKlEK,EAAAA,EAAAA,KAAA,OAAKF,UAAU,OAAMC,UACnBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SACvBxD,EAAcgB,IAAI,CAACsB,EAAU0B,KAC5BV,EAAAA,EAAAA,MAAA,OAEEC,UAAU,kGAAiGC,SAAA,EAE3GF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6CAA4CC,SAAA,EACzDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAElB,EAASd,gBAClD8B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6CAA4CC,SAAElB,EAASnB,aACpEsC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,iCAAgCC,SAAElB,EAASZ,cACvDY,EAASR,cACRwB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,gFAA+EC,SAAA,CAAC,aAAWlB,EAASR,sBAI1HwB,EAAAA,EAAAA,MAAA,UACES,QAASA,IA7ECzB,KACtBjC,EAAgBiC,GACN,OAAV7C,QAAU,IAAVA,GAAAA,EAAa6C,IA2Ec2B,CAAe3B,GAC9BiB,UAAU,sIAAqIC,SAAA,EAE/IC,EAAAA,EAAAA,KAACS,EAAAA,EAAG,CAACX,UAAU,aACfE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,mBAAkBC,SAAC,cAlBhClB,EAASpB,UA0BtBuC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,UACxBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kDAAiDC,SAC7DN,OAKLO,EAAAA,EAAAA,KAACU,EAAAA,EAAe,CAAAX,SACbpD,IACCqD,EAAAA,EAAAA,KAACW,EAAAA,EAAOC,IAAG,CACTC,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBE,KAAM,CAAEF,QAAS,GACjBhB,UAAU,iFAAgFC,UAE1FF,EAAAA,EAAAA,MAACc,EAAAA,EAAOC,IAAG,CACTC,QAAS,CAAEI,MAAO,GAAKH,QAAS,GAChCC,QAAS,CAAEE,MAAO,EAAGH,QAAS,GAC9BE,KAAM,CAAEC,MAAO,GAAKH,QAAS,GAC7BhB,UAAU,oEAAmEC,SAAA,EAG7EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDC,SAAA,EAC7DC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,wBAAuBC,SAAC,kBACtCC,EAAAA,EAAAA,KAAA,UACEM,QAASA,KACP1D,EAAgB,MAChBE,GAAc,GACdE,EAAc,KAEhB8C,UAAU,gCAA+BC,UAEzCC,EAAAA,EAAAA,KAACkB,EAAAA,EAAC,CAACpB,UAAU,kBAKjBD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EAErDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mFAAkFC,UAC/FC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAEpD,EAAaoB,kBAE3CiC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,8BAA6BC,SAAEpD,EAAae,gBAI5DmC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCC,SAAA,EAClDC,EAAAA,EAAAA,KAACmB,EAAAA,EAAQ,CAACrB,UAAU,2BACpBE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,WAChCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,cAAaC,SAAEpD,EAAaiB,WAE9CiC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCC,SAAA,EAClDC,EAAAA,EAAAA,KAACoB,EAAAA,EAAI,CAACtB,UAAU,2BAChBE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,cAChCF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,cAAaC,SAAA,CAAEpD,EAAamB,IAAI,MAAInB,EAAakB,cAEnEgC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCC,SAAA,EAClDC,EAAAA,EAAAA,KAACqB,EAAAA,EAAQ,CAACvB,UAAU,2BACpBE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,WAChCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,cAAaC,UAAuB,QAArBjE,EAAAa,EAAa2B,gBAAQ,IAAAxC,OAAA,EAArBA,EAAuBsC,OAAQ,eAEhEyB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCC,SAAA,EAClDC,EAAAA,EAAAA,KAAC5E,EAAI,CAAC0E,UAAU,2BAChBE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,WAChCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,cAAaC,UAAuB,QAArBhE,EAAAY,EAAa2B,gBAAQ,IAAAvC,OAAA,EAArBA,EAAuBoC,OAAQ,kBAKlE6B,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,UAC5BF,EAAAA,EAAAA,MAAA,UACES,QAASA,IAAMxD,GAAeD,GAC9BiD,UAAU,oIAAmIC,SAAA,EAE7IC,EAAAA,EAAAA,KAACrE,EAAa,CAACmE,UAAU,aACzBE,EAAAA,EAAAA,KAAA,QAAAD,SAAOlD,EAAa,OAAS,gCAKhCA,IACCgD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oCAAmCC,SAAC,kBACnDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qDAAoDC,SAC1C,IAAtBhD,EAAW4C,QACVK,EAAAA,EAAAA,KAAA,KAAGF,UAAU,wBAAuBC,SAAC,uCAErChD,EAAWQ,IAAI,CAAC+D,EAAK9D,KACnBwC,EAAAA,EAAAA,KAAA,OAAeF,UAAS,QAAA5B,OAAuB,SAAboD,EAAI1D,KAAkB,aAAe,aAAcmC,UACnFC,EAAAA,EAAAA,KAAA,OAAKF,UAAS,oCAAA5B,OACC,SAAboD,EAAI1D,KACA,yBACA,0BACHmC,SACAuB,EAAIjC,QANC7B,OAYhBqC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,SACEpC,KAAK,OACLqC,MAAOhD,EACPiD,SAAWC,GAAMjD,EAAWiD,EAAEC,OAAOH,OACrCI,YAAY,yBACZP,UAAU,uHACVyB,WAAapB,GAAgB,UAAVA,EAAEzE,KAAmBwD,OAE1Cc,EAAAA,EAAAA,KAAA,UACEM,QAASpB,EACTY,UAAU,wEAAuEC,SAClF,4B,iCC7PhB,MAkBDsB,GAAWhG,E,OAAAA,GAAiB,WAlBE,CAClC,CAAC,OAAQ,CAAEO,EAAG,SAAUF,IAAK,WAC7B,CAAC,OAAQ,CAAEE,EAAG,UAAWF,IAAK,WAC9B,CAAC,OAAQ,CAAE8F,MAAO,KAAMC,OAAQ,KAAMC,EAAG,IAAKC,EAAG,IAAKC,GAAI,IAAKlG,IAAK,WACpE,CAAC,OAAQ,CAAEE,EAAG,WAAYF,IAAK,Y","sources":["../node_modules/lucide-react/src/icons/hash.ts","../node_modules/lucide-react/src/icons/message-circle.ts","components/DoctorViewScreen.js","../node_modules/lucide-react/src/icons/calendar.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '4', x2: '20', y1: '9', y2: '9', key: '4lhtct' }],\n  ['line', { x1: '4', x2: '20', y1: '15', y2: '15', key: 'vyu0kd' }],\n  ['line', { x1: '10', x2: '8', y1: '3', y2: '21', key: '1ggp8o' }],\n  ['line', { x1: '16', x2: '14', y1: '3', y2: '21', key: 'weycgp' }],\n];\n\n/**\n * @component @name Hash\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iNCIgeDI9IjIwIiB5MT0iOSIgeTI9IjkiIC8+CiAgPGxpbmUgeDE9IjQiIHgyPSIyMCIgeTE9IjE1IiB5Mj0iMTUiIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iOCIgeTE9IjMiIHkyPSIyMSIgLz4KICA8bGluZSB4MT0iMTYiIHgyPSIxNCIgeTE9IjMiIHkyPSIyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/hash\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Hash = createLucideIcon('hash', __iconNode);\n\nexport default Hash;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719',\n      key: '1sd12s',\n    },\n  ],\n];\n\n/**\n * @component @name MessageCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi45OTIgMTYuMzQyYTIgMiAwIDAgMSAuMDk0IDEuMTY3bC0xLjA2NSAzLjI5YTEgMSAwIDAgMCAxLjIzNiAxLjE2OGwzLjQxMy0uOTk4YTIgMiAwIDAgMSAxLjA5OS4wOTIgMTAgMTAgMCAxIDAtNC43NzctNC43MTkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/message-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageCircle = createLucideIcon('message-circle', __iconNode);\n\nexport default MessageCircle;\n","import React, { useMemo, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { X, MessageCircle, Eye, FileText, Calendar, User, Hash } from 'lucide-react';\r\n\r\nconst DoctorViewScreen = ({ onViewCase, sharedFiles = [] }) => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [filter, setFilter] = useState('all');\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [showAIChat, setShowAIChat] = useState(false);\r\n  const [aiMessages, setAiMessages] = useState([]);\r\n  const [aiInput, setAiInput] = useState('');\r\n\r\n  // Transform shared files into research items for doctors (no raw content, no money)\r\n  const cases = useMemo(() => {\r\n    return sharedFiles\r\n      .filter(f => f.status === 'shared' || f.status === 'earned')\r\n      .map((f, idx) => ({\r\n        id: f.id || idx,\r\n        condition: f.name,\r\n        type: f.type,\r\n        gender: f.gender || (idx % 2 === 0 ? 'Male' : 'Female'),\r\n        age: f.age || (28 + (idx % 30)),\r\n        mriThumbnail: f.icon || '📄',\r\n        description: `${f.type} • ${f.size || '—'} • ${f.date || ''}`,\r\n        shareTarget: f.shareTarget,\r\n        fullData: f // Store full file data for preview\r\n      }));\r\n  }, [sharedFiles]);\r\n\r\n  // Initialize search results with current cases\r\n  React.useEffect(() => {\r\n    setSearchResults(cases);\r\n  }, [cases]);\r\n\r\n  const handleSearch = (query) => {\r\n    setSearchQuery(query);\r\n    setIsSearching(true);\r\n    \r\n    // Simulate search delay\r\n    setTimeout(() => {\r\n      const base = cases;\r\n      const filtered = base.filter(caseData => \r\n        caseData.condition.toLowerCase().includes(query.toLowerCase()) ||\r\n        caseData.description.toLowerCase().includes(query.toLowerCase())\r\n      );\r\n      const byFilter = (filter === 'all') ? filtered : filtered.filter(c => c.gender.toLowerCase() === filter);\r\n      setSearchResults(query ? byFilter : (filter==='all' ? base : base.filter(c=>c.gender.toLowerCase()===filter)));\r\n      setIsSearching(false);\r\n    }, 500);\r\n  };\r\n\r\n  const handleViewCase = (caseData) => {\r\n    setSelectedFile(caseData);\r\n    onViewCase?.(caseData);\r\n  };\r\n\r\n  const handleAISend = () => {\r\n    if (!aiInput.trim()) return;\r\n    \r\n    const userMessage = { type: 'user', text: aiInput };\r\n    setAiMessages(prev => [...prev, userMessage]);\r\n    \r\n    // Simulate AI response\r\n    setTimeout(() => {\r\n      const aiResponse = {\r\n        type: 'ai',\r\n        text: `Based on this ${selectedFile?.type} file, I can see patterns that suggest ${selectedFile?.condition}. The data shows typical characteristics for a ${selectedFile?.age}-year-old ${selectedFile?.gender?.toLowerCase()}. Would you like me to analyze specific aspects?`\r\n      };\r\n      setAiMessages(prev => [...prev, aiResponse]);\r\n    }, 1000);\r\n    \r\n    setAiInput('');\r\n  };\r\n\r\n  const aiTip = useMemo(() => {\r\n    const count = searchResults.length;\r\n    if (count === 0) return 'No results. Try broader terms (e.g., \"hypertension\").';\r\n    const female = searchResults.filter(c=>c.gender==='Female').length;\r\n    return `AI tip: ${female}/${count} matches are female; consider age 40–60 for better similarity.`;\r\n  }, [searchResults]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white pb-24 max-w-mobile mx-auto\">\r\n      {/* Header */}\r\n      <div className=\"px-4 py-4\">\r\n        <h1 className=\"text-lg font-semibold text-gray-900\">Research Database</h1>\r\n        <p className=\"text-[10px] text-gray-500 mt-1\">No raw files are shared here. Views are simulated.</p>\r\n        <p className=\"text-xs text-gray-500\">Browse patient-shared records for research purposes</p>\r\n      </div>\r\n\r\n      {/* Search Bar */}\r\n      <div className=\"px-4 mb-4\">\r\n        <input\r\n          type=\"text\"\r\n          value={searchQuery}\r\n          onChange={(e) => handleSearch(e.target.value)}\r\n          placeholder=\"Search cases...\"\r\n          className=\"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n        />\r\n        <div className=\"flex items-center justify-between mt-2\">\r\n          <div className=\"flex items-center space-x-1\">\r\n            <button onClick={()=>{ setFilter('all'); handleSearch(searchQuery); }} className={`px-2 py-1 rounded text-xs ${filter==='all'?'bg-blue-100 text-blue-700':'bg-gray-100 text-gray-600'}`}>All</button>\r\n            <button onClick={()=>{ setFilter('female'); handleSearch(searchQuery); }} className={`px-2 py-1 rounded text-xs ${filter==='female'?'bg-blue-100 text-blue-700':'bg-gray-100 text-gray-600'}`}>Female</button>\r\n            <button onClick={()=>{ setFilter('male'); handleSearch(searchQuery); }} className={`px-2 py-1 rounded text-xs ${filter==='male'?'bg-blue-100 text-blue-700':'bg-gray-100 text-gray-600'}`}>Male</button>\r\n          </div>\r\n          <span className=\"text-xs text-gray-500\">{searchResults.length} matches</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Results */}\r\n      <div className=\"px-4\">\r\n        <div className=\"space-y-2\">\r\n          {searchResults.map((caseData, index) => (\r\n            <div\r\n              key={caseData.id}\r\n              className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\r\n            >\r\n              <div className=\"flex items-center space-x-3 flex-1 min-w-0\">\r\n                <span className=\"text-lg flex-shrink-0\">{caseData.mriThumbnail}</span>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <p className=\"font-medium text-gray-900 text-sm truncate\">{caseData.condition}</p>\r\n                  <p className=\"text-xs text-gray-600 truncate\">{caseData.description}</p>\r\n                  {caseData.shareTarget && (\r\n                    <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-gray-100 text-gray-600 inline-block mt-1\">Shared to {caseData.shareTarget}</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => handleViewCase(caseData)}\r\n                className=\"flex items-center space-x-1 px-2 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 transition-colors flex-shrink-0\"\r\n              >\r\n                <Eye className=\"w-3 h-3\" />\r\n                <span className=\"hidden sm:inline\">View</span>\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* AI Tip */}\r\n      <div className=\"px-4 mt-4\">\r\n        <div className=\"text-xs text-blue-700 bg-blue-50 rounded-lg p-2\">\r\n          {aiTip}\r\n        </div>\r\n      </div>\r\n\r\n      {/* File Preview Modal */}\r\n      <AnimatePresence>\r\n        {selectedFile && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.9, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.9, opacity: 0 }}\r\n              className=\"bg-white rounded-2xl w-full max-w-sm max-h-[80vh] overflow-hidden\"\r\n            >\r\n              {/* Header */}\r\n              <div className=\"flex items-center justify-between p-4 border-b\">\r\n                <h3 className=\"text-lg font-semibold\">File Preview</h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setSelectedFile(null);\r\n                    setShowAIChat(false);\r\n                    setAiMessages([]);\r\n                  }}\r\n                  className=\"p-1 hover:bg-gray-100 rounded\"\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Content */}\r\n              <div className=\"p-4 space-y-4 max-h-96 overflow-y-auto\">\r\n                {/* File Icon */}\r\n                <div className=\"text-center\">\r\n                  <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2\">\r\n                    <span className=\"text-2xl\">{selectedFile.mriThumbnail}</span>\r\n                  </div>\r\n                  <h4 className=\"font-semibold text-gray-900\">{selectedFile.condition}</h4>\r\n                </div>\r\n\r\n                {/* File Details */}\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center space-x-2 text-sm\">\r\n                    <FileText className=\"w-4 h-4 text-gray-500\" />\r\n                    <span className=\"text-gray-600\">Type:</span>\r\n                    <span className=\"font-medium\">{selectedFile.type}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2 text-sm\">\r\n                    <User className=\"w-4 h-4 text-gray-500\" />\r\n                    <span className=\"text-gray-600\">Patient:</span>\r\n                    <span className=\"font-medium\">{selectedFile.age}y, {selectedFile.gender}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2 text-sm\">\r\n                    <Calendar className=\"w-4 h-4 text-gray-500\" />\r\n                    <span className=\"text-gray-600\">Date:</span>\r\n                    <span className=\"font-medium\">{selectedFile.fullData?.date || 'Recent'}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2 text-sm\">\r\n                    <Hash className=\"w-4 h-4 text-gray-500\" />\r\n                    <span className=\"text-gray-600\">Size:</span>\r\n                    <span className=\"font-medium\">{selectedFile.fullData?.size || '—'}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* AI Chat Toggle */}\r\n                <div className=\"pt-4 border-t\">\r\n                  <button\r\n                    onClick={() => setShowAIChat(!showAIChat)}\r\n                    className=\"w-full flex items-center justify-center space-x-2 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n                  >\r\n                    <MessageCircle className=\"w-4 h-4\" />\r\n                    <span>{showAIChat ? 'Hide' : 'Ask AI about this file'}</span>\r\n                  </button>\r\n                </div>\r\n\r\n                {/* AI Chat */}\r\n                {showAIChat && (\r\n                  <div className=\"mt-4 space-y-3\">\r\n                    <div className=\"text-sm font-medium text-gray-700\">AI Assistant</div>\r\n                    <div className=\"bg-gray-50 rounded-lg p-3 max-h-32 overflow-y-auto\">\r\n                      {aiMessages.length === 0 ? (\r\n                        <p className=\"text-sm text-gray-500\">Ask me anything about this file...</p>\r\n                      ) : (\r\n                        aiMessages.map((msg, idx) => (\r\n                          <div key={idx} className={`mb-2 ${msg.type === 'user' ? 'text-right' : 'text-left'}`}>\r\n                            <div className={`inline-block p-2 rounded text-xs ${\r\n                              msg.type === 'user' \r\n                                ? 'bg-blue-600 text-white' \r\n                                : 'bg-white text-gray-800'\r\n                            }`}>\r\n                              {msg.text}\r\n                            </div>\r\n                          </div>\r\n                        ))\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex space-x-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={aiInput}\r\n                        onChange={(e) => setAiInput(e.target.value)}\r\n                        placeholder=\"Ask about this file...\"\r\n                        className=\"flex-1 px-3 py-2 text-xs border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        onKeyPress={(e) => e.key === 'Enter' && handleAISend()}\r\n                      />\r\n                      <button\r\n                        onClick={handleAISend}\r\n                        className=\"px-3 py-2 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700\"\r\n                      >\r\n                        Send\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoctorViewScreen;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n"],"names":["Hash","createLucideIcon","x1","x2","y1","y2","key","MessageCircle","d","_ref","_selectedFile$fullDat","_selectedFile$fullDat2","onViewCase","sharedFiles","searchQuery","setSearchQuery","useState","isSearching","setIsSearching","searchResults","setSearchResults","filter","setFilter","selectedFile","setSelectedFile","showAIChat","setShowAIChat","aiMessages","setAiMessages","aiInput","setAiInput","cases","useMemo","f","status","map","idx","id","condition","name","type","gender","age","mriThumbnail","icon","description","concat","size","date","shareTarget","fullData","React","handleSearch","query","setTimeout","base","filtered","caseData","toLowerCase","includes","byFilter","c","handleAISend","trim","userMessage","text","prev","_selectedFile$gender","aiResponse","aiTip","count","length","female","_jsxs","className","children","_jsx","value","onChange","e","target","placeholder","onClick","index","handleViewCase","Eye","AnimatePresence","motion","div","initial","opacity","animate","exit","scale","X","FileText","User","Calendar","msg","onKeyPress","width","height","x","y","rx"],"sourceRoot":""}